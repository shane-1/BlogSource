import{_ as o,r as t,o as r,c as l,a as s,b as e,e as p,d as n}from"./app.a189e6da.js";const c={},k=p('<h1 id="mysql\u7D22\u5F15\u80CC\u540E\u7684\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#mysql\u7D22\u5F15\u80CC\u540E\u7684\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u539F\u7406" aria-hidden="true">#</a> MySQL\u7D22\u5F15\u80CC\u540E\u7684\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u539F\u7406</h1><blockquote><p>\u4F5C\u8005 \u5F20\u6D0B | \u53D1\u5E03\u4E8E 2011-10-18</p></blockquote><h2 id="\u6458\u8981" tabindex="-1"><a class="header-anchor" href="#\u6458\u8981" aria-hidden="true">#</a> \u6458\u8981</h2><p>\u672C\u6587\u4EE5MySQL\u6570\u636E\u5E93\u4E3A\u7814\u7A76\u5BF9\u8C61\uFF0C\u8BA8\u8BBA\u4E0E\u6570\u636E\u5E93\u7D22\u5F15\u76F8\u5173\u7684\u4E00\u4E9B\u8BDD\u9898\u3002\u7279\u522B\u9700\u8981\u8BF4\u660E\u7684\u662F\uFF0CMySQL\u652F\u6301\u8BF8\u591A\u5B58\u50A8\u5F15\u64CE\uFF0C\u800C\u5404\u79CD\u5B58\u50A8\u5F15\u64CE\u5BF9\u7D22\u5F15\u7684\u652F\u6301\u4E5F\u5404\u4E0D\u76F8\u540C\uFF0C\u56E0\u6B64MySQL\u6570\u636E\u5E93\u652F\u6301\u591A\u79CD\u7D22\u5F15\u7C7B\u578B\uFF0C\u5982BTree\u7D22\u5F15\uFF0C\u54C8\u5E0C\u7D22\u5F15\uFF0C\u5168\u6587\u7D22\u5F15\u7B49\u7B49\u3002\u4E3A\u4E86\u907F\u514D\u6DF7\u4E71\uFF0C\u672C\u6587\u5C06\u53EA\u5173\u6CE8\u4E8EBTree\u7D22\u5F15\uFF0C\u56E0\u4E3A\u8FD9\u662F\u5E73\u5E38\u4F7F\u7528MySQL\u65F6\u4E3B\u8981\u6253\u4EA4\u9053\u7684\u7D22\u5F15\uFF0C\u81F3\u4E8E\u54C8\u5E0C\u7D22\u5F15\u548C\u5168\u6587\u7D22\u5F15\u672C\u6587\u6682\u4E0D\u8BA8\u8BBA\u3002</p><p>\u6587\u7AE0\u4E3B\u8981\u5185\u5BB9\u5206\u4E3A\u4E09\u4E2A\u90E8\u5206\u3002</p><ul><li><p>\u7B2C\u4E00\u90E8\u5206\u4E3B\u8981\u4ECE\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u7406\u8BBA\u5C42\u9762\u8BA8\u8BBAMySQL\u6570\u636E\u5E93\u7D22\u5F15\u7684\u6570\u7406\u57FA\u7840\u3002</p></li><li><p>\u7B2C\u4E8C\u90E8\u5206\u7ED3\u5408MySQL\u6570\u636E\u5E93\u4E2DMyISAM\u548CInnoDB\u6570\u636E\u5B58\u50A8\u5F15\u64CE\u4E2D\u7D22\u5F15\u7684\u67B6\u6784\u5B9E\u73B0\u8BA8\u8BBA\u805A\u96C6\u7D22\u5F15\u3001\u975E\u805A\u96C6\u7D22\u5F15\u53CA\u8986\u76D6\u7D22\u5F15\u7B49\u8BDD\u9898\u3002</p></li><li><p>\u7B2C\u4E09\u90E8\u5206\u6839\u636E\u4E0A\u9762\u7684\u7406\u8BBA\u57FA\u7840\uFF0C\u8BA8\u8BBAMySQL\u4E2D\u9AD8\u6027\u80FD\u4F7F\u7528\u7D22\u5F15\u7684\u7B56\u7565\u3002</p></li></ul><h2 id="\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u57FA\u7840" aria-hidden="true">#</a> \u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u57FA\u7840</h2><h3 id="\u7D22\u5F15\u7684\u672C\u8D28" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u7684\u672C\u8D28" aria-hidden="true">#</a> \u7D22\u5F15\u7684\u672C\u8D28</h3><p>MySQL\u5B98\u65B9\u5BF9\u7D22\u5F15\u7684\u5B9A\u4E49\u4E3A\uFF1A\u7D22\u5F15\uFF08Index\uFF09\u662F\u5E2E\u52A9MySQL\u9AD8\u6548\u83B7\u53D6\u6570\u636E\u7684\u6570\u636E\u7ED3\u6784\u3002\u63D0\u53D6\u53E5\u5B50\u4E3B\u5E72\uFF0C\u5C31\u53EF\u4EE5\u5F97\u5230\u7D22\u5F15\u7684\u672C\u8D28\uFF1A\u7D22\u5F15\u662F\u6570\u636E\u7ED3\u6784\u3002</p>',9),i=n("\u6211\u4EEC\u77E5\u9053\uFF0C\u6570\u636E\u5E93\u67E5\u8BE2\u662F\u6570\u636E\u5E93\u7684\u6700\u4E3B\u8981\u529F\u80FD\u4E4B\u4E00\u3002\u6211\u4EEC\u90FD\u5E0C\u671B\u67E5\u8BE2\u6570\u636E\u7684\u901F\u5EA6\u80FD\u5C3D\u53EF\u80FD\u7684\u5FEB\uFF0C\u56E0\u6B64\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u8BBE\u8BA1\u8005\u4F1A\u4ECE\u67E5\u8BE2\u7B97\u6CD5\u7684\u89D2\u5EA6\u8FDB\u884C\u4F18\u5316\u3002\u6700\u57FA\u672C\u7684\u67E5\u8BE2\u7B97\u6CD5\u5F53\u7136\u662F"),d={href:"http://en.wikipedia.org/wiki/Linear_search",target:"_blank",rel:"noopener noreferrer"},u=n("\u987A\u5E8F\u67E5\u627E"),m=n("\uFF08linear search\uFF09\uFF0C\u8FD9\u79CD\u590D\u6742\u5EA6\u4E3AO(n)\u7684\u7B97\u6CD5\u5728\u6570\u636E\u91CF\u5F88\u5927\u65F6\u663E\u7136\u662F\u7CDF\u7CD5\u7684\uFF0C\u597D\u5728\u8BA1\u7B97\u673A\u79D1\u5B66\u7684\u53D1\u5C55\u63D0\u4F9B\u4E86\u5F88\u591A\u66F4\u4F18\u79C0\u7684\u67E5\u627E\u7B97\u6CD5\uFF0C\u4F8B\u5982"),y={href:"http://en.wikipedia.org/wiki/Binary_search_algorithm",target:"_blank",rel:"noopener noreferrer"},v=n("\u4E8C\u5206\u67E5\u627E"),b=n("\uFF08binary search\uFF09\u3001"),h={href:"http://en.wikipedia.org/wiki/Binary_search_tree",target:"_blank",rel:"noopener noreferrer"},g=n("\u4E8C\u53C9\u6811\u67E5\u627E"),w=n("\uFF08binary tree search\uFF09\u7B49\u3002\u5982\u679C\u7A0D\u5FAE\u5206\u6790\u4E00\u4E0B\u4F1A\u53D1\u73B0\uFF0C\u6BCF\u79CD\u67E5\u627E\u7B97\u6CD5\u90FD\u53EA\u80FD\u5E94\u7528\u4E8E\u7279\u5B9A\u7684\u6570\u636E\u7ED3\u6784\u4E4B\u4E0A\uFF0C\u4F8B\u5982\u4E8C\u5206\u67E5\u627E\u8981\u6C42\u88AB\u68C0\u7D22\u6570\u636E\u6709\u5E8F\uFF0C\u800C\u4E8C\u53C9\u6811\u67E5\u627E\u53EA\u80FD\u5E94\u7528\u4E8E"),_={href:"http://en.wikipedia.org/wiki/Binary_search_tree",target:"_blank",rel:"noopener noreferrer"},E=n("\u4E8C\u53C9\u67E5\u627E\u6811"),L=n("\u4E0A\uFF0C\u4F46\u662F\u6570\u636E\u672C\u8EAB\u7684\u7EC4\u7EC7\u7ED3\u6784\u4E0D\u53EF\u80FD\u5B8C\u5168\u6EE1\u8DB3\u5404\u79CD\u6570\u636E\u7ED3\u6784\uFF08\u4F8B\u5982\uFF0C\u7406\u8BBA\u4E0A\u4E0D\u53EF\u80FD\u540C\u65F6\u5C06\u4E24\u5217\u90FD\u6309\u987A\u5E8F\u8FDB\u884C\u7EC4\u7EC7\uFF09\uFF0C\u6240\u4EE5\uFF0C\u5728\u6570\u636E\u4E4B\u5916\uFF0C\u6570\u636E\u5E93\u7CFB\u7EDF\u8FD8\u7EF4\u62A4\u7740\u6EE1\u8DB3\u7279\u5B9A\u67E5\u627E\u7B97\u6CD5\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u8FD9\u4E9B\u6570\u636E\u7ED3\u6784\u4EE5\u67D0\u79CD\u65B9\u5F0F\u5F15\u7528\uFF08\u6307\u5411\uFF09\u6570\u636E\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u5728\u8FD9\u4E9B\u6570\u636E\u7ED3\u6784\u4E0A\u5B9E\u73B0\u9AD8\u7EA7\u67E5\u627E\u7B97\u6CD5\u3002\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\uFF0C\u5C31\u662F\u7D22\u5F15\u3002"),S=s("p",null,"\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A",-1),f=s("p",null,[s("img",{src:"http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/1.png",alt:"img"})],-1),M=s("p",null,"\u56FE1",-1),I=s("p",null,[n("\u56FE1\u5C55\u793A\u4E86\u4E00\u79CD\u53EF\u80FD\u7684\u7D22\u5F15\u65B9\u5F0F\u3002\u5DE6\u8FB9\u662F\u6570\u636E\u8868\uFF0C\u4E00\u5171\u6709\u4E24\u5217\u4E03\u6761\u8BB0\u5F55\uFF0C\u6700\u5DE6\u8FB9\u7684\u662F\u6570\u636E\u8BB0\u5F55\u7684\u7269\u7406\u5730\u5740\uFF08\u6CE8\u610F\u903B\u8F91\u4E0A\u76F8\u90BB\u7684\u8BB0\u5F55\u5728\u78C1\u76D8\u4E0A\u4E5F\u5E76\u4E0D\u662F\u4E00\u5B9A\u7269\u7406\u76F8\u90BB\u7684\uFF09\u3002\u4E3A\u4E86\u52A0\u5FEBCol2\u7684\u67E5\u627E\uFF0C\u53EF\u4EE5\u7EF4\u62A4\u4E00\u4E2A\u53F3\u8FB9\u6240\u793A\u7684\u4E8C\u53C9\u67E5\u627E\u6811\uFF0C\u6BCF\u4E2A\u8282\u70B9\u5206\u522B\u5305\u542B\u7D22\u5F15\u952E\u503C\u548C\u4E00\u4E2A\u6307\u5411\u5BF9\u5E94\u6570\u636E\u8BB0\u5F55\u7269\u7406\u5730\u5740\u7684\u6307\u9488\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u8FD0\u7528\u4E8C\u53C9\u67E5\u627E\u5728O(log"),s("sub",null,"2"),n("n)\u7684\u590D\u6742\u5EA6\u5185\u83B7\u53D6\u5230\u76F8\u5E94\u6570\u636E\u3002")],-1),T=n("\u867D\u7136\u8FD9\u662F\u4E00\u4E2A\u8D27\u771F\u4EF7\u5B9E\u7684\u7D22\u5F15\uFF0C\u4F46\u662F\u5B9E\u9645\u7684\u6570\u636E\u5E93\u7CFB\u7EDF\u51E0\u4E4E\u6CA1\u6709\u4F7F\u7528\u4E8C\u53C9\u67E5\u627E\u6811\u6216\u5176\u8FDB\u5316\u54C1\u79CD"),B={href:"http://en.wikipedia.org/wiki/Red-black_tree",target:"_blank",rel:"noopener noreferrer"},R=n("\u7EA2\u9ED1\u6811"),A=n("\uFF08red-black tree\uFF09\u5B9E\u73B0\u7684\uFF0C\u539F\u56E0\u4F1A\u5728\u4E0B\u6587\u4ECB\u7ECD\u3002"),x=p(`<h3 id="b-tree\u548Cb-tree" tabindex="-1"><a class="header-anchor" href="#b-tree\u548Cb-tree" aria-hidden="true">#</a> B-Tree\u548CB+Tree</h3><p>\u76EE\u524D\u5927\u90E8\u5206\u6570\u636E\u5E93\u7CFB\u7EDF\u53CA\u6587\u4EF6\u7CFB\u7EDF\u90FD\u91C7\u7528B-Tree\u6216\u5176\u53D8\u79CDB+Tree\u4F5C\u4E3A\u7D22\u5F15\u7ED3\u6784\uFF0C\u5728\u672C\u6587\u7684\u4E0B\u4E00\u8282\u4F1A\u7ED3\u5408\u5B58\u50A8\u5668\u539F\u7406\u53CA\u8BA1\u7B97\u673A\u5B58\u53D6\u539F\u7406\u8BA8\u8BBA\u4E3A\u4EC0\u4E48B-Tree\u548CB+Tree\u5728\u88AB\u5982\u6B64\u5E7F\u6CDB\u7528\u4E8E\u7D22\u5F15\uFF0C\u8FD9\u4E00\u8282\u5148\u5355\u7EAF\u4ECE\u6570\u636E\u7ED3\u6784\u89D2\u5EA6\u63CF\u8FF0\u5B83\u4EEC\u3002</p><h4 id="b-tree" tabindex="-1"><a class="header-anchor" href="#b-tree" aria-hidden="true">#</a> B-Tree</h4><p>\u4E3A\u4E86\u63CF\u8FF0B-Tree\uFF0C\u9996\u5148\u5B9A\u4E49\u4E00\u6761\u6570\u636E\u8BB0\u5F55\u4E3A\u4E00\u4E2A\u4E8C\u5143\u7EC4[key, data]\uFF0Ckey\u4E3A\u8BB0\u5F55\u7684\u952E\u503C\uFF0C\u5BF9\u4E8E\u4E0D\u540C\u6570\u636E\u8BB0\u5F55\uFF0Ckey\u662F\u4E92\u4E0D\u76F8\u540C\u7684\uFF1Bdata\u4E3A\u6570\u636E\u8BB0\u5F55\u9664key\u5916\u7684\u6570\u636E\u3002\u90A3\u4E48B-Tree\u662F\u6EE1\u8DB3\u4E0B\u5217\u6761\u4EF6\u7684\u6570\u636E\u7ED3\u6784\uFF1A</p><p>d\u4E3A\u5927\u4E8E1\u7684\u4E00\u4E2A\u6B63\u6574\u6570\uFF0C\u79F0\u4E3AB-Tree\u7684\u5EA6\u3002</p><p>h\u4E3A\u4E00\u4E2A\u6B63\u6574\u6570\uFF0C\u79F0\u4E3AB-Tree\u7684\u9AD8\u5EA6\u3002</p><p>\u6BCF\u4E2A\u975E\u53F6\u5B50\u8282\u70B9\u7531n-1\u4E2Akey\u548Cn\u4E2A\u6307\u9488\u7EC4\u6210\uFF0C\u5176\u4E2Dd&lt;=n&lt;=2d\u3002</p><p>\u6BCF\u4E2A\u53F6\u5B50\u8282\u70B9\u6700\u5C11\u5305\u542B\u4E00\u4E2Akey\u548C\u4E24\u4E2A\u6307\u9488\uFF0C\u6700\u591A\u5305\u542B2d-1\u4E2Akey\u548C2d\u4E2A\u6307\u9488\uFF0C\u53F6\u8282\u70B9\u7684\u6307\u9488\u5747\u4E3Anull \u3002</p><p>\u6240\u6709\u53F6\u8282\u70B9\u5177\u6709\u76F8\u540C\u7684\u6DF1\u5EA6\uFF0C\u7B49\u4E8E\u6811\u9AD8h\u3002</p><p>key\u548C\u6307\u9488\u4E92\u76F8\u95F4\u9694\uFF0C\u8282\u70B9\u4E24\u7AEF\u662F\u6307\u9488\u3002</p><p>\u4E00\u4E2A\u8282\u70B9\u4E2D\u7684key\u4ECE\u5DE6\u5230\u53F3\u975E\u9012\u51CF\u6392\u5217\u3002</p><p>\u6240\u6709\u8282\u70B9\u7EC4\u6210\u6811\u7ED3\u6784\u3002</p><p>\u6BCF\u4E2A\u6307\u9488\u8981\u4E48\u4E3Anull\uFF0C\u8981\u4E48\u6307\u5411\u53E6\u5916\u4E00\u4E2A\u8282\u70B9\u3002</p><p>\u5982\u679C\u67D0\u4E2A\u6307\u9488\u5728\u8282\u70B9node\u6700\u5DE6\u8FB9\u4E14\u4E0D\u4E3Anull\uFF0C\u5219\u5176\u6307\u5411\u8282\u70B9\u7684\u6240\u6709key\u5C0F\u4E8Ev(key<sub>1</sub>)\uFF0C\u5176\u4E2Dv(key<sub>1</sub>)</p><p>\u4E3Anode\u7684\u7B2C\u4E00\u4E2Akey\u7684\u503C\u3002</p><p>\u5982\u679C\u67D0\u4E2A\u6307\u9488\u5728\u8282\u70B9node\u6700\u53F3\u8FB9\u4E14\u4E0D\u4E3Anull\uFF0C\u5219\u5176\u6307\u5411\u8282\u70B9\u7684\u6240\u6709key\u5927\u4E8Ev(key<sub>m</sub>)\uFF0C\u5176\u4E2Dv(key<sub>m</sub>)\u4E3Anode\u7684\u6700\u540E\u4E00\u4E2Akey\u7684\u503C\u3002</p><p>\u5982\u679C\u67D0\u4E2A\u6307\u9488\u5728\u8282\u70B9node\u7684\u5DE6\u53F3\u76F8\u90BBkey\u5206\u522B\u662Fkey<sub>i</sub>\u548Ckey<sub>i+1</sub>\u4E14\u4E0D\u4E3Anull\uFF0C\u5219\u5176\u6307\u5411\u8282\u70B9\u7684\u6240\u6709key\u5C0F\u4E8Ev(key<sub>i+1</sub>)\u4E14\u5927\u4E8Ev(key<sub>i</sub>)\u3002</p><p>\u56FE2\u662F\u4E00\u4E2Ad=2\u7684B-Tree\u793A\u610F\u56FE\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/2.png" alt="img"></p><p>\u56FE2</p><p>\u7531\u4E8EB-Tree\u7684\u7279\u6027\uFF0C\u5728B-Tree\u4E2D\u6309key\u68C0\u7D22\u6570\u636E\u7684\u7B97\u6CD5\u975E\u5E38\u76F4\u89C2\uFF1A\u9996\u5148\u4ECE\u6839\u8282\u70B9\u8FDB\u884C\u4E8C\u5206\u67E5\u627E\uFF0C\u5982\u679C\u627E\u5230\u5219\u8FD4\u56DE\u5BF9\u5E94\u8282\u70B9\u7684data\uFF0C\u5426\u5219\u5BF9\u76F8\u5E94\u533A\u95F4\u7684\u6307\u9488\u6307\u5411\u7684\u8282\u70B9\u9012\u5F52\u8FDB\u884C\u67E5\u627E\uFF0C\u76F4\u5230\u627E\u5230\u8282\u70B9\u6216\u627E\u5230null\u6307\u9488\uFF0C\u524D\u8005\u67E5\u627E\u6210\u529F\uFF0C\u540E\u8005\u67E5\u627E\u5931\u8D25\u3002B-Tree\u4E0A\u67E5\u627E\u7B97\u6CD5\u7684\u4F2A\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BTree_Search</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token function">foreach</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token class-name">BTree_Search</span><span class="token punctuation">(</span>point<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">BTree_Search</span><span class="token punctuation">(</span>point<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
data <span class="token operator">=</span> <span class="token class-name">BTree_Search</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> my_key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5173\u4E8EB-Tree\u6709\u4E00\u7CFB\u5217\u6709\u8DA3\u7684\u6027\u8D28\uFF0C\u4F8B\u5982\u4E00\u4E2A\u5EA6\u4E3Ad\u7684B-Tree\uFF0C\u8BBE\u5176\u7D22\u5F15N\u4E2Akey\uFF0C\u5219\u5176\u6811\u9AD8h\u7684\u4E0A\u9650\u4E3Alog<sub>d</sub>((N+1)/2)\uFF0C\u68C0\u7D22\u4E00\u4E2Akey\uFF0C\u5176\u67E5\u627E\u8282\u70B9\u4E2A\u6570\u7684\u6E10\u8FDB\u590D\u6742\u5EA6\u4E3AO(log<sub>d</sub>N)\u3002\u4ECE\u8FD9\u70B9\u53EF\u4EE5\u770B\u51FA\uFF0CB-Tree\u662F\u4E00\u4E2A\u975E\u5E38\u6709\u6548\u7387\u7684\u7D22\u5F15\u6570\u636E\u7ED3\u6784\u3002</p><p>\u53E6\u5916\uFF0C\u7531\u4E8E\u63D2\u5165\u5220\u9664\u65B0\u7684\u6570\u636E\u8BB0\u5F55\u4F1A\u7834\u574FB-Tree\u7684\u6027\u8D28\uFF0C\u56E0\u6B64\u5728\u63D2\u5165\u5220\u9664\u65F6\uFF0C\u9700\u8981\u5BF9\u6811\u8FDB\u884C\u4E00\u4E2A\u5206\u88C2\u3001\u5408\u5E76\u3001\u8F6C\u79FB\u7B49\u64CD\u4F5C\u4EE5\u4FDD\u6301B-Tree\u6027\u8D28\uFF0C\u672C\u6587\u4E0D\u6253\u7B97\u5B8C\u6574\u8BA8\u8BBAB-Tree\u8FD9\u4E9B\u5185\u5BB9\uFF0C\u56E0\u4E3A\u5DF2\u7ECF\u6709\u8BB8\u591A\u8D44\u6599\u8BE6\u7EC6\u8BF4\u660E\u4E86B-Tree\u7684\u6570\u5B66\u6027\u8D28\u53CA\u63D2\u5165\u5220\u9664\u7B97\u6CD5\uFF0C\u6709\u5174\u8DA3\u7684\u670B\u53CB\u53EF\u4EE5\u5728\u672C\u6587\u672B\u7684\u53C2\u8003\u6587\u732E\u4E00\u680F\u627E\u5230\u76F8\u5E94\u7684\u8D44\u6599\u8FDB\u884C\u9605\u8BFB\u3002</p><h4 id="b-tree-1" tabindex="-1"><a class="header-anchor" href="#b-tree-1" aria-hidden="true">#</a> B+Tree</h4><p>B-Tree\u6709\u8BB8\u591A\u53D8\u79CD\uFF0C\u5176\u4E2D\u6700\u5E38\u89C1\u7684\u662FB+Tree\uFF0C\u4F8B\u5982MySQL\u5C31\u666E\u904D\u4F7F\u7528B+Tree\u5B9E\u73B0\u5176\u7D22\u5F15\u7ED3\u6784\u3002</p><p>\u4E0EB-Tree\u76F8\u6BD4\uFF0CB+Tree\u6709\u4EE5\u4E0B\u4E0D\u540C\u70B9\uFF1A</p><p>\u6BCF\u4E2A\u8282\u70B9\u7684\u6307\u9488\u4E0A\u9650\u4E3A2d\u800C\u4E0D\u662F2d+1\u3002</p><p>\u5185\u8282\u70B9\u4E0D\u5B58\u50A8data\uFF0C\u53EA\u5B58\u50A8key\uFF1B\u53F6\u5B50\u8282\u70B9\u4E0D\u5B58\u50A8\u6307\u9488\u3002</p><p>\u56FE3\u662F\u4E00\u4E2A\u7B80\u5355\u7684B+Tree\u793A\u610F\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/3.png" alt="img"></p><p>\u56FE3</p><p>\u7531\u4E8E\u5E76\u4E0D\u662F\u6240\u6709\u8282\u70B9\u90FD\u5177\u6709\u76F8\u540C\u7684\u57DF\uFF0C\u56E0\u6B64B+Tree\u4E2D\u53F6\u8282\u70B9\u548C\u5185\u8282\u70B9\u4E00\u822C\u5927\u5C0F\u4E0D\u540C\u3002\u8FD9\u70B9\u4E0EB-Tree\u4E0D\u540C\uFF0C\u867D\u7136B-Tree\u4E2D\u4E0D\u540C\u8282\u70B9\u5B58\u653E\u7684key\u548C\u6307\u9488\u53EF\u80FD\u6570\u91CF\u4E0D\u4E00\u81F4\uFF0C\u4F46\u662F\u6BCF\u4E2A\u8282\u70B9\u7684\u57DF\u548C\u4E0A\u9650\u662F\u4E00\u81F4\u7684\uFF0C\u6240\u4EE5\u5728\u5B9E\u73B0\u4E2DB-Tree\u5F80\u5F80\u5BF9\u6BCF\u4E2A\u8282\u70B9\u7533\u8BF7\u540C\u7B49\u5927\u5C0F\u7684\u7A7A\u95F4\u3002</p><p>\u4E00\u822C\u6765\u8BF4\uFF0CB+Tree\u6BD4B-Tree\u66F4\u9002\u5408\u5B9E\u73B0\u5916\u5B58\u50A8\u7D22\u5F15\u7ED3\u6784\uFF0C\u5177\u4F53\u539F\u56E0\u4E0E\u5916\u5B58\u50A8\u5668\u539F\u7406\u53CA\u8BA1\u7B97\u673A\u5B58\u53D6\u539F\u7406\u6709\u5173\uFF0C\u5C06\u5728\u4E0B\u9762\u8BA8\u8BBA\u3002</p><h4 id="\u5E26\u6709\u987A\u5E8F\u8BBF\u95EE\u6307\u9488\u7684b-tree" tabindex="-1"><a class="header-anchor" href="#\u5E26\u6709\u987A\u5E8F\u8BBF\u95EE\u6307\u9488\u7684b-tree" aria-hidden="true">#</a> \u5E26\u6709\u987A\u5E8F\u8BBF\u95EE\u6307\u9488\u7684B+Tree</h4><p>\u4E00\u822C\u5728\u6570\u636E\u5E93\u7CFB\u7EDF\u6216\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u4F7F\u7528\u7684B+Tree\u7ED3\u6784\u90FD\u5728\u7ECF\u5178B+Tree\u7684\u57FA\u7840\u4E0A\u8FDB\u884C\u4E86\u4F18\u5316\uFF0C\u589E\u52A0\u4E86\u987A\u5E8F\u8BBF\u95EE\u6307\u9488\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/4.png" alt="img"></p><p>\u56FE4</p><p>\u5982\u56FE4\u6240\u793A\uFF0C\u5728B+Tree\u7684\u6BCF\u4E2A\u53F6\u5B50\u8282\u70B9\u589E\u52A0\u4E00\u4E2A\u6307\u5411\u76F8\u90BB\u53F6\u5B50\u8282\u70B9\u7684\u6307\u9488\uFF0C\u5C31\u5F62\u6210\u4E86\u5E26\u6709\u987A\u5E8F\u8BBF\u95EE\u6307\u9488\u7684B+Tree\u3002\u505A\u8FD9\u4E2A\u4F18\u5316\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u63D0\u9AD8\u533A\u95F4\u8BBF\u95EE\u7684\u6027\u80FD\uFF0C\u4F8B\u5982\u56FE4\u4E2D\u5982\u679C\u8981\u67E5\u8BE2key\u4E3A\u4ECE18\u523049\u7684\u6240\u6709\u6570\u636E\u8BB0\u5F55\uFF0C\u5F53\u627E\u523018\u540E\uFF0C\u53EA\u9700\u987A\u7740\u8282\u70B9\u548C\u6307\u9488\u987A\u5E8F\u904D\u5386\u5C31\u53EF\u4EE5\u4E00\u6B21\u6027\u8BBF\u95EE\u5230\u6240\u6709\u6570\u636E\u8282\u70B9\uFF0C\u6781\u5927\u63D0\u5230\u4E86\u533A\u95F4\u67E5\u8BE2\u6548\u7387\u3002</p><p>\u8FD9\u4E00\u8282\u5BF9B-Tree\u548CB+Tree\u8FDB\u884C\u4E86\u4E00\u4E2A\u7B80\u5355\u7684\u4ECB\u7ECD\uFF0C\u4E0B\u4E00\u8282\u7ED3\u5408\u5B58\u50A8\u5668\u5B58\u53D6\u539F\u7406\u4ECB\u7ECD\u4E3A\u4EC0\u4E48\u76EE\u524DB+Tree\u662F\u6570\u636E\u5E93\u7CFB\u7EDF\u5B9E\u73B0\u7D22\u5F15\u7684\u9996\u9009\u6570\u636E\u7ED3\u6784\u3002</p><h4 id="\u4E3A\u4EC0\u4E48\u4F7F\u7528b-tree-b-tree" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u4F7F\u7528b-tree-b-tree" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u4F7F\u7528B-Tree\uFF08B+Tree\uFF09</h4><p>\u4E0A\u6587\u8BF4\u8FC7\uFF0C\u7EA2\u9ED1\u6811\u7B49\u6570\u636E\u7ED3\u6784\u4E5F\u53EF\u4EE5\u7528\u6765\u5B9E\u73B0\u7D22\u5F15\uFF0C\u4F46\u662F\u6587\u4EF6\u7CFB\u7EDF\u53CA\u6570\u636E\u5E93\u7CFB\u7EDF\u666E\u904D\u91C7\u7528B-/+Tree\u4F5C\u4E3A\u7D22\u5F15\u7ED3\u6784\uFF0C\u8FD9\u4E00\u8282\u5C06\u7ED3\u5408\u8BA1\u7B97\u673A\u7EC4\u6210\u539F\u7406\u76F8\u5173\u77E5\u8BC6\u8BA8\u8BBAB-/+Tree\u4F5C\u4E3A\u7D22\u5F15\u7684\u7406\u8BBA\u57FA\u7840\u3002</p><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u7D22\u5F15\u672C\u8EAB\u4E5F\u5F88\u5927\uFF0C\u4E0D\u53EF\u80FD\u5168\u90E8\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\uFF0C\u56E0\u6B64\u7D22\u5F15\u5F80\u5F80\u4EE5\u7D22\u5F15\u6587\u4EF6\u7684\u5F62\u5F0F\u5B58\u50A8\u7684\u78C1\u76D8\u4E0A\u3002\u8FD9\u6837\u7684\u8BDD\uFF0C\u7D22\u5F15\u67E5\u627E\u8FC7\u7A0B\u4E2D\u5C31\u8981\u4EA7\u751F\u78C1\u76D8I/O\u6D88\u8017\uFF0C\u76F8\u5BF9\u4E8E\u5185\u5B58\u5B58\u53D6\uFF0CI/O\u5B58\u53D6\u7684\u6D88\u8017\u8981\u9AD8\u51E0\u4E2A\u6570\u91CF\u7EA7\uFF0C\u6240\u4EE5\u8BC4\u4EF7\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u4F5C\u4E3A\u7D22\u5F15\u7684\u4F18\u52A3\u6700\u91CD\u8981\u7684\u6307\u6807\u5C31\u662F\u5728\u67E5\u627E\u8FC7\u7A0B\u4E2D\u78C1\u76D8I/O\u64CD\u4F5C\u6B21\u6570\u7684\u6E10\u8FDB\u590D\u6742\u5EA6\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u7D22\u5F15\u7684\u7ED3\u6784\u7EC4\u7EC7\u8981\u5C3D\u91CF\u51CF\u5C11\u67E5\u627E\u8FC7\u7A0B\u4E2D\u78C1\u76D8I/O\u7684\u5B58\u53D6\u6B21\u6570\u3002\u4E0B\u9762\u5148\u4ECB\u7ECD\u5185\u5B58\u548C\u78C1\u76D8\u5B58\u53D6\u539F\u7406\uFF0C\u7136\u540E\u518D\u7ED3\u5408\u8FD9\u4E9B\u539F\u7406\u5206\u6790B-/+Tree\u4F5C\u4E3A\u7D22\u5F15\u7684\u6548\u7387\u3002</p><h4 id="\u4E3B\u5B58\u5B58\u53D6\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u5B58\u5B58\u53D6\u539F\u7406" aria-hidden="true">#</a> \u4E3B\u5B58\u5B58\u53D6\u539F\u7406</h4><p>\u76EE\u524D\u8BA1\u7B97\u673A\u4F7F\u7528\u7684\u4E3B\u5B58\u57FA\u672C\u90FD\u662F\u968F\u673A\u8BFB\u5199\u5B58\u50A8\u5668\uFF08RAM\uFF09\uFF0C\u73B0\u4EE3RAM\u7684\u7ED3\u6784\u548C\u5B58\u53D6\u539F\u7406\u6BD4\u8F83\u590D\u6742\uFF0C\u8FD9\u91CC\u672C\u6587\u629B\u5374\u5177\u4F53\u5DEE\u522B\uFF0C\u62BD\u8C61\u51FA\u4E00\u4E2A\u5341\u5206\u7B80\u5355\u7684\u5B58\u53D6\u6A21\u578B\u6765\u8BF4\u660ERAM\u7684\u5DE5\u4F5C\u539F\u7406\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/5.png" alt="img"></p><p>\u56FE5</p><p>\u4ECE\u62BD\u8C61\u89D2\u5EA6\u770B\uFF0C\u4E3B\u5B58\u662F\u4E00\u7CFB\u5217\u7684\u5B58\u50A8\u5355\u5143\u7EC4\u6210\u7684\u77E9\u9635\uFF0C\u6BCF\u4E2A\u5B58\u50A8\u5355\u5143\u5B58\u50A8\u56FA\u5B9A\u5927\u5C0F\u7684\u6570\u636E\u3002\u6BCF\u4E2A\u5B58\u50A8\u5355\u5143\u6709\u552F\u4E00\u7684\u5730\u5740\uFF0C\u73B0\u4EE3\u4E3B\u5B58\u7684\u7F16\u5740\u89C4\u5219\u6BD4\u8F83\u590D\u6742\uFF0C\u8FD9\u91CC\u5C06\u5176\u7B80\u5316\u6210\u4E00\u4E2A\u4E8C\u7EF4\u5730\u5740\uFF1A\u901A\u8FC7\u4E00\u4E2A\u884C\u5730\u5740\u548C\u4E00\u4E2A\u5217\u5730\u5740\u53EF\u4EE5\u552F\u4E00\u5B9A\u4F4D\u5230\u4E00\u4E2A\u5B58\u50A8\u5355\u5143\u3002\u56FE5\u5C55\u793A\u4E86\u4E00\u4E2A4 x 4\u7684\u4E3B\u5B58\u6A21\u578B\u3002</p><p>\u4E3B\u5B58\u7684\u5B58\u53D6\u8FC7\u7A0B\u5982\u4E0B\uFF1A</p><p>\u5F53\u7CFB\u7EDF\u9700\u8981\u8BFB\u53D6\u4E3B\u5B58\u65F6\uFF0C\u5219\u5C06\u5730\u5740\u4FE1\u53F7\u653E\u5230\u5730\u5740\u603B\u7EBF\u4E0A\u4F20\u7ED9\u4E3B\u5B58\uFF0C\u4E3B\u5B58\u8BFB\u5230\u5730\u5740\u4FE1\u53F7\u540E\uFF0C\u89E3\u6790\u4FE1\u53F7\u5E76\u5B9A\u4F4D\u5230\u6307\u5B9A\u5B58\u50A8\u5355\u5143\uFF0C\u7136\u540E\u5C06\u6B64\u5B58\u50A8\u5355\u5143\u6570\u636E\u653E\u5230\u6570\u636E\u603B\u7EBF\u4E0A\uFF0C\u4F9B\u5176\u5B83\u90E8\u4EF6\u8BFB\u53D6\u3002</p><p>\u5199\u4E3B\u5B58\u7684\u8FC7\u7A0B\u7C7B\u4F3C\uFF0C\u7CFB\u7EDF\u5C06\u8981\u5199\u5165\u5355\u5143\u5730\u5740\u548C\u6570\u636E\u5206\u522B\u653E\u5728\u5730\u5740\u603B\u7EBF\u548C\u6570\u636E\u603B\u7EBF\u4E0A\uFF0C\u4E3B\u5B58\u8BFB\u53D6\u4E24\u4E2A\u603B\u7EBF\u7684\u5185\u5BB9\uFF0C\u505A\u76F8\u5E94\u7684\u5199\u64CD\u4F5C\u3002</p><p>\u8FD9\u91CC\u53EF\u4EE5\u770B\u51FA\uFF0C\u4E3B\u5B58\u5B58\u53D6\u7684\u65F6\u95F4\u4EC5\u4E0E\u5B58\u53D6\u6B21\u6570\u5448\u7EBF\u6027\u5173\u7CFB\uFF0C\u56E0\u4E3A\u4E0D\u5B58\u5728\u673A\u68B0\u64CD\u4F5C\uFF0C\u4E24\u6B21\u5B58\u53D6\u7684\u6570\u636E\u7684\u201C\u8DDD\u79BB\u201D\u4E0D\u4F1A\u5BF9\u65F6\u95F4\u6709\u4EFB\u4F55\u5F71\u54CD\uFF0C\u4F8B\u5982\uFF0C\u5148\u53D6A0\u518D\u53D6A1\u548C\u5148\u53D6A0\u518D\u53D6D3\u7684\u65F6\u95F4\u6D88\u8017\u662F\u4E00\u6837\u7684\u3002</p><h4 id="\u78C1\u76D8\u5B58\u53D6\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u78C1\u76D8\u5B58\u53D6\u539F\u7406" aria-hidden="true">#</a> \u78C1\u76D8\u5B58\u53D6\u539F\u7406</h4><p>\u4E0A\u6587\u8BF4\u8FC7\uFF0C\u7D22\u5F15\u4E00\u822C\u4EE5\u6587\u4EF6\u5F62\u5F0F\u5B58\u50A8\u5728\u78C1\u76D8\u4E0A\uFF0C\u7D22\u5F15\u68C0\u7D22\u9700\u8981\u78C1\u76D8I/O\u64CD\u4F5C\u3002\u4E0E\u4E3B\u5B58\u4E0D\u540C\uFF0C\u78C1\u76D8I/O\u5B58\u5728\u673A\u68B0\u8FD0\u52A8\u8017\u8D39\uFF0C\u56E0\u6B64\u78C1\u76D8I/O\u7684\u65F6\u95F4\u6D88\u8017\u662F\u5DE8\u5927\u7684\u3002</p><p>\u56FE6\u662F\u78C1\u76D8\u7684\u6574\u4F53\u7ED3\u6784\u793A\u610F\u56FE\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/6.png" alt="img"></p><p>\u56FE6</p><p>\u4E00\u4E2A\u78C1\u76D8\u7531\u5927\u5C0F\u76F8\u540C\u4E14\u540C\u8F74\u7684\u5706\u5F62\u76D8\u7247\u7EC4\u6210\uFF0C\u78C1\u76D8\u53EF\u4EE5\u8F6C\u52A8\uFF08\u5404\u4E2A\u78C1\u76D8\u5FC5\u987B\u540C\u6B65\u8F6C\u52A8\uFF09\u3002\u5728\u78C1\u76D8\u7684\u4E00\u4FA7\u6709\u78C1\u5934\u652F\u67B6\uFF0C\u78C1\u5934\u652F\u67B6\u56FA\u5B9A\u4E86\u4E00\u7EC4\u78C1\u5934\uFF0C\u6BCF\u4E2A\u78C1\u5934\u8D1F\u8D23\u5B58\u53D6\u4E00\u4E2A\u78C1\u76D8\u7684\u5185\u5BB9\u3002\u78C1\u5934\u4E0D\u80FD\u8F6C\u52A8\uFF0C\u4F46\u662F\u53EF\u4EE5\u6CBF\u78C1\u76D8\u534A\u5F84\u65B9\u5411\u8FD0\u52A8\uFF08\u5B9E\u9645\u662F\u659C\u5207\u5411\u8FD0\u52A8\uFF09\uFF0C\u6BCF\u4E2A\u78C1\u5934\u540C\u4E00\u65F6\u523B\u4E5F\u5FC5\u987B\u662F\u540C\u8F74\u7684\uFF0C\u5373\u4ECE\u6B63\u4E0A\u65B9\u5411\u4E0B\u770B\uFF0C\u6240\u6709\u78C1\u5934\u4EFB\u4F55\u65F6\u5019\u90FD\u662F\u91CD\u53E0\u7684\uFF08\u4E0D\u8FC7\u76EE\u524D\u5DF2\u7ECF\u6709\u591A\u78C1\u5934\u72EC\u7ACB\u6280\u672F\uFF0C\u53EF\u4E0D\u53D7\u6B64\u9650\u5236\uFF09\u3002</p><p>\u56FE7\u662F\u78C1\u76D8\u7ED3\u6784\u7684\u793A\u610F\u56FE\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/7.png" alt="img"></p><p>\u56FE7</p><p>\u76D8\u7247\u88AB\u5212\u5206\u6210\u4E00\u7CFB\u5217\u540C\u5FC3\u73AF\uFF0C\u5706\u5FC3\u662F\u76D8\u7247\u4E2D\u5FC3\uFF0C\u6BCF\u4E2A\u540C\u5FC3\u73AF\u53EB\u505A\u4E00\u4E2A\u78C1\u9053\uFF0C\u6240\u6709\u534A\u5F84\u76F8\u540C\u7684\u78C1\u9053\u7EC4\u6210\u4E00\u4E2A\u67F1\u9762\u3002\u78C1\u9053\u88AB\u6CBF\u534A\u5F84\u7EBF\u5212\u5206\u6210\u4E00\u4E2A\u4E2A\u5C0F\u7684\u6BB5\uFF0C\u6BCF\u4E2A\u6BB5\u53EB\u505A\u4E00\u4E2A\u6247\u533A\uFF0C\u6BCF\u4E2A\u6247\u533A\u662F\u78C1\u76D8\u7684\u6700\u5C0F\u5B58\u50A8\u5355\u5143\u3002\u4E3A\u4E86\u7B80\u5355\u8D77\u89C1\uFF0C\u6211\u4EEC\u4E0B\u9762\u5047\u8BBE\u78C1\u76D8\u53EA\u6709\u4E00\u4E2A\u76D8\u7247\u548C\u4E00\u4E2A\u78C1\u5934\u3002</p><p>\u5F53\u9700\u8981\u4ECE\u78C1\u76D8\u8BFB\u53D6\u6570\u636E\u65F6\uFF0C\u7CFB\u7EDF\u4F1A\u5C06\u6570\u636E\u903B\u8F91\u5730\u5740\u4F20\u7ED9\u78C1\u76D8\uFF0C\u78C1\u76D8\u7684\u63A7\u5236\u7535\u8DEF\u6309\u7167\u5BFB\u5740\u903B\u8F91\u5C06\u903B\u8F91\u5730\u5740\u7FFB\u8BD1\u6210\u7269\u7406\u5730\u5740\uFF0C\u5373\u786E\u5B9A\u8981\u8BFB\u7684\u6570\u636E\u5728\u54EA\u4E2A\u78C1\u9053\uFF0C\u54EA\u4E2A\u6247\u533A\u3002\u4E3A\u4E86\u8BFB\u53D6\u8FD9\u4E2A\u6247\u533A\u7684\u6570\u636E\uFF0C\u9700\u8981\u5C06\u78C1\u5934\u653E\u5230\u8FD9\u4E2A\u6247\u533A\u4E0A\u65B9\uFF0C\u4E3A\u4E86\u5B9E\u73B0\u8FD9\u4E00\u70B9\uFF0C\u78C1\u5934\u9700\u8981\u79FB\u52A8\u5BF9\u51C6\u76F8\u5E94\u78C1\u9053\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u53EB\u505A\u5BFB\u9053\uFF0C\u6240\u8017\u8D39\u65F6\u95F4\u53EB\u505A\u5BFB\u9053\u65F6\u95F4\uFF0C\u7136\u540E\u78C1\u76D8\u65CB\u8F6C\u5C06\u76EE\u6807\u6247\u533A\u65CB\u8F6C\u5230\u78C1\u5934\u4E0B\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u8017\u8D39\u7684\u65F6\u95F4\u53EB\u505A\u65CB\u8F6C\u65F6\u95F4\u3002</p><h4 id="\u5C40\u90E8\u6027\u539F\u7406\u4E0E\u78C1\u76D8\u9884\u8BFB" tabindex="-1"><a class="header-anchor" href="#\u5C40\u90E8\u6027\u539F\u7406\u4E0E\u78C1\u76D8\u9884\u8BFB" aria-hidden="true">#</a> \u5C40\u90E8\u6027\u539F\u7406\u4E0E\u78C1\u76D8\u9884\u8BFB</h4><p>\u7531\u4E8E\u5B58\u50A8\u4ECB\u8D28\u7684\u7279\u6027\uFF0C\u78C1\u76D8\u672C\u8EAB\u5B58\u53D6\u5C31\u6BD4\u4E3B\u5B58\u6162\u5F88\u591A\uFF0C\u518D\u52A0\u4E0A\u673A\u68B0\u8FD0\u52A8\u8017\u8D39\uFF0C\u78C1\u76D8\u7684\u5B58\u53D6\u901F\u5EA6\u5F80\u5F80\u662F\u4E3B\u5B58\u7684\u51E0\u767E\u5206\u5206\u4E4B\u4E00\uFF0C\u56E0\u6B64\u4E3A\u4E86\u63D0\u9AD8\u6548\u7387\uFF0C\u8981\u5C3D\u91CF\u51CF\u5C11\u78C1\u76D8I/O\u3002\u4E3A\u4E86\u8FBE\u5230\u8FD9\u4E2A\u76EE\u7684\uFF0C\u78C1\u76D8\u5F80\u5F80\u4E0D\u662F\u4E25\u683C\u6309\u9700\u8BFB\u53D6\uFF0C\u800C\u662F\u6BCF\u6B21\u90FD\u4F1A\u9884\u8BFB\uFF0C\u5373\u4F7F\u53EA\u9700\u8981\u4E00\u4E2A\u5B57\u8282\uFF0C\u78C1\u76D8\u4E5F\u4F1A\u4ECE\u8FD9\u4E2A\u4F4D\u7F6E\u5F00\u59CB\uFF0C\u987A\u5E8F\u5411\u540E\u8BFB\u53D6\u4E00\u5B9A\u957F\u5EA6\u7684\u6570\u636E\u653E\u5165\u5185\u5B58\u3002\u8FD9\u6837\u505A\u7684\u7406\u8BBA\u4F9D\u636E\u662F\u8BA1\u7B97\u673A\u79D1\u5B66\u4E2D\u8457\u540D\u7684\u5C40\u90E8\u6027\u539F\u7406\uFF1A</p><p>\u5F53\u4E00\u4E2A\u6570\u636E\u88AB\u7528\u5230\u65F6\uFF0C\u5176\u9644\u8FD1\u7684\u6570\u636E\u4E5F\u901A\u5E38\u4F1A\u9A6C\u4E0A\u88AB\u4F7F\u7528\u3002</p><p>\u7A0B\u5E8F\u8FD0\u884C\u671F\u95F4\u6240\u9700\u8981\u7684\u6570\u636E\u901A\u5E38\u6BD4\u8F83\u96C6\u4E2D\u3002</p><p>\u7531\u4E8E\u78C1\u76D8\u987A\u5E8F\u8BFB\u53D6\u7684\u6548\u7387\u5F88\u9AD8\uFF08\u4E0D\u9700\u8981\u5BFB\u9053\u65F6\u95F4\uFF0C\u53EA\u9700\u5F88\u5C11\u7684\u65CB\u8F6C\u65F6\u95F4\uFF09\uFF0C\u56E0\u6B64\u5BF9\u4E8E\u5177\u6709\u5C40\u90E8\u6027\u7684\u7A0B\u5E8F\u6765\u8BF4\uFF0C\u9884\u8BFB\u53EF\u4EE5\u63D0\u9AD8I/O\u6548\u7387\u3002</p><p>\u9884\u8BFB\u7684\u957F\u5EA6\u4E00\u822C\u4E3A\u9875\uFF08page\uFF09\u7684\u6574\u500D\u6570\u3002\u9875\u662F\u8BA1\u7B97\u673A\u7BA1\u7406\u5B58\u50A8\u5668\u7684\u903B\u8F91\u5757\uFF0C\u786C\u4EF6\u53CA\u64CD\u4F5C\u7CFB\u7EDF\u5F80\u5F80\u5C06\u4E3B\u5B58\u548C\u78C1\u76D8\u5B58\u50A8\u533A\u5206\u5272\u4E3A\u8FDE\u7EED\u7684\u5927\u5C0F\u76F8\u7B49\u7684\u5757\uFF0C\u6BCF\u4E2A\u5B58\u50A8\u5757\u79F0\u4E3A\u4E00\u9875\uFF08\u5728\u8BB8\u591A\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\uFF0C\u9875\u5F97\u5927\u5C0F\u901A\u5E38\u4E3A4k\uFF09\uFF0C\u4E3B\u5B58\u548C\u78C1\u76D8\u4EE5\u9875\u4E3A\u5355\u4F4D\u4EA4\u6362\u6570\u636E\u3002\u5F53\u7A0B\u5E8F\u8981\u8BFB\u53D6\u7684\u6570\u636E\u4E0D\u5728\u4E3B\u5B58\u4E2D\u65F6\uFF0C\u4F1A\u89E6\u53D1\u4E00\u4E2A\u7F3A\u9875\u5F02\u5E38\uFF0C\u6B64\u65F6\u7CFB\u7EDF\u4F1A\u5411\u78C1\u76D8\u53D1\u51FA\u8BFB\u76D8\u4FE1\u53F7\uFF0C\u78C1\u76D8\u4F1A\u627E\u5230\u6570\u636E\u7684\u8D77\u59CB\u4F4D\u7F6E\u5E76\u5411\u540E\u8FDE\u7EED\u8BFB\u53D6\u4E00\u9875\u6216\u51E0\u9875\u8F7D\u5165\u5185\u5B58\u4E2D\uFF0C\u7136\u540E\u5F02\u5E38\u8FD4\u56DE\uFF0C\u7A0B\u5E8F\u7EE7\u7EED\u8FD0\u884C\u3002</p><h4 id="b-tree\u7D22\u5F15\u7684\u6027\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#b-tree\u7D22\u5F15\u7684\u6027\u80FD\u5206\u6790" aria-hidden="true">#</a> B-/+Tree\u7D22\u5F15\u7684\u6027\u80FD\u5206\u6790</h4><p>\u5230\u8FD9\u91CC\u7EC8\u4E8E\u53EF\u4EE5\u5206\u6790B-/+Tree\u7D22\u5F15\u7684\u6027\u80FD\u4E86\u3002</p><p>\u4E0A\u6587\u8BF4\u8FC7\u4E00\u822C\u4F7F\u7528\u78C1\u76D8I/O\u6B21\u6570\u8BC4\u4EF7\u7D22\u5F15\u7ED3\u6784\u7684\u4F18\u52A3\u3002\u5148\u4ECEB-Tree\u5206\u6790\uFF0C\u6839\u636EB-Tree\u7684\u5B9A\u4E49\uFF0C\u53EF\u77E5\u68C0\u7D22\u4E00\u6B21\u6700\u591A\u9700\u8981\u8BBF\u95EEh\u4E2A\u8282\u70B9\u3002\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u8BBE\u8BA1\u8005\u5DE7\u5999\u5229\u7528\u4E86\u78C1\u76D8\u9884\u8BFB\u539F\u7406\uFF0C\u5C06\u4E00\u4E2A\u8282\u70B9\u7684\u5927\u5C0F\u8BBE\u4E3A\u7B49\u4E8E\u4E00\u4E2A\u9875\uFF0C\u8FD9\u6837\u6BCF\u4E2A\u8282\u70B9\u53EA\u9700\u8981\u4E00\u6B21I/O\u5C31\u53EF\u4EE5\u5B8C\u5168\u8F7D\u5165\u3002\u4E3A\u4E86\u8FBE\u5230\u8FD9\u4E2A\u76EE\u7684\uFF0C\u5728\u5B9E\u9645\u5B9E\u73B0B-Tree\u8FD8\u9700\u8981\u4F7F\u7528\u5982\u4E0B\u6280\u5DE7\uFF1A</p><p>\u6BCF\u6B21\u65B0\u5EFA\u8282\u70B9\u65F6\uFF0C\u76F4\u63A5\u7533\u8BF7\u4E00\u4E2A\u9875\u7684\u7A7A\u95F4\uFF0C\u8FD9\u6837\u5C31\u4FDD\u8BC1\u4E00\u4E2A\u8282\u70B9\u7269\u7406\u4E0A\u4E5F\u5B58\u50A8\u5728\u4E00\u4E2A\u9875\u91CC\uFF0C\u52A0\u4E4B\u8BA1\u7B97\u673A\u5B58\u50A8\u5206\u914D\u90FD\u662F\u6309\u9875\u5BF9\u9F50\u7684\uFF0C\u5C31\u5B9E\u73B0\u4E86\u4E00\u4E2Anode\u53EA\u9700\u4E00\u6B21I/O\u3002</p><p>B-Tree\u4E2D\u4E00\u6B21\u68C0\u7D22\u6700\u591A\u9700\u8981h-1\u6B21I/O\uFF08\u6839\u8282\u70B9\u5E38\u9A7B\u5185\u5B58\uFF09\uFF0C\u6E10\u8FDB\u590D\u6742\u5EA6\u4E3AO(h)=O(log<sub>d</sub>N)\u3002\u4E00\u822C\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u51FA\u5EA6d\u662F\u975E\u5E38\u5927\u7684\u6570\u5B57\uFF0C\u901A\u5E38\u8D85\u8FC7100\uFF0C\u56E0\u6B64h\u975E\u5E38\u5C0F\uFF08\u901A\u5E38\u4E0D\u8D85\u8FC73\uFF09\u3002</p><p>\u7EFC\u4E0A\u6240\u8FF0\uFF0C\u7528B-Tree\u4F5C\u4E3A\u7D22\u5F15\u7ED3\u6784\u6548\u7387\u662F\u975E\u5E38\u9AD8\u7684\u3002</p><p>\u800C\u7EA2\u9ED1\u6811\u8FD9\u79CD\u7ED3\u6784\uFF0Ch\u660E\u663E\u8981\u6DF1\u7684\u591A\u3002\u7531\u4E8E\u903B\u8F91\u4E0A\u5F88\u8FD1\u7684\u8282\u70B9\uFF08\u7236\u5B50\uFF09\u7269\u7406\u4E0A\u53EF\u80FD\u5F88\u8FDC\uFF0C\u65E0\u6CD5\u5229\u7528\u5C40\u90E8\u6027\uFF0C\u6240\u4EE5\u7EA2\u9ED1\u6811\u7684I/O\u6E10\u8FDB\u590D\u6742\u5EA6\u4E5F\u4E3AO(h)\uFF0C\u6548\u7387\u660E\u663E\u6BD4B-Tree\u5DEE\u5F88\u591A\u3002</p><p>\u4E0A\u6587\u8FD8\u8BF4\u8FC7\uFF0CB+Tree\u66F4\u9002\u5408\u5916\u5B58\u7D22\u5F15\uFF0C\u539F\u56E0\u548C\u5185\u8282\u70B9\u51FA\u5EA6d\u6709\u5173\u3002\u4ECE\u4E0A\u9762\u5206\u6790\u53EF\u4EE5\u770B\u5230\uFF0Cd\u8D8A\u5927\u7D22\u5F15\u7684\u6027\u80FD\u8D8A\u597D\uFF0C\u800C\u51FA\u5EA6\u7684\u4E0A\u9650\u53D6\u51B3\u4E8E\u8282\u70B9\u5185key\u548Cdata\u7684\u5927\u5C0F\uFF1A</p><p>d<sub>max</sub>=floor(pagesize/(keysize+datasize+pointsize))</p><p>floor\u8868\u793A\u5411\u4E0B\u53D6\u6574\u3002\u7531\u4E8EB+Tree\u5185\u8282\u70B9\u53BB\u6389\u4E86data\u57DF\uFF0C\u56E0\u6B64\u53EF\u4EE5\u62E5\u6709\u66F4\u5927\u7684\u51FA\u5EA6\uFF0C\u62E5\u6709\u66F4\u597D\u7684\u6027\u80FD\u3002</p><p>\u8FD9\u4E00\u7AE0\u4ECE\u7406\u8BBA\u89D2\u5EA6\u8BA8\u8BBA\u4E86\u4E0E\u7D22\u5F15\u76F8\u5173\u7684\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u95EE\u9898\uFF0C\u4E0B\u4E00\u7AE0\u5C06\u8BA8\u8BBAB+Tree\u662F\u5982\u4F55\u5177\u4F53\u5B9E\u73B0\u4E3AMySQL\u4E2D\u7D22\u5F15\uFF0C\u540C\u65F6\u5C06\u7ED3\u5408MyISAM\u548CInnDB\u5B58\u50A8\u5F15\u64CE\u4ECB\u7ECD\u975E\u805A\u96C6\u7D22\u5F15\u548C\u805A\u96C6\u7D22\u5F15\u4E24\u79CD\u4E0D\u540C\u7684\u7D22\u5F15\u5B9E\u73B0\u5F62\u5F0F\u3002</p><h2 id="mysql\u7D22\u5F15\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#mysql\u7D22\u5F15\u5B9E\u73B0" aria-hidden="true">#</a> MySQL\u7D22\u5F15\u5B9E\u73B0</h2><p>\u5728MySQL\u4E2D\uFF0C\u7D22\u5F15\u5C5E\u4E8E\u5B58\u50A8\u5F15\u64CE\u7EA7\u522B\u7684\u6982\u5FF5\uFF0C\u4E0D\u540C\u5B58\u50A8\u5F15\u64CE\u5BF9\u7D22\u5F15\u7684\u5B9E\u73B0\u65B9\u5F0F\u662F\u4E0D\u540C\u7684\uFF0C\u672C\u6587\u4E3B\u8981\u8BA8\u8BBAMyISAM\u548CInnoDB\u4E24\u4E2A\u5B58\u50A8\u5F15\u64CE\u7684\u7D22\u5F15\u5B9E\u73B0\u65B9\u5F0F\u3002</p><h3 id="myisam\u7D22\u5F15\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#myisam\u7D22\u5F15\u5B9E\u73B0" aria-hidden="true">#</a> MyISAM\u7D22\u5F15\u5B9E\u73B0</h3><p>MyISAM\u5F15\u64CE\u4F7F\u7528B+Tree\u4F5C\u4E3A\u7D22\u5F15\u7ED3\u6784\uFF0C\u53F6\u8282\u70B9\u7684data\u57DF\u5B58\u653E\u7684\u662F\u6570\u636E\u8BB0\u5F55\u7684\u5730\u5740\u3002\u4E0B\u56FE\u662FMyISAM\u7D22\u5F15\u7684\u539F\u7406\u56FE\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/8.png" alt="img"></p><p>\u56FE8</p><p>\u8FD9\u91CC\u8BBE\u8868\u4E00\u5171\u6709\u4E09\u5217\uFF0C\u5047\u8BBE\u6211\u4EEC\u4EE5Col1\u4E3A\u4E3B\u952E\uFF0C\u5219\u56FE8\u662F\u4E00\u4E2AMyISAM\u8868\u7684\u4E3B\u7D22\u5F15\uFF08Primary key\uFF09\u793A\u610F\u3002\u53EF\u4EE5\u770B\u51FAMyISAM\u7684\u7D22\u5F15\u6587\u4EF6\u4EC5\u4EC5\u4FDD\u5B58\u6570\u636E\u8BB0\u5F55\u7684\u5730\u5740\u3002\u5728MyISAM\u4E2D\uFF0C\u4E3B\u7D22\u5F15\u548C\u8F85\u52A9\u7D22\u5F15\uFF08Secondary key\uFF09\u5728\u7ED3\u6784\u4E0A\u6CA1\u6709\u4EFB\u4F55\u533A\u522B\uFF0C\u53EA\u662F\u4E3B\u7D22\u5F15\u8981\u6C42key\u662F\u552F\u4E00\u7684\uFF0C\u800C\u8F85\u52A9\u7D22\u5F15\u7684key\u53EF\u4EE5\u91CD\u590D\u3002\u5982\u679C\u6211\u4EEC\u5728Col2\u4E0A\u5EFA\u7ACB\u4E00\u4E2A\u8F85\u52A9\u7D22\u5F15\uFF0C\u5219\u6B64\u7D22\u5F15\u7684\u7ED3\u6784\u5982\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/9.png" alt="img"></p><p>\u56FE9</p><p>\u540C\u6837\u4E5F\u662F\u4E00\u9897B+Tree\uFF0Cdata\u57DF\u4FDD\u5B58\u6570\u636E\u8BB0\u5F55\u7684\u5730\u5740\u3002\u56E0\u6B64\uFF0CMyISAM\u4E2D\u7D22\u5F15\u68C0\u7D22\u7684\u7B97\u6CD5\u4E3A\u9996\u5148\u6309\u7167B+Tree\u641C\u7D22\u7B97\u6CD5\u641C\u7D22\u7D22\u5F15\uFF0C\u5982\u679C\u6307\u5B9A\u7684Key\u5B58\u5728\uFF0C\u5219\u53D6\u51FA\u5176data\u57DF\u7684\u503C\uFF0C\u7136\u540E\u4EE5data\u57DF\u7684\u503C\u4E3A\u5730\u5740\uFF0C\u8BFB\u53D6\u76F8\u5E94\u6570\u636E\u8BB0\u5F55\u3002</p><p>MyISAM\u7684\u7D22\u5F15\u65B9\u5F0F\u4E5F\u53EB\u505A\u201C\u975E\u805A\u96C6\u201D\u7684\uFF0C\u4E4B\u6240\u4EE5\u8FD9\u4E48\u79F0\u547C\u662F\u4E3A\u4E86\u4E0EInnoDB\u7684\u805A\u96C6\u7D22\u5F15\u533A\u5206\u3002</p><h3 id="innodb\u7D22\u5F15\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#innodb\u7D22\u5F15\u5B9E\u73B0" aria-hidden="true">#</a> InnoDB\u7D22\u5F15\u5B9E\u73B0</h3><p>\u867D\u7136InnoDB\u4E5F\u4F7F\u7528B+Tree\u4F5C\u4E3A\u7D22\u5F15\u7ED3\u6784\uFF0C\u4F46\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u5374\u4E0EMyISAM\u622A\u7136\u4E0D\u540C\u3002</p><p>\u7B2C\u4E00\u4E2A\u91CD\u5927\u533A\u522B\u662FInnoDB\u7684\u6570\u636E\u6587\u4EF6\u672C\u8EAB\u5C31\u662F\u7D22\u5F15\u6587\u4EF6\u3002\u4ECE\u4E0A\u6587\u77E5\u9053\uFF0CMyISAM\u7D22\u5F15\u6587\u4EF6\u548C\u6570\u636E\u6587\u4EF6\u662F\u5206\u79BB\u7684\uFF0C\u7D22\u5F15\u6587\u4EF6\u4EC5\u4FDD\u5B58\u6570\u636E\u8BB0\u5F55\u7684\u5730\u5740\u3002\u800C\u5728InnoDB\u4E2D\uFF0C\u8868\u6570\u636E\u6587\u4EF6\u672C\u8EAB\u5C31\u662F\u6309B+Tree\u7EC4\u7EC7\u7684\u4E00\u4E2A\u7D22\u5F15\u7ED3\u6784\uFF0C\u8FD9\u68F5\u6811\u7684\u53F6\u8282\u70B9data\u57DF\u4FDD\u5B58\u4E86\u5B8C\u6574\u7684\u6570\u636E\u8BB0\u5F55\u3002\u8FD9\u4E2A\u7D22\u5F15\u7684key\u662F\u6570\u636E\u8868\u7684\u4E3B\u952E\uFF0C\u56E0\u6B64InnoDB\u8868\u6570\u636E\u6587\u4EF6\u672C\u8EAB\u5C31\u662F\u4E3B\u7D22\u5F15\u3002</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/10.png" alt="img"></p><p>\u56FE10</p><p>\u56FE10\u662FInnoDB\u4E3B\u7D22\u5F15\uFF08\u540C\u65F6\u4E5F\u662F\u6570\u636E\u6587\u4EF6\uFF09\u7684\u793A\u610F\u56FE\uFF0C\u53EF\u4EE5\u770B\u5230\u53F6\u8282\u70B9\u5305\u542B\u4E86\u5B8C\u6574\u7684\u6570\u636E\u8BB0\u5F55\u3002\u8FD9\u79CD\u7D22\u5F15\u53EB\u505A\u805A\u96C6\u7D22\u5F15\u3002\u56E0\u4E3AInnoDB\u7684\u6570\u636E\u6587\u4EF6\u672C\u8EAB\u8981\u6309\u4E3B\u952E\u805A\u96C6\uFF0C\u6240\u4EE5InnoDB\u8981\u6C42\u8868\u5FC5\u987B\u6709\u4E3B\u952E\uFF08MyISAM\u53EF\u4EE5\u6CA1\u6709\uFF09\uFF0C\u5982\u679C\u6CA1\u6709\u663E\u5F0F\u6307\u5B9A\uFF0C\u5219MySQL\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u9009\u62E9\u4E00\u4E2A\u53EF\u4EE5\u552F\u4E00\u6807\u8BC6\u6570\u636E\u8BB0\u5F55\u7684\u5217\u4F5C\u4E3A\u4E3B\u952E\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u8FD9\u79CD\u5217\uFF0C\u5219MySQL\u81EA\u52A8\u4E3AInnoDB\u8868\u751F\u6210\u4E00\u4E2A\u9690\u542B\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\uFF0C\u8FD9\u4E2A\u5B57\u6BB5\u957F\u5EA6\u4E3A6\u4E2A\u5B57\u8282\uFF0C\u7C7B\u578B\u4E3A\u957F\u6574\u5F62\u3002</p><p>\u7B2C\u4E8C\u4E2A\u4E0EMyISAM\u7D22\u5F15\u7684\u4E0D\u540C\u662FInnoDB\u7684\u8F85\u52A9\u7D22\u5F15data\u57DF\u5B58\u50A8\u76F8\u5E94\u8BB0\u5F55\u4E3B\u952E\u7684\u503C\u800C\u4E0D\u662F\u5730\u5740\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0CInnoDB\u7684\u6240\u6709\u8F85\u52A9\u7D22\u5F15\u90FD\u5F15\u7528\u4E3B\u952E\u4F5C\u4E3Adata\u57DF\u3002\u4F8B\u5982\uFF0C\u56FE11\u4E3A\u5B9A\u4E49\u5728Col3\u4E0A\u7684\u4E00\u4E2A\u8F85\u52A9\u7D22\u5F15\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/11.png" alt="img"></p><p>\u56FE11</p><p>\u8FD9\u91CC\u4EE5\u82F1\u6587\u5B57\u7B26\u7684ASCII\u7801\u4F5C\u4E3A\u6BD4\u8F83\u51C6\u5219\u3002\u805A\u96C6\u7D22\u5F15\u8FD9\u79CD\u5B9E\u73B0\u65B9\u5F0F\u4F7F\u5F97\u6309\u4E3B\u952E\u7684\u641C\u7D22\u5341\u5206\u9AD8\u6548\uFF0C\u4F46\u662F\u8F85\u52A9\u7D22\u5F15\u641C\u7D22\u9700\u8981\u68C0\u7D22\u4E24\u904D\u7D22\u5F15\uFF1A\u9996\u5148\u68C0\u7D22\u8F85\u52A9\u7D22\u5F15\u83B7\u5F97\u4E3B\u952E\uFF0C\u7136\u540E\u7528\u4E3B\u952E\u5230\u4E3B\u7D22\u5F15\u4E2D\u68C0\u7D22\u83B7\u5F97\u8BB0\u5F55\u3002</p><p>\u4E86\u89E3\u4E0D\u540C\u5B58\u50A8\u5F15\u64CE\u7684\u7D22\u5F15\u5B9E\u73B0\u65B9\u5F0F\u5BF9\u4E8E\u6B63\u786E\u4F7F\u7528\u548C\u4F18\u5316\u7D22\u5F15\u90FD\u975E\u5E38\u6709\u5E2E\u52A9\uFF0C\u4F8B\u5982\u77E5\u9053\u4E86InnoDB\u7684\u7D22\u5F15\u5B9E\u73B0\u540E\uFF0C\u5C31\u5F88\u5BB9\u6613\u660E\u767D\u4E3A\u4EC0\u4E48\u4E0D\u5EFA\u8BAE\u4F7F\u7528\u8FC7\u957F\u7684\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\uFF0C\u56E0\u4E3A\u6240\u6709\u8F85\u52A9\u7D22\u5F15\u90FD\u5F15\u7528\u4E3B\u7D22\u5F15\uFF0C\u8FC7\u957F\u7684\u4E3B\u7D22\u5F15\u4F1A\u4EE4\u8F85\u52A9\u7D22\u5F15\u53D8\u5F97\u8FC7\u5927\u3002\u518D\u4F8B\u5982\uFF0C\u7528\u975E\u5355\u8C03\u7684\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\u5728InnoDB\u4E2D\u4E0D\u662F\u4E2A\u597D\u4E3B\u610F\uFF0C\u56E0\u4E3AInnoDB\u6570\u636E\u6587\u4EF6\u672C\u8EAB\u662F\u4E00\u9897B+Tree\uFF0C\u975E\u5355\u8C03\u7684\u4E3B\u952E\u4F1A\u9020\u6210\u5728\u63D2\u5165\u65B0\u8BB0\u5F55\u65F6\u6570\u636E\u6587\u4EF6\u4E3A\u4E86\u7EF4\u6301B+Tree\u7684\u7279\u6027\u800C\u9891\u7E41\u7684\u5206\u88C2\u8C03\u6574\uFF0C\u5341\u5206\u4F4E\u6548\uFF0C\u800C\u4F7F\u7528\u81EA\u589E\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\u5219\u662F\u4E00\u4E2A\u5F88\u597D\u7684\u9009\u62E9\u3002</p><p>\u4E0B\u4E00\u7AE0\u5C06\u5177\u4F53\u8BA8\u8BBA\u8FD9\u4E9B\u4E0E\u7D22\u5F15\u6709\u5173\u7684\u4F18\u5316\u7B56\u7565\u3002</p><h2 id="\u7D22\u5F15\u4F7F\u7528\u7B56\u7565\u53CA\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u4F7F\u7528\u7B56\u7565\u53CA\u4F18\u5316" aria-hidden="true">#</a> \u7D22\u5F15\u4F7F\u7528\u7B56\u7565\u53CA\u4F18\u5316</h2><p>MySQL\u7684\u4F18\u5316\u4E3B\u8981\u5206\u4E3A\u7ED3\u6784\u4F18\u5316\uFF08Scheme optimization\uFF09\u548C\u67E5\u8BE2\u4F18\u5316\uFF08Query optimization\uFF09\u3002\u672C\u7AE0\u8BA8\u8BBA\u7684\u9AD8\u6027\u80FD\u7D22\u5F15\u7B56\u7565\u4E3B\u8981\u5C5E\u4E8E\u7ED3\u6784\u4F18\u5316\u8303\u7574\u3002\u672C\u7AE0\u7684\u5185\u5BB9\u5B8C\u5168\u57FA\u4E8E\u4E0A\u6587\u7684\u7406\u8BBA\u57FA\u7840\uFF0C\u5B9E\u9645\u4E0A\u4E00\u65E6\u7406\u89E3\u4E86\u7D22\u5F15\u80CC\u540E\u7684\u673A\u5236\uFF0C\u90A3\u4E48\u9009\u62E9\u9AD8\u6027\u80FD\u7684\u7B56\u7565\u5C31\u53D8\u6210\u4E86\u7EAF\u7CB9\u7684\u63A8\u7406\uFF0C\u5E76\u4E14\u53EF\u4EE5\u7406\u89E3\u8FD9\u4E9B\u7B56\u7565\u80CC\u540E\u7684\u903B\u8F91\u3002</p><h2 id="\u793A\u4F8B\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B\u6570\u636E\u5E93" aria-hidden="true">#</a> \u793A\u4F8B\u6570\u636E\u5E93</h2><p>\u4E3A\u4E86\u8BA8\u8BBA\u7D22\u5F15\u7B56\u7565\uFF0C\u9700\u8981\u4E00\u4E2A\u6570\u636E\u91CF\u4E0D\u7B97\u5C0F\u7684\u6570\u636E\u5E93\u4F5C\u4E3A\u793A\u4F8B\u3002\u672C\u6587\u9009\u7528MySQL\u5B98\u65B9\u6587\u6863\u4E2D\u63D0\u4F9B\u7684\u793A\u4F8B\u6570\u636E\u5E93\u4E4B\u4E00\uFF1Aemployees\u3002\u8FD9\u4E2A\u6570\u636E\u5E93\u5173\u7CFB\u590D\u6742\u5EA6\u9002\u4E2D\uFF0C\u4E14\u6570\u636E\u91CF\u8F83\u5927\u3002\u4E0B\u56FE\u662F\u8FD9\u4E2A\u6570\u636E\u5E93\u7684E-R\u5173\u7CFB\u56FE\uFF08\u5F15\u7528\u81EAMySQL\u5B98\u65B9\u624B\u518C\uFF09\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/12.png" alt="img"></p><p>\u56FE12</p><p>MySQL\u5B98\u65B9\u6587\u6863\u4E2D\u5173\u4E8E\u6B64\u6570\u636E\u5E93\u7684\u9875\u9762\u4E3Ahttp://dev.mysql.com/doc/employee/en/employee.html\u3002\u91CC\u9762\u8BE6\u7EC6\u4ECB\u7ECD\u4E86\u6B64\u6570\u636E\u5E93\uFF0C\u5E76\u63D0\u4F9B\u4E86\u4E0B\u8F7D\u5730\u5740\u548C\u5BFC\u5165\u65B9\u6CD5\uFF0C\u5982\u679C\u6709\u5174\u8DA3\u5BFC\u5165\u6B64\u6570\u636E\u5E93\u5230\u81EA\u5DF1\u7684MySQL\u53EF\u4EE5\u53C2\u8003\u6587\u4E2D\u5185\u5BB9\u3002</p><h3 id="\u6700\u5DE6\u524D\u7F00\u539F\u7406\u4E0E\u76F8\u5173\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6700\u5DE6\u524D\u7F00\u539F\u7406\u4E0E\u76F8\u5173\u4F18\u5316" aria-hidden="true">#</a> \u6700\u5DE6\u524D\u7F00\u539F\u7406\u4E0E\u76F8\u5173\u4F18\u5316</h3><p>\u9AD8\u6548\u4F7F\u7528\u7D22\u5F15\u7684\u9996\u8981\u6761\u4EF6\u662F\u77E5\u9053\u4EC0\u4E48\u6837\u7684\u67E5\u8BE2\u4F1A\u4F7F\u7528\u5230\u7D22\u5F15\uFF0C\u8FD9\u4E2A\u95EE\u9898\u548CB+Tree\u4E2D\u7684\u201C\u6700\u5DE6\u524D\u7F00\u539F\u7406\u201D\u6709\u5173\uFF0C\u4E0B\u9762\u901A\u8FC7\u4F8B\u5B50\u8BF4\u660E\u6700\u5DE6\u524D\u7F00\u539F\u7406\u3002</p><p>\u8FD9\u91CC\u5148\u8BF4\u4E00\u4E0B\u8054\u5408\u7D22\u5F15\u7684\u6982\u5FF5\u3002\u5728\u4E0A\u6587\u4E2D\uFF0C\u6211\u4EEC\u90FD\u662F\u5047\u8BBE\u7D22\u5F15\u53EA\u5F15\u7528\u4E86\u5355\u4E2A\u7684\u5217\uFF0C\u5B9E\u9645\u4E0A\uFF0CMySQL\u4E2D\u7684\u7D22\u5F15\u53EF\u4EE5\u4EE5\u4E00\u5B9A\u987A\u5E8F\u5F15\u7528\u591A\u4E2A\u5217\uFF0C\u8FD9\u79CD\u7D22\u5F15\u53EB\u505A\u8054\u5408\u7D22\u5F15\uFF0C\u4E00\u822C\u7684\uFF0C\u4E00\u4E2A\u8054\u5408\u7D22\u5F15\u662F\u4E00\u4E2A\u6709\u5E8F\u5143\u7EC4&lt;a1, a2, \u2026, an&gt;\uFF0C\u5176\u4E2D\u5404\u4E2A\u5143\u7D20\u5747\u4E3A\u6570\u636E\u8868\u7684\u4E00\u5217\uFF0C\u5B9E\u9645\u4E0A\u8981\u4E25\u683C\u5B9A\u4E49\u7D22\u5F15\u9700\u8981\u7528\u5230\u5173\u7CFB\u4EE3\u6570\uFF0C\u4F46\u662F\u8FD9\u91CC\u6211\u4E0D\u60F3\u8BA8\u8BBA\u592A\u591A\u5173\u7CFB\u4EE3\u6570\u7684\u8BDD\u9898\uFF0C\u56E0\u4E3A\u90A3\u6837\u4F1A\u663E\u5F97\u5F88\u67AF\u71E5\uFF0C\u6240\u4EE5\u8FD9\u91CC\u5C31\u4E0D\u518D\u505A\u4E25\u683C\u5B9A\u4E49\u3002\u53E6\u5916\uFF0C\u5355\u5217\u7D22\u5F15\u53EF\u4EE5\u770B\u6210\u8054\u5408\u7D22\u5F15\u5143\u7D20\u6570\u4E3A1\u7684\u7279\u4F8B\u3002</p><p>\u4EE5employees.titles\u8868\u4E3A\u4F8B\uFF0C\u4E0B\u9762\u5148\u67E5\u770B\u5176\u4E0A\u90FD\u6709\u54EA\u4E9B\u7D22\u5F15\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+--------------+-------------+-----------+-------------+------+------------+</span>
<span class="token operator">|</span> <span class="token keyword">Table</span>  <span class="token operator">|</span> Non_unique <span class="token operator">|</span> Key_name <span class="token operator">|</span> Seq_in_index <span class="token operator">|</span> Column_name <span class="token operator">|</span> Collation <span class="token operator">|</span> Cardinality <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> Index_type <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+--------------+-------------+-----------+-------------+------+------------+</span>
<span class="token operator">|</span> titles <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>  <span class="token operator">|</span>            <span class="token number">1</span> <span class="token operator">|</span> emp_no      <span class="token operator">|</span> A         <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>
<span class="token operator">|</span> titles <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>  <span class="token operator">|</span>            <span class="token number">2</span> <span class="token operator">|</span> title       <span class="token operator">|</span> A         <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>
<span class="token operator">|</span> titles <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>  <span class="token operator">|</span>            <span class="token number">3</span> <span class="token operator">|</span> from_date   <span class="token operator">|</span> A         <span class="token operator">|</span>      <span class="token number">443308</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>
<span class="token operator">|</span> titles <span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span> emp_no   <span class="token operator">|</span>            <span class="token number">1</span> <span class="token operator">|</span> emp_no      <span class="token operator">|</span> A         <span class="token operator">|</span>      <span class="token number">443308</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+--------------+-------------+-----------+-------------+------+------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u7ED3\u679C\u4E2D\u53EF\u4EE5\u5230titles\u8868\u7684\u4E3B\u7D22\u5F15\u4E3A&lt;emp_no, title, from_date&gt;\uFF0C\u8FD8\u6709\u4E00\u4E2A\u8F85\u52A9\u7D22\u5F15&lt;emp_no&gt;\u3002\u4E3A\u4E86\u907F\u514D\u591A\u4E2A\u7D22\u5F15\u4F7F\u4E8B\u60C5\u53D8\u590D\u6742\uFF08MySQL\u7684SQL\u4F18\u5316\u5668\u5728\u591A\u7D22\u5F15\u65F6\u884C\u4E3A\u6BD4\u8F83\u590D\u6742\uFF09\uFF0C\u8FD9\u91CC\u6211\u4EEC\u5C06\u8F85\u52A9\u7D22\u5F15drop\u6389\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> emp_no<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E13\u5FC3\u5206\u6790\u7D22\u5F15PRIMARY\u7684\u884C\u4E3A\u4E86\u3002</p><h4 id="\u60C5\u51B5\u4E00-\u5168\u5217\u5339\u914D\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u4E00-\u5168\u5217\u5339\u914D\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u4E00\uFF1A\u5168\u5217\u5339\u914D\u3002</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> title<span class="token operator">=</span><span class="token string">&#39;Senior Engineer&#39;</span> <span class="token operator">AND</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref               <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> const <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">59</span>      <span class="token operator">|</span> const<span class="token punctuation">,</span>const<span class="token punctuation">,</span>const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F88\u660E\u663E\uFF0C\u5F53\u6309\u7167\u7D22\u5F15\u4E2D\u6240\u6709\u5217\u8FDB\u884C\u7CBE\u786E\u5339\u914D\uFF08\u8FD9\u91CC\u7CBE\u786E\u5339\u914D\u6307\u201C=\u201D\u6216\u201CIN\u201D\u5339\u914D\uFF09\u65F6\uFF0C\u7D22\u5F15\u53EF\u4EE5\u88AB\u7528\u5230\u3002\u8FD9\u91CC\u6709\u4E00\u70B9\u9700\u8981\u6CE8\u610F\uFF0C\u7406\u8BBA\u4E0A\u7D22\u5F15\u5BF9\u987A\u5E8F\u662F\u654F\u611F\u7684\uFF0C\u4F46\u662F\u7531\u4E8EMySQL\u7684\u67E5\u8BE2\u4F18\u5316\u5668\u4F1A\u81EA\u52A8\u8C03\u6574where\u5B50\u53E5\u7684\u6761\u4EF6\u987A\u5E8F\u4EE5\u4F7F\u7528\u9002\u5408\u7684\u7D22\u5F15\uFF0C\u4F8B\u5982\u6211\u4EEC\u5C06where\u4E2D\u7684\u6761\u4EF6\u987A\u5E8F\u98A0\u5012\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span> <span class="token operator">AND</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> title<span class="token operator">=</span><span class="token string">&#39;Senior Engineer&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref               <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> const <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">59</span>      <span class="token operator">|</span> const<span class="token punctuation">,</span>const<span class="token punctuation">,</span>const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+-------------------+------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6548\u679C\u662F\u4E00\u6837\u7684\u3002</p><h4 id="\u60C5\u51B5\u4E8C-\u6700\u5DE6\u524D\u7F00\u5339\u914D\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u4E8C-\u6700\u5DE6\u524D\u7F00\u5339\u914D\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u4E8C\uFF1A\u6700\u5DE6\u524D\u7F00\u5339\u914D\u3002</h4><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>EXPLAIN SELECT * FROM employees.titles WHERE emp_no=&#39;10001&#39;;
+----+-------------+--------+------+---------------+---------+---------+-------+------+-------+
| id | select_type | table  | type | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+--------+------+---------------+---------+---------+-------+------+-------+
|  1 | SIMPLE      | titles | ref  | PRIMARY       | PRIMARY | 4       | const |    1 |       |
+----+-------------+--------+------+---------------+---------+---------+-------+------+-------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u67E5\u8BE2\u6761\u4EF6\u7CBE\u786E\u5339\u914D\u7D22\u5F15\u7684\u5DE6\u8FB9\u8FDE\u7EED\u4E00\u4E2A\u6216\u51E0\u4E2A\u5217\u65F6\uFF0C\u5982&lt;emp_no&gt;\u6216&lt;emp_no, title&gt;\uFF0C\u6240\u4EE5\u53EF\u4EE5\u88AB\u7528\u5230\uFF0C\u4F46\u662F\u53EA\u80FD\u7528\u5230\u4E00\u90E8\u5206\uFF0C\u5373\u6761\u4EF6\u6240\u7EC4\u6210\u7684\u6700\u5DE6\u524D\u7F00\u3002\u4E0A\u9762\u7684\u67E5\u8BE2\u4ECE\u5206\u6790\u7ED3\u679C\u770B\u7528\u5230\u4E86PRIMARY\u7D22\u5F15\uFF0C\u4F46\u662Fkey_len\u4E3A4\uFF0C\u8BF4\u660E\u53EA\u7528\u5230\u4E86\u7D22\u5F15\u7684\u7B2C\u4E00\u5217\u524D\u7F00\u3002</p><h4 id="\u60C5\u51B5\u4E09-\u67E5\u8BE2\u6761\u4EF6\u7528\u5230\u4E86\u7D22\u5F15\u4E2D\u5217\u7684\u7CBE\u786E\u5339\u914D-\u4F46\u662F\u4E2D\u95F4\u67D0\u4E2A\u6761\u4EF6\u672A\u63D0\u4F9B\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u4E09-\u67E5\u8BE2\u6761\u4EF6\u7528\u5230\u4E86\u7D22\u5F15\u4E2D\u5217\u7684\u7CBE\u786E\u5339\u914D-\u4F46\u662F\u4E2D\u95F4\u67D0\u4E2A\u6761\u4EF6\u672A\u63D0\u4F9B\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u4E09\uFF1A\u67E5\u8BE2\u6761\u4EF6\u7528\u5230\u4E86\u7D22\u5F15\u4E2D\u5217\u7684\u7CBE\u786E\u5339\u914D\uFF0C\u4F46\u662F\u4E2D\u95F4\u67D0\u4E2A\u6761\u4EF6\u672A\u63D0\u4F9B\u3002</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref   <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6\u7D22\u5F15\u4F7F\u7528\u60C5\u51B5\u548C\u60C5\u51B5\u4E8C\u76F8\u540C\uFF0C\u56E0\u4E3Atitle\u672A\u63D0\u4F9B\uFF0C\u6240\u4EE5\u67E5\u8BE2\u53EA\u7528\u5230\u4E86\u7D22\u5F15\u7684\u7B2C\u4E00\u5217\uFF0C\u800C\u540E\u9762\u7684from_date\u867D\u7136\u4E5F\u5728\u7D22\u5F15\u4E2D\uFF0C\u4F46\u662F\u7531\u4E8Etitle\u4E0D\u5B58\u5728\u800C\u65E0\u6CD5\u548C\u5DE6\u524D\u7F00\u8FDE\u63A5\uFF0C\u56E0\u6B64\u9700\u8981\u5BF9\u7ED3\u679C\u8FDB\u884C\u626B\u63CF\u8FC7\u6EE4from_date\uFF08\u8FD9\u91CC\u7531\u4E8Eemp_no\u552F\u4E00\uFF0C\u6240\u4EE5\u4E0D\u5B58\u5728\u626B\u63CF\uFF09\u3002\u5982\u679C\u60F3\u8BA9from_date\u4E5F\u4F7F\u7528\u7D22\u5F15\u800C\u4E0D\u662Fwhere\u8FC7\u6EE4\uFF0C\u53EF\u4EE5\u589E\u52A0\u4E00\u4E2A\u8F85\u52A9\u7D22\u5F15&lt;emp_no, from_date&gt;\uFF0C\u6B64\u65F6\u4E0A\u9762\u7684\u67E5\u8BE2\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u7D22\u5F15\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528\u4E00\u79CD\u79F0\u4E4B\u4E3A\u201C\u9694\u79BB\u5217\u201D\u7684\u4F18\u5316\u65B9\u6CD5\uFF0C\u5C06emp_no\u4E0Efrom_date\u4E4B\u95F4\u7684\u201C\u5751\u201D\u586B\u4E0A\u3002</p><p>\u9996\u5148\u6211\u4EEC\u770B\u4E0Btitle\u4E00\u5171\u6709\u51E0\u79CD\u4E0D\u540C\u7684\u503C\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> title              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> Senior Engineer    <span class="token operator">|</span>
<span class="token operator">|</span> Staff              <span class="token operator">|</span>
<span class="token operator">|</span> Engineer           <span class="token operator">|</span>
<span class="token operator">|</span> Senior Staff       <span class="token operator">|</span>
<span class="token operator">|</span> Assistant Engineer <span class="token operator">|</span>
<span class="token operator">|</span> Technique Leader   <span class="token operator">|</span>
<span class="token operator">|</span> Manager            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EA\u67097\u79CD\u3002\u5728\u8FD9\u79CD\u6210\u4E3A\u201C\u5751\u201D\u7684\u5217\u503C\u6BD4\u8F83\u5C11\u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u8003\u8651\u7528\u201CIN\u201D\u6765\u586B\u8865\u8FD9\u4E2A\u201C\u5751\u201D\u4ECE\u800C\u5F62\u6210\u6700\u5DE6\u524D\u7F00\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles
<span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span>
<span class="token operator">AND</span> title <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;Senior Engineer&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Staff&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Engineer&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Senior Staff&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Assistant Engineer&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Technique Leader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Manager&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> range <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">59</span>      <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u6B21key_len\u4E3A59\uFF0C\u8BF4\u660E\u7D22\u5F15\u88AB\u7528\u5168\u4E86\uFF0C\u4F46\u662F\u4ECEtype\u548Crows\u770B\u51FAIN\u5B9E\u9645\u4E0A\u6267\u884C\u4E86\u4E00\u4E2Arange\u67E5\u8BE2\uFF0C\u8FD9\u91CC\u68C0\u67E5\u4E867\u4E2Akey\u3002\u770B\u4E0B\u4E24\u79CD\u67E5\u8BE2\u7684\u6027\u80FD\u6BD4\u8F83\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PROFILES<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+------------+-------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> Query_ID <span class="token operator">|</span> Duration   <span class="token operator">|</span> Query                                                                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------+-------------------------------------------------------------------------------+</span>
<span class="token operator">|</span>       <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">0.00058000</span> <span class="token operator">|</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span><span class="token operator">|</span>
<span class="token operator">|</span>       <span class="token number">11</span> <span class="token operator">|</span> <span class="token number">0.00052500</span> <span class="token operator">|</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> title <span class="token operator">IN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------+-------------------------------------------------------------------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u201C\u586B\u5751\u201D\u540E\u6027\u80FD\u63D0\u5347\u4E86\u4E00\u70B9\u3002\u5982\u679C\u7ECF\u8FC7emp_no\u7B5B\u9009\u540E\u4F59\u4E0B\u5F88\u591A\u6570\u636E\uFF0C\u5219\u540E\u8005\u6027\u80FD\u4F18\u52BF\u4F1A\u66F4\u52A0\u660E\u663E\u3002\u5F53\u7136\uFF0C\u5982\u679Ctitle\u7684\u503C\u5F88\u591A\uFF0C\u7528\u586B\u5751\u5C31\u4E0D\u5408\u9002\u4E86\uFF0C\u5FC5\u987B\u5EFA\u7ACB\u8F85\u52A9\u7D22\u5F15\u3002</p><h4 id="\u60C5\u51B5\u56DB-\u67E5\u8BE2\u6761\u4EF6\u6CA1\u6709\u6307\u5B9A\u7D22\u5F15\u7B2C\u4E00\u5217\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u56DB-\u67E5\u8BE2\u6761\u4EF6\u6CA1\u6709\u6307\u5B9A\u7D22\u5F15\u7B2C\u4E00\u5217\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u56DB\uFF1A\u67E5\u8BE2\u6761\u4EF6\u6CA1\u6709\u6307\u5B9A\u7D22\u5F15\u7B2C\u4E00\u5217\u3002</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> from_date<span class="token operator">=</span><span class="token string">&#39;1986-06-26&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span>   <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">443308</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7531\u4E8E\u4E0D\u662F\u6700\u5DE6\u524D\u7F00\uFF0C\u7D22\u5F15\u8FD9\u6837\u7684\u67E5\u8BE2\u663E\u7136\u7528\u4E0D\u5230\u7D22\u5F15\u3002</p><h4 id="\u60C5\u51B5\u4E94-\u5339\u914D\u67D0\u5217\u7684\u524D\u7F00\u5B57\u7B26\u4E32\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u4E94-\u5339\u914D\u67D0\u5217\u7684\u524D\u7F00\u5B57\u7B26\u4E32\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u4E94\uFF1A\u5339\u914D\u67D0\u5217\u7684\u524D\u7F00\u5B57\u7B26\u4E32\u3002</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> title <span class="token operator">LIKE</span> <span class="token string">&#39;Senior%&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> range <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">56</span>      <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6\u53EF\u4EE5\u7528\u5230\u7D22\u5F15\uFF0C<s>\u4F46\u662F\u5982\u679C\u901A\u914D\u7B26\u4E0D\u662F\u53EA\u51FA\u73B0\u5728\u672B\u5C3E\uFF0C\u5219\u65E0\u6CD5\u4F7F\u7528\u7D22\u5F15\u3002</s>\uFF08\u539F\u6587\u8868\u8FF0\u6709\u8BEF\uFF0C\u5982\u679C\u901A\u914D\u7B26%\u4E0D\u51FA\u73B0\u5728\u5F00\u5934\uFF0C\u5219\u53EF\u4EE5\u7528\u5230\u7D22\u5F15\uFF0C\u4F46\u6839\u636E\u5177\u4F53\u60C5\u51B5\u4E0D\u540C\u53EF\u80FD\u53EA\u4F1A\u7528\u5176\u4E2D\u4E00\u4E2A\u524D\u7F00\uFF09</p><h4 id="\u60C5\u51B5\u516D-\u8303\u56F4\u67E5\u8BE2\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u516D-\u8303\u56F4\u67E5\u8BE2\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u516D\uFF1A\u8303\u56F4\u67E5\u8BE2\u3002</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no <span class="token operator">&lt;</span> <span class="token string">&#39;10010&#39;</span> <span class="token operator">and</span> title<span class="token operator">=</span><span class="token string">&#39;Senior Engineer&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> range <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token number">16</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8303\u56F4\u5217\u53EF\u4EE5\u7528\u5230\u7D22\u5F15\uFF08\u5FC5\u987B\u662F\u6700\u5DE6\u524D\u7F00\uFF09\uFF0C\u4F46\u662F\u8303\u56F4\u5217\u540E\u9762\u7684\u5217\u65E0\u6CD5\u7528\u5230\u7D22\u5F15\u3002\u540C\u65F6\uFF0C\u7D22\u5F15\u6700\u591A\u7528\u4E8E\u4E00\u4E2A\u8303\u56F4\u5217\uFF0C\u56E0\u6B64\u5982\u679C\u67E5\u8BE2\u6761\u4EF6\u4E2D\u6709\u4E24\u4E2A\u8303\u56F4\u5217\u5219\u65E0\u6CD5\u5168\u7528\u5230\u7D22\u5F15\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles
<span class="token keyword">WHERE</span> emp_no <span class="token operator">&lt;</span> <span class="token string">&#39;10010&#39;</span>
<span class="token operator">AND</span> title<span class="token operator">=</span><span class="token string">&#39;Senior Engineer&#39;</span>
<span class="token operator">AND</span> from_date <span class="token operator">BETWEEN</span> <span class="token string">&#39;1986-01-01&#39;</span> <span class="token operator">AND</span> <span class="token string">&#39;1986-12-31&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> range <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token number">16</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\u7D22\u5F15\u5BF9\u7B2C\u4E8C\u4E2A\u8303\u56F4\u7D22\u5F15\u65E0\u80FD\u4E3A\u529B\u3002\u8FD9\u91CC\u7279\u522B\u8981\u8BF4\u660EMySQL\u4E00\u4E2A\u6709\u610F\u601D\u7684\u5730\u65B9\uFF0C\u90A3\u5C31\u662F\u4EC5\u7528explain\u53EF\u80FD\u65E0\u6CD5\u533A\u5206\u8303\u56F4\u7D22\u5F15\u548C\u591A\u503C\u5339\u914D\uFF0C\u56E0\u4E3A\u5728type\u4E2D\u8FD9\u4E24\u8005\u90FD\u663E\u793A\u4E3Arange\u3002\u540C\u65F6\uFF0C\u7528\u4E86\u201Cbetween\u201D\u5E76\u4E0D\u610F\u5473\u7740\u5C31\u662F\u8303\u56F4\u67E5\u8BE2\uFF0C\u4F8B\u5982\u4E0B\u9762\u7684\u67E5\u8BE2\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles
<span class="token keyword">WHERE</span> emp_no <span class="token operator">BETWEEN</span> <span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> <span class="token string">&#39;10010&#39;</span>
<span class="token operator">AND</span> title<span class="token operator">=</span><span class="token string">&#39;Senior Engineer&#39;</span>
<span class="token operator">AND</span> from_date <span class="token operator">BETWEEN</span> <span class="token string">&#39;1986-01-01&#39;</span> <span class="token operator">AND</span> <span class="token string">&#39;1986-12-31&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> range <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">59</span>      <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token number">16</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+-------+---------------+---------+---------+------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u770B\u8D77\u6765\u662F\u7528\u4E86\u4E24\u4E2A\u8303\u56F4\u67E5\u8BE2\uFF0C\u4F46\u4F5C\u7528\u4E8Eemp_no\u4E0A\u7684\u201CBETWEEN\u201D\u5B9E\u9645\u4E0A\u76F8\u5F53\u4E8E\u201CIN\u201D\uFF0C\u4E5F\u5C31\u662F\u8BF4emp_no\u5B9E\u9645\u662F\u591A\u503C\u7CBE\u786E\u5339\u914D\u3002\u53EF\u4EE5\u770B\u5230\u8FD9\u4E2A\u67E5\u8BE2\u7528\u5230\u4E86\u7D22\u5F15\u5168\u90E8\u4E09\u4E2A\u5217\u3002\u56E0\u6B64\u5728MySQL\u4E2D\u8981\u8C28\u614E\u5730\u533A\u5206\u591A\u503C\u5339\u914D\u548C\u8303\u56F4\u5339\u914D\uFF0C\u5426\u5219\u4F1A\u5BF9MySQL\u7684\u884C\u4E3A\u4EA7\u751F\u56F0\u60D1\u3002</p><h4 id="\u60C5\u51B5\u4E03-\u67E5\u8BE2\u6761\u4EF6\u4E2D\u542B\u6709\u51FD\u6570\u6216\u8868\u8FBE\u5F0F\u3002" tabindex="-1"><a class="header-anchor" href="#\u60C5\u51B5\u4E03-\u67E5\u8BE2\u6761\u4EF6\u4E2D\u542B\u6709\u51FD\u6570\u6216\u8868\u8FBE\u5F0F\u3002" aria-hidden="true">#</a> \u60C5\u51B5\u4E03\uFF1A\u67E5\u8BE2\u6761\u4EF6\u4E2D\u542B\u6709\u51FD\u6570\u6216\u8868\u8FBE\u5F0F\u3002</h4><p>\u5F88\u4E0D\u5E78\uFF0C\u5982\u679C\u67E5\u8BE2\u6761\u4EF6\u4E2D\u542B\u6709\u51FD\u6570\u6216\u8868\u8FBE\u5F0F\uFF0C\u5219MySQL\u4E0D\u4F1A\u4E3A\u8FD9\u5217\u4F7F\u7528\u7D22\u5F15\uFF08\u867D\u7136\u67D0\u4E9B\u5728\u6570\u5B66\u610F\u4E49\u4E0A\u53EF\u4EE5\u4F7F\u7528\uFF09\u3002\u4F8B\u5982\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no<span class="token operator">=</span><span class="token string">&#39;10001&#39;</span> <span class="token operator">AND</span> <span class="token keyword">left</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&#39;Senior&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref   <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+---------+---------+-------+------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u867D\u7136\u8FD9\u4E2A\u67E5\u8BE2\u548C\u60C5\u51B5\u4E94\u4E2D\u529F\u80FD\u76F8\u540C\uFF0C\u4F46\u662F\u7531\u4E8E\u4F7F\u7528\u4E86\u51FD\u6570left\uFF0C\u5219\u65E0\u6CD5\u4E3Atitle\u5217\u5E94\u7528\u7D22\u5F15\uFF0C\u800C\u60C5\u51B5\u4E94\u4E2D\u7528LIKE\u5219\u53EF\u4EE5\u3002\u518D\u5982\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles <span class="token keyword">WHERE</span> emp_no <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">=</span><span class="token string">&#39;10000&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>  <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span>   <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> titles <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">443308</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+--------+------+---------------+------+---------+------+--------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u663E\u7136\u8FD9\u4E2A\u67E5\u8BE2\u7B49\u4EF7\u4E8E\u67E5\u8BE2emp_no\u4E3A10001\u7684\u51FD\u6570\uFF0C\u4F46\u662F\u7531\u4E8E\u67E5\u8BE2\u6761\u4EF6\u662F\u4E00\u4E2A\u8868\u8FBE\u5F0F\uFF0CMySQL\u65E0\u6CD5\u4E3A\u5176\u4F7F\u7528\u7D22\u5F15\u3002\u770B\u6765MySQL\u8FD8\u6CA1\u6709\u667A\u80FD\u5230\u81EA\u52A8\u4F18\u5316\u5E38\u91CF\u8868\u8FBE\u5F0F\u7684\u7A0B\u5EA6\uFF0C\u56E0\u6B64\u5728\u5199\u67E5\u8BE2\u8BED\u53E5\u65F6\u5C3D\u91CF\u907F\u514D\u8868\u8FBE\u5F0F\u51FA\u73B0\u5728\u67E5\u8BE2\u4E2D\uFF0C\u800C\u662F\u5148\u624B\u5DE5\u79C1\u4E0B\u4EE3\u6570\u8FD0\u7B97\uFF0C\u8F6C\u6362\u4E3A\u65E0\u8868\u8FBE\u5F0F\u7684\u67E5\u8BE2\u8BED\u53E5\u3002</p><h3 id="\u7D22\u5F15\u9009\u62E9\u6027\u4E0E\u524D\u7F00\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u9009\u62E9\u6027\u4E0E\u524D\u7F00\u7D22\u5F15" aria-hidden="true">#</a> \u7D22\u5F15\u9009\u62E9\u6027\u4E0E\u524D\u7F00\u7D22\u5F15</h3><p>\u65E2\u7136\u7D22\u5F15\u53EF\u4EE5\u52A0\u5FEB\u67E5\u8BE2\u901F\u5EA6\uFF0C\u90A3\u4E48\u662F\u4E0D\u662F\u53EA\u8981\u662F\u67E5\u8BE2\u8BED\u53E5\u9700\u8981\uFF0C\u5C31\u5EFA\u4E0A\u7D22\u5F15\uFF1F\u7B54\u6848\u662F\u5426\u5B9A\u7684\u3002\u56E0\u4E3A\u7D22\u5F15\u867D\u7136\u52A0\u5FEB\u4E86\u67E5\u8BE2\u901F\u5EA6\uFF0C\u4F46\u7D22\u5F15\u4E5F\u662F\u6709\u4EE3\u4EF7\u7684\uFF1A\u7D22\u5F15\u6587\u4EF6\u672C\u8EAB\u8981\u6D88\u8017\u5B58\u50A8\u7A7A\u95F4\uFF0C\u540C\u65F6\u7D22\u5F15\u4F1A\u52A0\u91CD\u63D2\u5165\u3001\u5220\u9664\u548C\u4FEE\u6539\u8BB0\u5F55\u65F6\u7684\u8D1F\u62C5\uFF0C\u53E6\u5916\uFF0CMySQL\u5728\u8FD0\u884C\u65F6\u4E5F\u8981\u6D88\u8017\u8D44\u6E90\u7EF4\u62A4\u7D22\u5F15\uFF0C\u56E0\u6B64\u7D22\u5F15\u5E76\u4E0D\u662F\u8D8A\u591A\u8D8A\u597D\u3002\u4E00\u822C\u4E24\u79CD\u60C5\u51B5\u4E0B\u4E0D\u5EFA\u8BAE\u5EFA\u7D22\u5F15\u3002</p><p>\u7B2C\u4E00\u79CD\u60C5\u51B5\u662F\u8868\u8BB0\u5F55\u6BD4\u8F83\u5C11\uFF0C\u4F8B\u5982\u4E00\u4E24\u5343\u6761\u751A\u81F3\u53EA\u6709\u51E0\u767E\u6761\u8BB0\u5F55\u7684\u8868\uFF0C\u6CA1\u5FC5\u8981\u5EFA\u7D22\u5F15\uFF0C\u8BA9\u67E5\u8BE2\u505A\u5168\u8868\u626B\u63CF\u5C31\u597D\u4E86\u3002\u81F3\u4E8E\u591A\u5C11\u6761\u8BB0\u5F55\u624D\u7B97\u591A\uFF0C\u8FD9\u4E2A\u4E2A\u4EBA\u6709\u4E2A\u4EBA\u7684\u770B\u6CD5\uFF0C\u6211\u4E2A\u4EBA\u7684\u7ECF\u9A8C\u662F\u4EE52000\u4F5C\u4E3A\u5206\u754C\u7EBF\uFF0C\u8BB0\u5F55\u6570\u4E0D\u8D85\u8FC7 2000\u53EF\u4EE5\u8003\u8651\u4E0D\u5EFA\u7D22\u5F15\uFF0C\u8D85\u8FC72000\u6761\u53EF\u4EE5\u914C\u60C5\u8003\u8651\u7D22\u5F15\u3002</p><p>\u53E6\u4E00\u79CD\u4E0D\u5EFA\u8BAE\u5EFA\u7D22\u5F15\u7684\u60C5\u51B5\u662F\u7D22\u5F15\u7684\u9009\u62E9\u6027\u8F83\u4F4E\u3002\u6240\u8C13\u7D22\u5F15\u7684\u9009\u62E9\u6027\uFF08Selectivity\uFF09\uFF0C\u662F\u6307\u4E0D\u91CD\u590D\u7684\u7D22\u5F15\u503C\uFF08\u4E5F\u53EB\u57FA\u6570\uFF0CCardinality\uFF09\u4E0E\u8868\u8BB0\u5F55\u6570\uFF08#T\uFF09\u7684\u6BD4\u503C\uFF1A</p><p>Index Selectivity = Cardinality / #T</p><p>\u663E\u7136\u9009\u62E9\u6027\u7684\u53D6\u503C\u8303\u56F4\u4E3A(0, 1]\uFF0C\u9009\u62E9\u6027\u8D8A\u9AD8\u7684\u7D22\u5F15\u4EF7\u503C\u8D8A\u5927\uFF0C\u8FD9\u662F\u7531B+Tree\u7684\u6027\u8D28\u51B3\u5B9A\u7684\u3002\u4F8B\u5982\uFF0C\u4E0A\u6587\u7528\u5230\u7684employees.titles\u8868\uFF0C\u5982\u679Ctitle\u5B57\u6BB5\u7ECF\u5E38\u88AB\u5355\u72EC\u67E5\u8BE2\uFF0C\u662F\u5426\u9700\u8981\u5EFA\u7D22\u5F15\uFF0C\u6211\u4EEC\u770B\u4E00\u4E0B\u5B83\u7684\u9009\u62E9\u6027\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Selectivity <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>titles<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> Selectivity <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>      <span class="token number">0.0000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>title\u7684\u9009\u62E9\u6027\u4E0D\u8DB30.0001\uFF08\u7CBE\u786E\u503C\u4E3A0.00001579\uFF09\uFF0C\u6240\u4EE5\u5B9E\u5728\u6CA1\u6709\u4EC0\u4E48\u5FC5\u8981\u4E3A\u5176\u5355\u72EC\u5EFA\u7D22\u5F15\u3002</p><p>\u6709\u4E00\u79CD\u4E0E\u7D22\u5F15\u9009\u62E9\u6027\u6709\u5173\u7684\u7D22\u5F15\u4F18\u5316\u7B56\u7565\u53EB\u505A\u524D\u7F00\u7D22\u5F15\uFF0C\u5C31\u662F\u7528\u5217\u7684\u524D\u7F00\u4EE3\u66FF\u6574\u4E2A\u5217\u4F5C\u4E3A\u7D22\u5F15key\uFF0C\u5F53\u524D\u7F00\u957F\u5EA6\u5408\u9002\u65F6\uFF0C\u53EF\u4EE5\u505A\u5230\u65E2\u4F7F\u5F97\u524D\u7F00\u7D22\u5F15\u7684\u9009\u62E9\u6027\u63A5\u8FD1\u5168\u5217\u7D22\u5F15\uFF0C\u540C\u65F6\u56E0\u4E3A\u7D22\u5F15key\u53D8\u77ED\u800C\u51CF\u5C11\u4E86\u7D22\u5F15\u6587\u4EF6\u7684\u5927\u5C0F\u548C\u7EF4\u62A4\u5F00\u9500\u3002\u4E0B\u9762\u4EE5employees.employees\u8868\u4E3A\u4F8B\u4ECB\u7ECD\u524D\u7F00\u7D22\u5F15\u7684\u9009\u62E9\u548C\u4F7F\u7528\u3002</p><p>\u4ECE\u56FE12\u53EF\u4EE5\u770B\u5230employees\u8868\u53EA\u6709\u4E00\u4E2A\u7D22\u5F15&lt;emp_no&gt;\uFF0C\u90A3\u4E48\u5982\u679C\u6211\u4EEC\u60F3\u6309\u540D\u5B57\u641C\u7D22\u4E00\u4E2A\u4EBA\uFF0C\u5C31\u53EA\u80FD\u5168\u8868\u626B\u63CF\u4E86\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees <span class="token keyword">WHERE</span> first_name<span class="token operator">=</span><span class="token string">&#39;Eric&#39;</span> <span class="token operator">AND</span> last_name<span class="token operator">=</span><span class="token string">&#39;Anido&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-----------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>     <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span>   <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-----------+------+---------------+------+---------+------+--------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> employees <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">300024</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-----------+------+---------------+------+---------+------+--------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u9891\u7E41\u6309\u540D\u5B57\u641C\u7D22\u5458\u5DE5\uFF0C\u8FD9\u6837\u663E\u7136\u6548\u7387\u5F88\u4F4E\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u8003\u8651\u5EFA\u7D22\u5F15\u3002\u6709\u4E24\u79CD\u9009\u62E9\uFF0C\u5EFA&lt;first_name&gt;\u6216&lt;first_name, last_name&gt;\uFF0C\u770B\u4E0B\u4E24\u4E2A\u7D22\u5F15\u7684\u9009\u62E9\u6027\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>first_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Selectivity <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> Selectivity <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>      <span class="token number">0.0042</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Selectivity <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> Selectivity <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>      <span class="token number">0.9313</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&lt;first_name&gt;\u663E\u7136\u9009\u62E9\u6027\u592A\u4F4E\uFF0C&lt;first_name, last_name&gt;\u9009\u62E9\u6027\u5F88\u597D\uFF0C\u4F46\u662Ffirst_name\u548Clast_name\u52A0\u8D77\u6765\u957F\u5EA6\u4E3A30\uFF0C\u6709\u6CA1\u6709\u517C\u987E\u957F\u5EA6\u548C\u9009\u62E9\u6027\u7684\u529E\u6CD5\uFF1F\u53EF\u4EE5\u8003\u8651\u7528first_name\u548Clast_name\u7684\u524D\u51E0\u4E2A\u5B57\u7B26\u5EFA\u7ACB\u7D22\u5F15\uFF0C\u4F8B\u5982&lt;first_name, left(last_name, 3)&gt;\uFF0C\u770B\u770B\u5176\u9009\u62E9\u6027\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> <span class="token keyword">left</span><span class="token punctuation">(</span>last_name<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Selectivity <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> Selectivity <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>      <span class="token number">0.7879</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9009\u62E9\u6027\u8FD8\u4E0D\u9519\uFF0C\u4F46\u79BB0.9313\u8FD8\u662F\u6709\u70B9\u8DDD\u79BB\uFF0C\u90A3\u4E48\u628Alast_name\u524D\u7F00\u52A0\u52304\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> <span class="token keyword">left</span><span class="token punctuation">(</span>last_name<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> Selectivity <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> Selectivity <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>      <span class="token number">0.9007</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u65F6\u9009\u62E9\u6027\u5DF2\u7ECF\u5F88\u7406\u60F3\u4E86\uFF0C\u800C\u8FD9\u4E2A\u7D22\u5F15\u7684\u957F\u5EA6\u53EA\u670918\uFF0C\u6BD4&lt;first_name, last_name&gt;\u77ED\u4E86\u63A5\u8FD1\u4E00\u534A\uFF0C\u6211\u4EEC\u628A\u8FD9\u4E2A\u524D\u7F00\u7D22\u5F15 \u5EFA\u4E0A\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employees<span class="token punctuation">.</span>employees
<span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> <span class="token identifier"><span class="token punctuation">\`</span>first_name_last_name4<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6\u518D\u6267\u884C\u4E00\u904D\u6309\u540D\u5B57\u67E5\u8BE2\uFF0C\u6BD4\u8F83\u5206\u6790\u4E00\u4E0B\u4E0E\u5EFA\u7D22\u5F15\u524D\u7684\u7ED3\u679C\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PROFILES<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+------------+---------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> Query_ID <span class="token operator">|</span> Duration   <span class="token operator">|</span> Query                                                                           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------+---------------------------------------------------------------------------------+</span>
<span class="token operator">|</span>       <span class="token number">87</span> <span class="token operator">|</span> <span class="token number">0.11941700</span> <span class="token operator">|</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees <span class="token keyword">WHERE</span> first_name<span class="token operator">=</span><span class="token string">&#39;Eric&#39;</span> <span class="token operator">AND</span> last_name<span class="token operator">=</span><span class="token string">&#39;Anido&#39;</span> <span class="token operator">|</span>
<span class="token operator">|</span>       <span class="token number">90</span> <span class="token operator">|</span> <span class="token number">0.00092400</span> <span class="token operator">|</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">.</span>employees <span class="token keyword">WHERE</span> first_name<span class="token operator">=</span><span class="token string">&#39;Eric&#39;</span> <span class="token operator">AND</span> last_name<span class="token operator">=</span><span class="token string">&#39;Anido&#39;</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------+---------------------------------------------------------------------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6027\u80FD\u7684\u63D0\u5347\u662F\u663E\u8457\u7684\uFF0C\u67E5\u8BE2\u901F\u5EA6\u63D0\u9AD8\u4E86120\u591A\u500D\u3002</p><p>\u524D\u7F00\u7D22\u5F15\u517C\u987E\u7D22\u5F15\u5927\u5C0F\u548C\u67E5\u8BE2\u901F\u5EA6\uFF0C\u4F46\u662F\u5176\u7F3A\u70B9\u662F\u4E0D\u80FD\u7528\u4E8EORDER BY\u548CGROUP BY\u64CD\u4F5C\uFF0C\u4E5F\u4E0D\u80FD\u7528\u4E8ECovering index\uFF08\u5373\u5F53\u7D22\u5F15\u672C\u8EAB\u5305\u542B\u67E5\u8BE2\u6240\u9700\u5168\u90E8\u6570\u636E\u65F6\uFF0C\u4E0D\u518D\u8BBF\u95EE\u6570\u636E\u6587\u4EF6\u672C\u8EAB\uFF09\u3002</p><h3 id="innodb\u7684\u4E3B\u952E\u9009\u62E9\u4E0E\u63D2\u5165\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#innodb\u7684\u4E3B\u952E\u9009\u62E9\u4E0E\u63D2\u5165\u4F18\u5316" aria-hidden="true">#</a> InnoDB\u7684\u4E3B\u952E\u9009\u62E9\u4E0E\u63D2\u5165\u4F18\u5316</h3><p>\u5728\u4F7F\u7528InnoDB\u5B58\u50A8\u5F15\u64CE\u65F6\uFF0C\u5982\u679C\u6CA1\u6709\u7279\u522B\u7684\u9700\u8981\uFF0C\u8BF7\u6C38\u8FDC\u4F7F\u7528\u4E00\u4E2A\u4E0E\u4E1A\u52A1\u65E0\u5173\u7684\u81EA\u589E\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\u3002</p><p>\u7ECF\u5E38\u770B\u5230\u6709\u5E16\u5B50\u6216\u535A\u5BA2\u8BA8\u8BBA\u4E3B\u952E\u9009\u62E9\u95EE\u9898\uFF0C\u6709\u4EBA\u5EFA\u8BAE\u4F7F\u7528\u4E1A\u52A1\u65E0\u5173\u7684\u81EA\u589E\u4E3B\u952E\uFF0C\u6709\u4EBA\u89C9\u5F97\u6CA1\u6709\u5FC5\u8981\uFF0C\u5B8C\u5168\u53EF\u4EE5\u4F7F\u7528\u5982\u5B66\u53F7\u6216\u8EAB\u4EFD\u8BC1\u53F7\u8FD9\u79CD\u552F\u4E00\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E\u3002\u4E0D\u8BBA\u652F\u6301\u54EA\u79CD\u8BBA\u70B9\uFF0C\u5927\u591A\u6570\u8BBA\u636E\u90FD\u662F\u4E1A\u52A1\u5C42\u9762\u7684\u3002\u5982\u679C\u4ECE\u6570\u636E\u5E93\u7D22\u5F15\u4F18\u5316\u89D2\u5EA6\u770B\uFF0C\u4F7F\u7528InnoDB\u5F15\u64CE\u800C\u4E0D\u4F7F\u7528\u81EA\u589E\u4E3B\u952E\u7EDD\u5BF9\u662F\u4E00\u4E2A\u7CDF\u7CD5\u7684\u4E3B\u610F\u3002</p><p>\u4E0A\u6587\u8BA8\u8BBA\u8FC7InnoDB\u7684\u7D22\u5F15\u5B9E\u73B0\uFF0CInnoDB\u4F7F\u7528\u805A\u96C6\u7D22\u5F15\uFF0C\u6570\u636E\u8BB0\u5F55\u672C\u8EAB\u88AB\u5B58\u4E8E\u4E3B\u7D22\u5F15\uFF08\u4E00\u9897B+Tree\uFF09\u7684\u53F6\u5B50\u8282\u70B9\u4E0A\u3002\u8FD9\u5C31\u8981\u6C42\u540C\u4E00\u4E2A\u53F6\u5B50\u8282\u70B9\u5185\uFF08\u5927\u5C0F\u4E3A\u4E00\u4E2A\u5185\u5B58\u9875\u6216\u78C1\u76D8\u9875\uFF09\u7684\u5404\u6761\u6570\u636E\u8BB0\u5F55\u6309\u4E3B\u952E\u987A\u5E8F\u5B58\u653E\uFF0C\u56E0\u6B64\u6BCF\u5F53\u6709\u4E00\u6761\u65B0\u7684\u8BB0\u5F55\u63D2\u5165\u65F6\uFF0CMySQL\u4F1A\u6839\u636E\u5176\u4E3B\u952E\u5C06\u5176\u63D2\u5165\u9002\u5F53\u7684\u8282\u70B9\u548C\u4F4D\u7F6E\uFF0C\u5982\u679C\u9875\u9762\u8FBE\u5230\u88C5\u8F7D\u56E0\u5B50\uFF08InnoDB\u9ED8\u8BA4\u4E3A15/16\uFF09\uFF0C\u5219\u5F00\u8F9F\u4E00\u4E2A\u65B0\u7684\u9875\uFF08\u8282\u70B9\uFF09\u3002</p><p>\u5982\u679C\u8868\u4F7F\u7528\u81EA\u589E\u4E3B\u952E\uFF0C\u90A3\u4E48\u6BCF\u6B21\u63D2\u5165\u65B0\u7684\u8BB0\u5F55\uFF0C\u8BB0\u5F55\u5C31\u4F1A\u987A\u5E8F\u6DFB\u52A0\u5230\u5F53\u524D\u7D22\u5F15\u8282\u70B9\u7684\u540E\u7EED\u4F4D\u7F6E\uFF0C\u5F53\u4E00\u9875\u5199\u6EE1\uFF0C\u5C31\u4F1A\u81EA\u52A8\u5F00\u8F9F\u4E00\u4E2A\u65B0\u7684\u9875\u3002\u5982\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/13.png" alt="img"></p><p>\u56FE13</p><p>\u8FD9\u6837\u5C31\u4F1A\u5F62\u6210\u4E00\u4E2A\u7D27\u51D1\u7684\u7D22\u5F15\u7ED3\u6784\uFF0C\u8FD1\u4F3C\u987A\u5E8F\u586B\u6EE1\u3002\u7531\u4E8E\u6BCF\u6B21\u63D2\u5165\u65F6\u4E5F\u4E0D\u9700\u8981\u79FB\u52A8\u5DF2\u6709\u6570\u636E\uFF0C\u56E0\u6B64\u6548\u7387\u5F88\u9AD8\uFF0C\u4E5F\u4E0D\u4F1A\u589E\u52A0\u5F88\u591A\u5F00\u9500\u5728\u7EF4\u62A4\u7D22\u5F15\u4E0A\u3002</p><p>\u5982\u679C\u4F7F\u7528\u975E\u81EA\u589E\u4E3B\u952E\uFF08\u5982\u679C\u8EAB\u4EFD\u8BC1\u53F7\u6216\u5B66\u53F7\u7B49\uFF09\uFF0C\u7531\u4E8E\u6BCF\u6B21\u63D2\u5165\u4E3B\u952E\u7684\u503C\u8FD1\u4F3C\u4E8E\u968F\u673A\uFF0C\u56E0\u6B64\u6BCF\u6B21\u65B0\u7EAA\u5F55\u90FD\u8981\u88AB\u63D2\u5230\u73B0\u6709\u7D22\u5F15\u9875\u5F97\u4E2D\u95F4\u67D0\u4E2A\u4F4D\u7F6E\uFF1A</p><p><img src="http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/14.png" alt="img"></p><p>\u56FE14</p><p>\u6B64\u65F6MySQL\u4E0D\u5F97\u4E0D\u4E3A\u4E86\u5C06\u65B0\u8BB0\u5F55\u63D2\u5230\u5408\u9002\u4F4D\u7F6E\u800C\u79FB\u52A8\u6570\u636E\uFF0C\u751A\u81F3\u76EE\u6807\u9875\u9762\u53EF\u80FD\u5DF2\u7ECF\u88AB\u56DE\u5199\u5230\u78C1\u76D8\u4E0A\u800C\u4ECE\u7F13\u5B58\u4E2D\u6E05\u6389\uFF0C\u6B64\u65F6\u53C8\u8981\u4ECE\u78C1\u76D8\u4E0A\u8BFB\u56DE\u6765\uFF0C\u8FD9\u589E\u52A0\u4E86\u5F88\u591A\u5F00\u9500\uFF0C\u540C\u65F6\u9891\u7E41\u7684\u79FB\u52A8\u3001\u5206\u9875\u64CD\u4F5C\u9020\u6210\u4E86\u5927\u91CF\u7684\u788E\u7247\uFF0C\u5F97\u5230\u4E86\u4E0D\u591F\u7D27\u51D1\u7684\u7D22\u5F15\u7ED3\u6784\uFF0C\u540E\u7EED\u4E0D\u5F97\u4E0D\u901A\u8FC7OPTIMIZE TABLE\u6765\u91CD\u5EFA\u8868\u5E76\u4F18\u5316\u586B\u5145\u9875\u9762\u3002</p><p>\u56E0\u6B64\uFF0C\u53EA\u8981\u53EF\u4EE5\uFF0C\u8BF7\u5C3D\u91CF\u5728InnoDB\u4E0A\u91C7\u7528\u81EA\u589E\u5B57\u6BB5\u505A\u4E3B\u952E\u3002</p><h2 id="\u540E\u8BB0" tabindex="-1"><a class="header-anchor" href="#\u540E\u8BB0" aria-hidden="true">#</a> \u540E\u8BB0</h2><p>\u8FD9\u7BC7\u6587\u7AE0\u65AD\u65AD\u7EED\u7EED\u5199\u4E86\u534A\u4E2A\u6708\uFF0C\u4E3B\u8981\u5185\u5BB9\u5C31\u662F\u4E0A\u9762\u8FD9\u4E9B\u4E86\u3002\u4E0D\u53EF\u5426\u8BA4\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u5728\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u6709\u7EB8\u4E0A\u8C08\u5175\u4E4B\u5ACC\uFF0C\u56E0\u4E3A\u6211\u672C\u4EBA\u5BF9MySQL\u7684\u4F7F\u7528\u5C5E\u4E8E\u83DC\u9E1F\u7EA7\u522B\uFF0C\u66F4\u6CA1\u6709\u592A\u591A\u6570\u636E\u5E93\u8C03\u4F18\u7684\u7ECF\u9A8C\uFF0C\u5728\u8FD9\u91CC\u5927\u8C08\u6570\u636E\u5E93\u7D22\u5F15\u8C03\u4F18\u6709\u70B9\u5927\u8A00\u4E0D\u60ED\u3002\u5C31\u5F53\u662F\u6211\u4E2A\u4EBA\u7684\u4E00\u7BC7\u5B66\u4E60\u7B14\u8BB0\u4E86\u3002</p><p>\u5176\u5B9E\u6570\u636E\u5E93\u7D22\u5F15\u8C03\u4F18\u662F\u4E00\u9879\u6280\u672F\u6D3B\uFF0C\u4E0D\u80FD\u4EC5\u4EC5\u9760\u7406\u8BBA\uFF0C\u56E0\u4E3A\u5B9E\u9645\u60C5\u51B5\u5343\u53D8\u4E07\u5316\uFF0C\u800C\u4E14MySQL\u672C\u8EAB\u5B58\u5728\u5F88\u590D\u6742\u7684\u673A\u5236\uFF0C\u5982\u67E5\u8BE2\u4F18\u5316\u7B56\u7565\u548C\u5404\u79CD\u5F15\u64CE\u7684\u5B9E\u73B0\u5DEE\u5F02\u7B49\u90FD\u4F1A\u4F7F\u60C5\u51B5\u53D8\u5F97\u66F4\u52A0\u590D\u6742\u3002\u4F46\u540C\u65F6\u8FD9\u4E9B\u7406\u8BBA\u662F\u7D22\u5F15\u8C03\u4F18\u7684\u57FA\u7840\uFF0C\u53EA\u6709\u5728\u660E\u767D\u7406\u8BBA\u7684\u57FA\u7840\u4E0A\uFF0C\u624D\u80FD\u5BF9\u8C03\u4F18\u7B56\u7565\u8FDB\u884C\u5408\u7406\u63A8\u65AD\u5E76\u4E86\u89E3\u5176\u80CC\u540E\u7684\u673A\u5236\uFF0C\u7136\u540E\u7ED3\u5408\u5B9E\u8DF5\u4E2D\u4E0D\u65AD\u7684\u5B9E\u9A8C\u548C\u6478\u7D22\uFF0C\u4ECE\u800C\u771F\u6B63\u8FBE\u5230\u9AD8\u6548\u4F7F\u7528MySQL\u7D22\u5F15\u7684\u76EE\u7684\u3002</p><p>\u53E6\u5916\uFF0CMySQL\u7D22\u5F15\u53CA\u5176\u4F18\u5316\u6DB5\u76D6\u8303\u56F4\u975E\u5E38\u5E7F\uFF0C\u672C\u6587\u53EA\u662F\u6D89\u53CA\u5230\u5176\u4E2D\u4E00\u90E8\u5206\u3002\u5982\u4E0E\u6392\u5E8F\uFF08ORDER BY\uFF09\u76F8\u5173\u7684\u7D22\u5F15\u4F18\u5316\u53CA\u8986\u76D6\u7D22\u5F15\uFF08Covering index\uFF09\u7684\u8BDD\u9898\u672C\u6587\u5E76\u672A\u6D89\u53CA\uFF0C\u540C\u65F6\u9664B-Tree\u7D22\u5F15\u5916MySQL\u8FD8\u6839\u636E\u4E0D\u540C\u5F15\u64CE\u652F\u6301\u7684\u54C8\u5E0C\u7D22\u5F15\u3001\u5168\u6587\u7D22\u5F15\u7B49\u7B49\u672C\u6587\u4E5F\u5E76\u672A\u6D89\u53CA\u3002\u5982\u679C\u6709\u673A\u4F1A\uFF0C\u5E0C\u671B\u518D\u5BF9\u672C\u6587\u672A\u6D89\u53CA\u7684\u90E8\u5206\u8FDB\u884C\u8865\u5145\u5427\u3002</p><h2 id="\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> \u53C2\u8003\u6587\u732E</h2><p>[1] Baron Scbwartz\u7B49 \u8457\uFF0C\u738B\u5C0F\u4E1C\u7B49 \u8BD1\uFF1B\u9AD8\u6027\u80FDMySQL\uFF08High Performance MySQL\uFF09\uFF1B\u7535\u5B50\u5DE5\u4E1A\u51FA\u7248\u793E\uFF0C2010</p><p>[2] Michael Kofler \u8457\uFF0C\u6768\u6653\u4E91\u7B49 \u8BD1\uFF1BMySQL5\u6743\u5A01\u6307\u5357\uFF08The Definitive Guide to MySQL5\uFF09\uFF1B\u4EBA\u6C11\u90AE\u7535\u51FA\u7248\u793E\uFF0C2006</p><p>[3] \u59DC\u627F\u5C27 \u8457\uFF1BMySQL\u6280\u672F\u5185\u5E55-InnoDB\u5B58\u50A8\u5F15\u64CE\uFF1B\u673A\u68B0\u5DE5\u4E1A\u51FA\u7248\u793E\uFF0C2011</p><p>[4] D Comer, Ubiquitous B-tree; ACM Computing Surveys (CSUR), 1979</p><p>[5] Codd, E. F. (1970). &quot;A relational model of data for large shared data banks&quot;. Communications of the ACM, , Vol. 13, No. 6, pp. 377-387</p><p>[6] MySQL5.1\u53C2\u8003\u624B\u518C - http://dev.mysql.com/doc/refman/5.1/zh/index.html</p>`,202),q=n("Copyright (c) 2011-2019 CodingLabs \u672C\u535A\u5BA2\u5185\u5BB9\u91C7\u7528"),N={href:"http://creativecommons.org/licenses/by/3.0/cn/",target:"_blank",rel:"noopener noreferrer"},D=n("\u77E5\u8BC6\u5171\u4EAB\u7F72\u540D 3.0 \u4E2D\u56FD\u5927\u9646\u8BB8\u53EF\u534F\u8BAE"),P=n("\u8FDB\u884C\u8BB8\u53EF"),O=s("h2",{id:"\u539F\u6587\u94FE\u63A5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u539F\u6587\u94FE\u63A5","aria-hidden":"true"},"#"),n(" \u539F\u6587\u94FE\u63A5")],-1),Q={href:"http://blog.codinglabs.org/articles/theory-of-mysql-index.html",target:"_blank",rel:"noopener noreferrer"},C=n("MySQL\u7D22\u5F15\u80CC\u540E\u7684\u6570\u636E\u7ED3\u6784\u53CA\u7B97\u6CD5\u539F\u7406");function U(Y,F){const a=t("ExternalLinkIcon");return r(),l("div",null,[k,s("p",null,[i,s("a",d,[u,e(a)]),m,s("a",y,[v,e(a)]),b,s("a",h,[g,e(a)]),w,s("a",_,[E,e(a)]),L]),S,f,M,I,s("p",null,[T,s("a",B,[R,e(a)]),A]),x,s("p",null,[q,s("a",N,[D,e(a)]),P]),O,s("p",null,[s("a",Q,[C,e(a)])])])}const H=o(c,[["render",U],["__file","IndexDS.html.vue"]]);export{H as default};
