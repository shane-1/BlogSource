import{_ as n,o as s,c as a,e as t}from"./app.838aae74.js";const p="/images/2020-09-16-16-26-06.png",e="/images/2020-09-17-09-15-19.png",o={},c=t(`<h1 id="\u6CE8\u89E3\u548C\u53CD\u5C04" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u89E3\u548C\u53CD\u5C04" aria-hidden="true">#</a> \u6CE8\u89E3\u548C\u53CD\u5C04</h1><h1 id="annotation-and-reflection" tabindex="-1"><a class="header-anchor" href="#annotation-and-reflection" aria-hidden="true">#</a> Annotation and Reflection</h1><blockquote><p>\u6846\u67B6\u5B9E\u73B0\u57FA\u7840</p></blockquote><h2 id="\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u89E3" aria-hidden="true">#</a> \u6CE8\u89E3</h2><blockquote><p>Annotation\u662F\u4ECEJDK5.0\u5F00\u59CB\u5F15\u5165\u7684\u65B0\u6280\u672F</p></blockquote><h3 id="\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#\u4F5C\u7528" aria-hidden="true">#</a> \u4F5C\u7528:</h3><ul><li>\u4E0D\u662F\u7A0B\u5E8F\u672C\u8EAB,\u53EF\u4EE5\u5BF9\u7A0B\u5E8F\u4F5C\u51FA\u89E3\u91CA.(\u8FD9\u4E00\u70B9\u548C\u6CE8\u91CA(comment)\u6CA1\u4EC0\u4E48\u533A\u522B)</li><li>\u53EF\u4EE5\u88AB\u5176\u4ED6\u7A0B\u5E8F(\u6BD4\u5982:\u7F16\u8BD1\u5668\u7B49)\u8BFB\u53D6.</li></ul><h3 id="\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F" aria-hidden="true">#</a> \u683C\u5F0F:</h3><ul><li>\u6CE8\u89E3\u662F\u4EE5&quot;@\u6CE8\u91CA\u540D&quot;\u5728\u4EE3\u7801\u4E2D\u5B58\u5728\u7684,\u8FD8\u53EF\u4EE5\u6DFB\u52A0\u4E00\u4E9B\u53C2\u6570\u503C,\u4F8B\u5982:@SuppressWarnings(value=&quot;unchecked&quot;).</li></ul><h3 id="annotation\u5728\u54EA\u91CC\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#annotation\u5728\u54EA\u91CC\u4F7F\u7528" aria-hidden="true">#</a> Annotation\u5728\u54EA\u91CC\u4F7F\u7528?</h3><ul><li>\u53EF\u4EE5\u9644\u52A0\u5728package , class , method , field\u7B49\u4E0A\u9762,\u76F8\u5F53\u4E8E\u7ED9\u4ED6\u4EEC\u6DFB\u52A0\u4E86\u989D\u5916\u7684\u8F85\u52A9\u4FE1\u606F,\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u53CD\u5C04\u673A\u5236\u7F16\u7A0B\u5B9E\u73B0\u5BF9\u8FD9\u4E9B\u5143\u6570\u636E\u7684\u8BBF\u95EE</li></ul><blockquote><p>\u6CE8\u89E3\u53EF\u4EE5\u68C0\u67E5\u548C\u7EA6\u675F<br></p></blockquote><h3 id="\u5185\u7F6E\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u6CE8\u89E3" aria-hidden="true">#</a> \u5185\u7F6E\u6CE8\u89E3</h3><ul><li>@override :\u5B9A\u4E49\u5728java.lang.Override\u4E2D,\u6B64\u6CE8\u91CA\u53EA\u9002\u7528\u4E8E\u4FEE\u8F9E\u65B9\u6CD5,\u8868\u793A\u4E00\u4E2A\u65B9\u6CD5\u58F0\u660E\u6253\u7B97\u91CD\u5199\u8D85\u7C7B\u4E2D\u7684\u53E6\u4E00\u4E2A\u65B9\u6CD5\u58F0\u660E.</li><li>@Deprecated :\u5B9A\u4E49\u5728java.lang.Deprecated\u4E2D,\u6B64\u6CE8\u91CA\u53EF\u4EE5\u7528\u4E8E\u4FEE\u8F9E<code>\u65B9\u6CD5</code>,<code>\u5C5E\u6027</code>,<code>\u7C7B</code>,\u8868\u793A\u4E0D\u9F13\u52B1\u7A0B\u5E8F\u5458\u4F7F\u7528\u8FD9\u6837\u7684\u5143\u7D20,\u901A\u5E38\u662F\u56E0\u4E3A\u5B83\u5F88\u5371\u9669\u6216\u8005\u5B58\u5728\u66F4\u597D\u7684\u9009\u62E9.</li><li>@SuppressWarnings :\u5B9A\u4E49\u5728java.lang.SuppressWarnings\u4E2D,\u7528\u6765\u6291\u5236\u7F16\u8BD1\u65F6\u7684\u8B66\u544A\u4FE1\u606F. <ul><li>\u4E0E\u524D\u4E24\u4E2A\u6CE8\u91CA\u6709\u6240\u4E0D\u540C,\u4F60\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570\u624D\u80FD\u6B63\u786E\u4F7F\u7528,\u8FD9\u4E9B\u53C2\u6570\u90FD\u662F\u5DF2\u7ECF\u5B9A\u4E49\u597D\u4E86\u7684,\u6211\u4EEC\u9009\u62E9\u6027\u7684\u4F7F\u7528\u5C31\u597D\u4E86</li><li>@SuppressWarnings(&quot;all&quot;)</li><li>@SuppressWarnings(&quot;unchecked&quot;)</li><li>@SuppressWarnings(value=(&quot;unchecked&quot;, &quot;deprecation&quot;)</li><li>\u7B49\u7B49..</li></ul></li></ul><h3 id="\u5143\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u5143\u6CE8\u89E3" aria-hidden="true">#</a> \u5143\u6CE8\u89E3</h3><ul><li>\u5143\u6CE8\u89E3\u7684\u4F5C\u7528\u5C31\u662F\u8D1F\u8D23\u6CE8\u89E3\u5176\u4ED6\u6CE8\u89E3, Java\u5B9A\u4E49\u4E864\u4E2A\u6807\u51C6\u7684meta-annotation\u7C7B\u578B,\u4ED6\u4EEC\u88AB\u7528\u6765\u63D0\u4F9B\u5BF9\u5176\u4ED6annotation\u7C7B\u578B\u4F5C\u8BF4\u660E.</li><li>\u8FD9\u4E9B\u7C7B\u578B\u548C\u5B83\u4EEC\u6240\u652F\u6301\u7684\u7C7B\u5728java.lang.annotation\u5305\u4E2D\u53EF\u4EE5\u627E\u5230.(@Target , @Retention@Documented , @lnherited) <ul><li>@Target :\u7528\u4E8E\u63CF\u8FF0\u6CE8\u89E3\u7684\u4F7F\u7528\u8303\u56F4(\u5373:\u88AB\u63CF\u8FF0\u7684\u6CE8\u89E3\u53EF\u4EE5\u7528\u5728\u4EC0\u4E48\u5730\u65B9)</li><li>@Retention :\u8868\u793A\u9700\u8981\u5728\u4EC0\u4E48\u7EA7\u522B\u4FDD\u5B58\u8BE5\u6CE8\u91CA\u4FE1\u606F,\u7528\u4E8E\u63CF\u8FF0\u6CE8\u89E3\u7684\u751F\u547D\u5468\u671F(SOURCE &lt; CLASS &lt; RUNTIME)</li><li>@Document:\u8BF4\u660E\u8BE5\u6CE8\u89E3\u5C06\u88AB\u5305\u542B\u5728javadoc\u4E2D</li><li>@lnherited:\u8BF4\u660E\u5B50\u7C7B\u53EF\u4EE5\u7EE7\u627F\u7236\u7C7B\u4E2D\u7684\u8BE5\u6CE8\u89E3</li></ul></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token comment">//\u6CE8\u89E3\u76EE\u6807</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">ElemntType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span> <span class="token class-name">ElemntType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//\u6CE8\u89E3\u6709\u6548\u8FC7\u7A0B</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">Retention</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token comment">//\u662F\u5426\u751F\u6210\u5728JAVAdoc\u4E2D</span>
<span class="token annotation punctuation">@Document</span>
<span class="token annotation punctuation">@interrface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u5B9A\u4E49\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u6CE8\u89E3" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u6CE8\u89E3</h3><ul><li>\u4F7F\u7528@interface\u81EA\u5B9A\u4E49\u6CE8\u89E3\u65F6,\u81EA\u52A8\u7EE7\u627F\u4E86java.lang.annotatlon.Annotation\u63A5\u53E3 <ul><li>\u5206\u6790: <ul><li>@ interface\u7528\u6765\u58F0\u660E\u4E00\u4E2A\u6CE8\u89E3,\u683C\u5F0F: public @ interface\u6CE8\u89E3\u540D{\u5B9A\u4E49\u5185\u5BB9}</li><li>\u5176\u4E2D\u7684\u6BCF\u4E00\u4E2A\u65B9\u6CD5\u5B9E\u9645\u4E0A\u662F\u58F0\u660E\u4E86\u4E00\u4E2A\u914D\u7F6E\u53C2\u6570.</li><li>\u65B9\u6CD5\u7684\u540D\u79F0\u5C31\u662F\u53C2\u6570\u7684\u540D\u79F0.</li><li>\u8FD4\u56DE\u503C\u7C7B\u578B\u5C31\u662F\u53C2\u6570\u7684\u7C7B\u578B(\u8FD4\u56DE\u503C\u53EA\u80FD\u662F\u57FA\u672C\u7C7B\u578B,Class , String , enum ).</li><li>\u53EF\u4EE5\u901A\u8FC7default\u6765\u58F0\u660E\u53C2\u6570\u7684\u9ED8\u8BA4\u503C.</li><li>\u5982\u679C\u53EA\u6709\u4E00\u4E2A\u53C2\u6570\u6210\u5458,\u4E00\u822C\u53C2\u6570\u540D\u4E3Avalue/\u6CE8\u89E3\u5143\u7D20\u5FC5\u987B\u8981\u6709\u503C,\u6211\u4EEC\u5B9A\u4E49\u6CE8\u89E3\u5143\u7D20\u65F6,\u7ECF\u5E38\u4F7F\u7528\u7A7A\u5B57\u7B26\u4E32,0\u4F5C\u4E3A\u9ED8\u8BA4\u503C.</li></ul></li></ul></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> test<span class="token punctuation">{</span>
  <span class="token comment">//\u5B9A\u4E49\u53C2\u6570\u4F7F\u7528\u6CE8\u89E3\u5FC5\u987B\u5E26\u53C2\u6570,\u9664\u975E\u6CE8\u89E3\u6709\u9ED8\u8BA4\u503C</span>
  <span class="token annotation punctuation">@MyAnnotationPlus</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;shane&quot;</span><span class="token punctuation">,</span>shool<span class="token operator">=</span><span class="token string">&quot;SAU&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">ElemntType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span> <span class="token class-name">ElemntType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//\u4F5C\u7528\u4E8E\u7C7B\u548C\u65B9\u6CD5\u4E0A</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">Retention</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span> <span class="token comment">//\u8FD0\u884C\u65F6</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotationPlus</span><span class="token punctuation">{</span>
  <span class="token comment">//\u4E3B\u8282\u70B9\u53C2\u6570: \u53C2\u6570\u7C7B\u578B + \u53C2\u6570\u540D();!\u4E0D\u662F\u65B9\u6CD5!</span>
  <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//-1\u4EE3\u8868\u4E0D\u5B58\u5728</span>

  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">school</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5982\u679C\u81EA\u5B9A\u4E49\u6CE8\u89E3\u53EA\u6709\u4E00\u4E2A\u503C\u65F6\uFF0C\u5EFA\u8BAE\u8BBE\u7F6E\u4E3Avalue\uFF0C\u6B64\u65F6\u5728\u6CE8\u89E3\u4F20\u9012\u53C2\u6570\u53EF\u7701\u7565\u540D\u5B57</p></blockquote><h2 id="\u53CD\u5C04" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04" aria-hidden="true">#</a> \u53CD\u5C04</h2><blockquote><p>\u57FA\u4E8E JDK 1.8</p></blockquote><h3 id="\u56DE\u987E-\u4EC0\u4E48\u662F\u53CD\u5C04" tabindex="-1"><a class="header-anchor" href="#\u56DE\u987E-\u4EC0\u4E48\u662F\u53CD\u5C04" aria-hidden="true">#</a> \u56DE\u987E\uFF1A\u4EC0\u4E48\u662F\u53CD\u5C04\uFF1F</h3><p><strong>\u53CD\u5C04 (Reflection) \u662F Java \u7684\u7279\u5F81\u4E4B\u4E00\uFF0C\u5B83\u5141\u8BB8\u8FD0\u884C\u4E2D\u7684 Java \u7A0B\u5E8F\u83B7\u53D6\u81EA\u8EAB\u7684\u4FE1\u606F\uFF0C\u5E76\u4E14\u53EF\u4EE5\u64CD\u4F5C\u7C7B\u6216\u5BF9\u8C61\u7684\u5185\u90E8\u5C5E\u6027\u3002</strong><br></p><p>Oracle \u5B98\u65B9\u5BF9\u53CD\u5C04\u7684\u89E3\u91CA\u662F\uFF1A<br></p><blockquote><p>Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.<br>The API accommodates applications that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class. It also allows programs to suppress default reflective access control.</p></blockquote><p>\u2003\u2003\u7B80\u800C\u8A00\u4E4B\uFF0C\u901A\u8FC7\u53CD\u5C04\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u8FD0\u884C\u65F6\u83B7\u5F97\u7A0B\u5E8F\u6216\u7A0B\u5E8F\u96C6\u4E2D\u6BCF\u4E00\u4E2A\u7C7B\u578B\u7684\u6210\u5458\u548C\u6210\u5458\u7684\u4FE1\u606F\u3002\u7A0B\u5E8F\u4E2D\u4E00\u822C\u7684\u5BF9\u8C61\u7684\u7C7B\u578B\u90FD\u662F\u5728\u7F16\u8BD1\u671F\u5C31\u786E\u5B9A\u4E0B\u6765\u7684\uFF0C\u800C Java \u53CD\u5C04\u673A\u5236\u53EF\u4EE5\u52A8\u6001\u5730\u521B\u5EFA\u5BF9\u8C61\u5E76\u8C03\u7528\u5176\u5C5E\u6027\uFF0C\u8FD9\u6837\u7684\u5BF9\u8C61\u7684\u7C7B\u578B\u5728\u7F16\u8BD1\u671F\u662F\u672A\u77E5\u7684\u3002\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u53CD\u5C04\u673A\u5236\u76F4\u63A5\u521B\u5EFA\u5BF9\u8C61\uFF0C\u5373\u4F7F\u8FD9\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B\u5728\u7F16\u8BD1\u671F\u662F\u672A\u77E5\u7684\u3002</p><p>\u2003\u2003Reflection (\u53CD\u5C04)\u662FJava\u88AB\u89C6\u4E3A\u52A8\u6001\u8BED\u8A00\u7684\u5173\u952E,\u53CD\u5C04\u673A\u5236\u5141\u8BB8\u7A0B\u5E8F\u5728\u6267\u884C\u671F\u501F\u52A9\u4E8EReflection API\u53D6\u5F97\u4EFB\u4F55\u7C7B\u7684\u5185\u90E8\u4FE1\u606F,\u5E76\u80FD\u76F4\u63A5\u64CD\u4F5C\u4EFB\u610F\u5BF9\u8C61\u7684\u5185\u90E8\u5C5E\u6027\u53CA\u65B9\u6CD5<br><code>Class c = Class.forName(&quot;java.lang.String&quot;)</code><br> \u2003\u2003\u52A0\u8F7D\u5B8C\u7C7B\u4E4B\u540E,\u5728\u5806\u5185\u5B58\u7684\u65B9\u6CD5\u533A\u4E2D\u5C31\u4EA7\u751F\u4E86\u4E00\u4E2AClass\u7C7B\u578B\u7684\u5BF9\u8C61(\u4E00\u4E2A\u7C7B\u53EA\u6709\u4E2AClass\u5BF9\u8C61,\u8FD9\u4E2A\u5BF9\u8C61\u5C31\u5305\u542B\u4E86\u5B8C\u6574\u7684\u7C7B\u7684\u7ED3\u6784\u4FE1\u606F \u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u5BF9\u8C61\u770B\u5230\u7C7B\u7684\u7ED3\u6784\u3002\u8FD9\u4E2A\u5BF9\u8C61\u5C31\u50CF\u4E00\u9762\u955C\u5B50,\u900F\u8FC7\u8FD9\u4E2A\u955C\u5B50\u770B\u5230\u7C7B\u7684\u7ED3\u6784,\u6240\u4EE5\u6211\u4EEC\u5F62\u8C61\u7684\u79F0\u4E4B\u4E3A:\u53CD\u5C04<br></p><p>\u2003\u2003\u53CD\u5C04\u7684\u6838\u5FC3\u662F JVM \u5728\u8FD0\u884C\u65F6\u624D\u52A8\u6001\u52A0\u8F7D\u7C7B\u6216\u8C03\u7528\u65B9\u6CD5/\u8BBF\u95EE\u5C5E\u6027\uFF0C\u5B83\u4E0D\u9700\u8981\u4E8B\u5148\uFF08\u5199\u4EE3\u7801\u7684\u65F6\u5019\u6216\u7F16\u8BD1\u671F\uFF09\u77E5\u9053\u8FD0\u884C\u5BF9\u8C61\u662F\u8C01\u3002</p><h3 id="\u52A8\u6001\u8BED\u8A00" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u8BED\u8A00" aria-hidden="true">#</a> \u52A8\u6001\u8BED\u8A00</h3><ul><li>\u662F\u4E00\u7C7B\u5728\u8FD0\u884C\u65F6\u53EF\u4EE5\u6539\u53D8\u5176\u7ED3\u6784\u7684\u8BED\u8A00:\u4F8B\u5982\u65B0\u7684\u51FD\u6570\u3001\u5BF9\u8C61\u3001\u751A\u81F3\u4EE3\u7801\u53EF\u4EE5\u88AB\u5F15\u8FDB,\u5DF2\u6709\u7684\u51FD\u6570\u53EF\u4EE5\u88AB\u5220\u9664\u6216\u662F\u5176\u4ED6\u7ED3\u6784\u4E0A\u7684\u53D8\u5316\u3002\u901A\u4FD7\u70B9\u8BF4\u5C31\u662F\u5728\u8FD0\u884C\u65F6\u4EE3\u7801\u53EF\u4EE5\u6839\u636E\u67D0\u4E9B\u6761\u4EF6\u6539\u53D8\u81EA\u8EAB\u7ED3\u6784\u3002</li><li>\u4E3B\u8981\u52A8\u6001\u8BED\u8A00: Object-C,C#\u3001JavaScript, PHP,Python\u7B49\u3002</li></ul><h3 id="\u9759\u6001\u8BED\u8A00" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u8BED\u8A00" aria-hidden="true">#</a> \u9759\u6001\u8BED\u8A00</h3><ul><li>\u4E0E\u52A8\u6001\u8BED\u8A00\u76F8\u5BF9\u5E94\u7684,\u8FD0\u884C\u65F6\u7ED3\u6784\u4E0D\u53EF\u53D8\u7684\u8BED\u8A00\u5C31\u662F\u9759\u6001\u8BED\u8A00\u3002\u5982Java, C.C++.</li><li>Java\u4E0D\u662F\u52A8\u6001\u8BED\u8A00,\u4F46Java\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u51C6\u52A8\u6001\u8BED\u8A00&quot;)\u5373Java\u6709\u4E00\u5B9A\u7684\u52A8\u6001\u6027,\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u53CD\u5C04\u673A\u5236\u83B7\u5F97\u7C7B\u4F3C\u52A8\u6001\u8BED\u8A00\u7684\u7279\u6027\u3002Java\u7684\u52A8\u6001\u6027\u8BA9\u7F16\u7A0B\u7684\u65F6\u5019\u66F4\u52A0\u7075\u6D3B!</li></ul><p>Java \u53CD\u5C04\u4E3B\u8981\u63D0\u4F9B\u4EE5\u4E0B\u529F\u80FD\uFF1A</p><ul><li>\u5728\u8FD0\u884C\u65F6\u5224\u65AD\u4EFB\u610F\u4E00\u4E2A\u5BF9\u8C61\u6240\u5C5E\u7684\u7C7B\uFF1B</li><li>\u5728\u8FD0\u884C\u65F6\u6784\u9020\u4EFB\u610F\u4E00\u4E2A\u7C7B\u7684\u5BF9\u8C61\uFF1B</li><li>\u5728\u8FD0\u884C\u65F6\u5224\u65AD\u4EFB\u610F\u4E00\u4E2A\u7C7B\u6240\u5177\u6709\u7684\u6210\u5458\u53D8\u91CF\u548C\u65B9\u6CD5\uFF08\u901A\u8FC7\u53CD\u5C04\u751A\u81F3\u53EF\u4EE5\u8C03\u7528private\u65B9\u6CD5\uFF09\uFF1B</li><li>\u5728\u8FD0\u884C\u65F6\u8C03\u7528\u4EFB\u610F\u4E00\u4E2A\u5BF9\u8C61\u7684\u65B9\u6CD5<br></li></ul><p>\u91CD\u70B9\uFF1A<strong>\u662F\u8FD0\u884C\u65F6\u800C\u4E0D\u662F\u7F16\u8BD1\u65F6</strong></p><h3 id="\u53CD\u5C04\u7684\u4E3B\u8981\u7528\u9014" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04\u7684\u4E3B\u8981\u7528\u9014" aria-hidden="true">#</a> \u53CD\u5C04\u7684\u4E3B\u8981\u7528\u9014</h3><p>\u2003\u2003\u5F88\u591A\u4EBA\u90FD\u8BA4\u4E3A\u53CD\u5C04\u5728\u5B9E\u9645\u7684 Java \u5F00\u53D1\u5E94\u7528\u4E2D\u5E76\u4E0D\u5E7F\u6CDB\uFF0C\u5176\u5B9E\u4E0D\u7136\u3002\u5F53\u6211\u4EEC\u5728\u4F7F\u7528 IDE(\u5982 Eclipse\uFF0CIDEA)\u65F6\uFF0C\u5F53\u6211\u4EEC\u8F93\u5165\u4E00\u4E2A\u5BF9\u8C61\u6216\u7C7B\u5E76\u60F3\u8C03\u7528\u5B83\u7684\u5C5E\u6027\u6216\u65B9\u6CD5\u65F6\uFF0C\u4E00\u6309\u70B9\u53F7\uFF0C\u7F16\u8BD1\u5668\u5C31\u4F1A\u81EA\u52A8\u5217\u51FA\u5B83\u7684\u5C5E\u6027\u6216\u65B9\u6CD5\uFF0C\u8FD9\u91CC\u5C31\u4F1A\u7528\u5230\u53CD\u5C04\u3002</p><p>\u2003\u2003<strong>\u53CD\u5C04\u6700\u91CD\u8981\u7684\u7528\u9014\u5C31\u662F\u5F00\u53D1\u5404\u79CD\u901A\u7528\u6846\u67B6\u3002</strong> \u5F88\u591A\u6846\u67B6\uFF08\u6BD4\u5982 Spring\uFF09\u90FD\u662F\u914D\u7F6E\u5316\u7684\uFF08\u6BD4\u5982\u901A\u8FC7 XML \u6587\u4EF6\u914D\u7F6E Bean\uFF09\uFF0C\u4E3A\u4E86\u4FDD\u8BC1\u6846\u67B6\u7684\u901A\u7528\u6027\uFF0C\u5B83\u4EEC\u53EF\u80FD\u9700\u8981\u6839\u636E\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u4E0D\u540C\u7684\u5BF9\u8C61\u6216\u7C7B\uFF0C\u8C03\u7528\u4E0D\u540C\u7684\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u65F6\u5019\u5C31\u5FC5\u987B\u7528\u5230\u53CD\u5C04\uFF0C\u8FD0\u884C\u65F6\u52A8\u6001\u52A0\u8F7D\u9700\u8981\u52A0\u8F7D\u7684\u5BF9\u8C61\u3002</p><p>\u2003\u2003\u4E3E\u4E00\u4E2A\u4F8B\u5B50\uFF0C\u5728\u8FD0\u7528 Struts 2 \u6846\u67B6\u7684\u5F00\u53D1\u4E2D\u6211\u4EEC\u4E00\u822C\u4F1A\u5728 struts.xml \u91CC\u53BB\u914D\u7F6E Action\uFF0C\u6BD4\u5982\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.ScZyhSoft.test.action.SimpleLoginAction<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execute<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span><span class="token punctuation">&gt;</span></span>/shop/shop-index.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>login.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u2003\u914D\u7F6E\u6587\u4EF6\u4E0E Action \u5EFA\u7ACB\u4E86\u4E00\u79CD\u6620\u5C04\u5173\u7CFB\uFF0C\u5F53 View \u5C42\u53D1\u51FA\u8BF7\u6C42\u65F6\uFF0C\u8BF7\u6C42\u4F1A\u88AB <code>StrutsPrepareAndExecuteFilter</code> \u62E6\u622A\uFF0C\u7136\u540E <code>StrutsPrepareAndExecuteFilter</code> \u4F1A\u53BB\u52A8\u6001\u5730\u521B\u5EFA Action \u5B9E\u4F8B\u3002\u6BD4\u5982\u6211\u4EEC\u8BF7\u6C42 <code>login.action</code>\uFF0C\u90A3\u4E48 <code>StrutsPrepareAndExecuteFilter</code>\u5C31\u4F1A\u53BB\u89E3\u6790struts.xml\u6587\u4EF6\uFF0C\u68C0\u7D22action\u4E2Dname\u4E3Alogin\u7684Action\uFF0C\u5E76\u6839\u636Eclass\u5C5E\u6027\u521B\u5EFASimpleLoginAction\u5B9E\u4F8B\uFF0C\u5E76\u7528invoke\u65B9\u6CD5\u6765\u8C03\u7528execute\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u79BB\u4E0D\u5F00\u53CD\u5C04\u3002</p><p>\u2003\u2003\u5BF9\u4E0E\u6846\u67B6\u5F00\u53D1\u4EBA\u5458\u6765\u8BF4\uFF0C\u53CD\u5C04\u867D\u5C0F\u4F46\u4F5C\u7528\u975E\u5E38\u5927\uFF0C\u5B83\u662F\u5404\u79CD\u5BB9\u5668\u5B9E\u73B0\u7684\u6838\u5FC3\u3002\u800C\u5BF9\u4E8E\u4E00\u822C\u7684\u5F00\u53D1\u8005\u6765\u8BF4\uFF0C\u4E0D\u6DF1\u5165\u6846\u67B6\u5F00\u53D1\u5219\u7528\u53CD\u5C04\u7528\u7684\u5C31\u4F1A\u5C11\u4E00\u70B9\uFF0C\u4E0D\u8FC7\u4E86\u89E3\u4E00\u4E0B\u6846\u67B6\u7684\u5E95\u5C42\u673A\u5236\u6709\u52A9\u4E8E\u4E30\u5BCC\u81EA\u5DF1\u7684\u7F16\u7A0B\u601D\u60F3\uFF0C\u4E5F\u662F\u5F88\u6709\u76CA\u7684\u3002</p><h3 id="\u53CD\u5C04\u7684\u57FA\u672C\u8FD0\u7528" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04\u7684\u57FA\u672C\u8FD0\u7528" aria-hidden="true">#</a> \u53CD\u5C04\u7684\u57FA\u672C\u8FD0\u7528</h3><p>\u4E0A\u9762\u6211\u4EEC\u63D0\u5230\u4E86\u53CD\u5C04\u53EF\u4EE5\u7528\u4E8E\u5224\u65AD\u4EFB\u610F\u5BF9\u8C61\u6240\u5C5E\u7684\u7C7B\uFF0C\u83B7\u5F97 Class \u5BF9\u8C61\uFF0C\u6784\u9020\u4EFB\u610F\u4E00\u4E2A\u5BF9\u8C61\u4EE5\u53CA\u8C03\u7528\u4E00\u4E2A\u5BF9\u8C61\u3002\u8FD9\u91CC\u6211\u4EEC\u4ECB\u7ECD\u4E00\u4E0B\u57FA\u672C\u53CD\u5C04\u529F\u80FD\u7684\u4F7F\u7528\u548C\u5B9E\u73B0(\u53CD\u5C04\u76F8\u5173\u7684\u7C7B\u4E00\u822C\u90FD\u5728 java.lang.relfect \u5305\u91CC)\u3002</p><h3 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h3><ul><li>java.lang.Class :\u4EE3\u8868\u4E00\u4E2A\u7C7B</li><li>java.lang.reflect.Method :\u4EE3\u8868\u7C7B\u7684\u65B9\u6CD5</li><li>java.lang.reflect.Field:\u4EE3\u8868\u7C7B\u7684\u6210\u5458\u53D8\u91CF</li><li>java.lang.reflect.Constructor :\u4EE3\u8868\u7C7B\u7684\u6784\u9020\u5668</li></ul><h3 id="class\u7C7B-\u53CD\u5C04\u7684\u6E90\u5934" tabindex="-1"><a class="header-anchor" href="#class\u7C7B-\u53CD\u5C04\u7684\u6E90\u5934" aria-hidden="true">#</a> Class\u7C7B\uFF08\u53CD\u5C04\u7684\u6E90\u5934\uFF09</h3><p>\u2003\u2003\u5BF9\u8C61\u7167\u955C\u5B50\u540E\u53EF\u4EE5\u5230\u7684\u4FE1\u606F:\u67D0\u4E2A\u7C7B\u7684\u5C5E\u6027\u3001\u65B9\u6CD5\u548C\u6784\u9020\u5668\u3001\u67D0\u4E2A\u7C7B\u5230\u5E95\u5B9E\u73B0\u4E86\u54EA\u4E9B\u63A5\u53E3\u3002\u5BF9\u4E8E\u6BCF\u4E2A\u7C7B\u800C\u8A00, RE\u90FD\u4E3A\u5176\u4FDD\u7559\u4E00\u4E2A\u4E0D\u53D8\u7684class\u7C7B\u578B\u7684\u5BF9\u8C61\u3002\u4E00\u4E2AClass\u5BF9\u8C61\u5305\u542B\u4E86\u7279\u5B9A\u67D0\u4E2A\u7ED3\u6784(class/interface/enum/annotation/primitive type/void/)\u7684\u6709\u5173\u4FE1\u606F\u3002</p><ul><li>Class\u672C\u8EAB\u4E5F\u662F\u4E00\u4E2A\u7C7BClass\u5BF9\u8C61\u53EA\u80FD\u7531\u7CFB\u7EDF\u5EFA\u7ACB\u5BF9\u8C61</li><li>\u4E00\u4E2A\u52A0\u8F7D\u7684\u7C7B\u5728JVM\u4E2D\u53EA\u4F1A\u6709\u4E00\u4E2AClass\u5B9E\u4F8B</li><li>\u4E00\u4E2AClass\u5BF9\u8C61\u5BF9\u5E94\u7684\u662F\u4E00\u4E2A\u52A0\u8F7D\u5230JVM\u4E2D\u7684\u4E00\u4E2A.class\u6587\u4EF6</li><li>\u6BCF\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u90FD\u4F1A\u8BB0\u5F97\u81EA\u5DF1\u662F\u7531\u54EA\u4E2AClass\u5B9E\u4F8B\u6240\u751F\u6210</li><li>\u901A\u8FC7Class\u53EF\u4EE5\u5B8C\u6574\u5730\u5F97\u5230\u4E00\u4E2A\u7C7B\u4E2D\u7684\u6240\u6709\u88AB\u52A0\u8F7D\u7684\u7ED3\u6784</li><li>Class\u7C7B\u662FReflection\u7684\u6839\u6E90,\u9488\u5BF9\u4EFB\u4F55\u4F60\u60F3\u52A8\u6001\u52A0\u8F7D\u3001\u8FD0\u884C\u7684\u7C7B,\u552F\u6709\u5148\u83B7\u5F97\u76F8\u5E94\u7684Class\u5BF9\u8C61</li></ul><h3 id="\u7C7B\u52A0\u8F7D\u5185\u5B58\u5206\u4EAB" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u52A0\u8F7D\u5185\u5B58\u5206\u4EAB" aria-hidden="true">#</a> \u7C7B\u52A0\u8F7D\u5185\u5B58\u5206\u4EAB</h3><p><img src="`+p+'" alt=""></p><p>\u521D\u59CB\u5316\u8FC7\u7A0B\uFF1A <img src="'+e+`" alt=""></p><ul><li>\u52A0\u8F7D:\u5C06class\u6587\u4EF6\u5B57\u8282\u7801\u5185\u5BB9\u52A0\u8F7D\u5230\u5185\u5B58\u4E2D,\u5E76\u5C06\u8FD9\u4E9B\u9759\u6001\u6570\u636E\u8F6C\u6362\u6210\u65B9\u6CD5\u533A\u7684\u8FD0\u884C\u65F6\u6570\u636E\u7ED3\u6784,\u7136\u540E\u751F\u6210\u4E00\u4E2A\u4EE3\u8868\u8FD9\u4E2A\u7C7B\u7684java.lang.Class\u5BF9\u8C61\u3002</li><li>\u94FE\u63A5:\u5C06Java\u7C7B\u7684\u4E8C\u8FDB\u5236\u4EE3\u7801\u5408\u5E76\u5230JVM\u7684\u8FD0\u884C\u72B6\u6001\u4E4B\u4E2D\u7684\u8FC7\u7A0B\u3002 <ul><li>\u9A8C\u8BC1:\u786E\u4FDD\u52A0\u8F7D\u7684\u7C7B\u4FE1\u606F\u7B26\u5408JVM\u89C4\u8303,\u6CA1\u6709\u5B89\u5168\u65B9\u9762\u7684\u95EE\u9898\u3002</li><li>\u51C6\u5907:\u6B63\u5F0F\u4E3A\u7C7B\u53D8\u91CF(static)\u5206\u914D\u5185\u5B58\u5E76\u8BBE\u7F6E\u7C7B\u53D8\u91CF\u9ED8\u8BA4\u521D\u59CB\u503C\u7684\u9636\u6BB5,\u8FD9\u4E9B\u5185\u5B58\u90FD\u5C06\u5728\u65B9\u6CD5\u533A\u4E2D\u8FDB\u884C\u5206\u914D\u3002</li><li>\u89E3\u6790:\u865A\u62DF\u673A\u5E38\u91CF\u6C60\u5185\u7684\u7B26\u53F7\u5F15\u7528(\u5E38\u91CF\u540D)\u66FF\u6362\u4E3A\u76F4\u63A5\u5F15\u7528(\u5730\u5740)\u7684\u8FC7\u7A0B\u3002</li></ul></li><li>\u521D\u59CB\u5316: <ul><li>\u6267\u884C\u7C7B\u6784\u9020\u5668 ()\u65B9\u6CD5\u7684\u8FC7\u7A0B\u3002\u7C7B\u6784\u9020\u5668 ()\u65B9\u6CD5\u662F\u7531\u7F16\u8BD1\u671F\u81EA\u52A8\u6536\u96C6\u7C7B\u4E2D\u6240\u6709\u7C7B\u53D8\u91CF\u7684\u8D4B\u503C\u52A8\u4F5C\u548C\u9759\u6001\u4EE3\u7801\u5757\u4E2D\u7684\u8BED\u53E5\u5408\u5E76\u4EA7\u751F\u7684\u3002(\u7C7B\u6784\u9020\u5668\u662F\u6784\u9020\u7C7B\u4FE1\u606F\u7684,\u4E0D\u662F\u6784\u9020\u8BE5\u7C7B\u5BF9\u8C61\u7684\u6784\u9020\u5668)\u3002</li><li>\u5F53\u521D\u59CB\u5316\u4E00\u4E2A\u7C7B\u7684\u65F6\u5019,\u5982\u679C\u53D1\u73B0\u5176\u7236\u7C7B\u8FD8\u6CA1\u6709\u8FDB\u884C\u521D\u59CB\u5316,\u5219\u9700\u8981\u5148\u89E6\u53D1\u5176\u7236\u7C7B\u7684\u521D\u59CB\u5316\u3002</li><li>\u865A\u62DF\u673A\u4F1A\u4FDD\u8BC1\u4E00\u4E2A\u7C7B\u7684()\u65B9\u6CD5\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E2D\u88AB\u6B63\u786E\u52A0\u9501\u548C\u540C\u6B65\u3002</li></ul></li></ul><h3 id="\u5206\u6790\u7C7B\u521D\u59CB\u5316" tabindex="-1"><a class="header-anchor" href="#\u5206\u6790\u7C7B\u521D\u59CB\u5316" aria-hidden="true">#</a> \u5206\u6790\u7C7B\u521D\u59CB\u5316</h3><ul><li>\u7C7B\u7684\u4E3B\u52A8\u5F15\u7528(\u4E00\u5B9A\u4F1A\u53D1\u751F\u7C7B\u7684\u521D\u59CB\u5316) <ul><li>\u5F53\u865A\u62DF\u673A\u542F\u52A8, \u521D\u59CB\u5316main\u65B9\u6CD5\u6240\u5728\u7684\u7C7B</li><li>new\u4E00\u4E2A\u7C7B\u7684\u5BF9\u8C61</li><li>\u8C03\u7528\u7C7B\u7684\u9759\u6001\u6210\u5458(\u9664\u4E86final\u5E38\u91CF)\u548C\u9759\u6001\u65B9\u6CD5</li><li>\u4F7F\u7528java.lang.reflect\u5305\u7684\u65B9\u6CD5\u5BF9\u7C7B\u8FDB\u884C\u53CD\u5C04\u8C03\u7528</li><li>\u5F53\u521D\u59CB\u5316\u4E00\u4E2A\u7C7B,\u5982\u679C\u5176\u7236\u7C7B\u6CA1\u6709\u88AB\u521D\u59CB\u5316,\u5219\u5148\u4F1A\u521D\u59CB\u5316\u5B83\u7684\u7236\u7C7B</li></ul></li><li>\u7C7B\u7684\u88AB\u52A8\u5F15\u7528(\u4E0D\u4F1A\u53D1\u751F\u7C7B\u7684\u521D\u59CB\u5316) <ul><li>\u5F53\u8BBF\u95EE\u4E00\u4E2A\u9759\u6001\u57DF\u65F6,\u53EA\u6709\u771F\u6B63\u58F0\u660E\u8FD9\u4E2A\u57DF\u7684\u7C7B\u624D\u4F1A\u88AB\u521D\u59CB\u5316\u3002\u5982:\u5F53\u901A\u8FC7\u5B50\u7C7B\u5F15\u7528\u7236\u7C7B\u7684\u9759\u6001\u53D8\u91CF,\u4E0D\u4F1A\u5BFC\u81F4\u5B50\u7C7B\u521D\u59CB</li><li>\u901A\u8FC7\u6570\u7EC4\u5B9A\u4E49\u7C7B\u5F15\u7528,\u4E0D\u4F1A\u89E6\u53D1\u6B64\u7C7B\u7684\u521D\u59CB\u5316</li><li>\u5F15\u7528\u5E38\u91CF\u4E0D\u4F1A\u89E6\u53D1\u6B64\u7C7B\u7684\u521D\u59CB\u5316(\u5E38\u91CF\u5728\u94FE\u63A5\u9636\u6BB5\u5C31\u5B58\u5165\u8C03\u7528\u7C7B\u7684\u5E38\u91CF\u6C60\u4E2D\u4E86)</li></ul></li></ul><h3 id="\u7C7B\u52A0\u8F7D\u5668" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u52A0\u8F7D\u5668" aria-hidden="true">#</a> \u7C7B\u52A0\u8F7D\u5668</h3><ul><li><p>\u7C7B\u52A0\u8F7D\u7684\u4F5C\u7528:</p><p>\u2003\u2003\u5C06class\u6587\u4EF6\u5B57\u8282\u7801\u5185\u5BB9\u52A0\u8F7D\u5230\u5185\u5B58\u4E2D,\u5E76\u5C06\u8FD9\u4E9B\u9759\u6001\u6570\u636E\u8F6C\u6362\u6210\u65B9\u6CD5\u533A\u7684\u8FD0\u884C\u65F6\u6570\u636E\u7ED3\u6784,\u7136\u540E\u5728\u5806\u4E2D\u751F\u6210\u4E00\u4E2A\u4EE3\u8868\u8FD9\u4E2A\u7C7B\u7684java.lang.Class\u5BF9\u8C61,\u4F5C\u4E3A\u65B9\u6CD5\u533A\u4E2D\u7C7B\u6570\u636E\u7684\u8BBF\u95EE\u5165\u53E3\u3002</p></li><li><p>\u7C7B\u7F13\u5B58:</p><p>\u2003\u2003\u6807\u51C6\u7684JavaSE\u7C7B\u52A0\u8F7D\u5668\u53EF\u4EE5\u6309\u8981\u6C42\u67E5\u627E\u7C7B,\u4F46\u4E00\u65E6\u67D0\u4E2A\u7C7B\u88AB\u52A0\u8F7D\u5230\u7C7B\u52A0\u8F7D\u5668\u4E2D,\u5B83\u5C06\u7EF4\u6301\u52A0\u8F7D(\u7F13\u5B58)\u4E00\u6BB5\u65F6\u95F4\u3002\u4E0D\u8FC7JVM\u5783\u573E\u56DE\u6536\u673A\u5236\u53EF\u4EE5\u56DE\u6536\u8FD9\u4E9BClass\u5BF9\u8C61</p></li></ul><h4 id="\u52A0\u8F7D\u5668\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u52A0\u8F7D\u5668\u5206\u7C7B" aria-hidden="true">#</a> \u52A0\u8F7D\u5668\u5206\u7C7B</h4><blockquote><p>\u5F15\u5BFC\u7C7B&gt;\u6269\u5C55\u7C7B&gt;\u7CFB\u7EDF\u7C7B</p></blockquote><ul><li>\u5F15\u5BFC\u7C7B\u52A0\u8F7D\u5668 Bootstap ClassLoader:</li></ul><p>\u2003\u2003\u7528C++\u7F16\u5199\u7684,\u662FJVM\u81EA\u5E26\u7684\u7C7B\u52A0\u8F7D\u5668,\u8D1F\u8D23Java\u5E73\u53F0\u6838\u5FC3\u5E93,\u7528\u6765\u88C5\u8F7D\u6838\u5FC3\u7C7B\u5E93\u3002\u8BE5\u52A0\u8F7D\u5668\u65E0\u6CD5\u76F4\u63A5\u83B7\u53D6</p><ul><li>\u6269\u5C55\u7C7B\u52A0\u8F7D\u5668 Extension Classloader:</li></ul><p>\u2003\u2003\u8D1F\u8D23jrelib/ext\u76EE\u5F55\u4E0B\u7684jar\u5305\u6216D java.ext.dirs\u6307\u5B9A\u76EE\u5F55\u4E0B\u7684jar\u5305\u88C5\u5165\u5DE5\u4F5C\u5E93</p><ul><li>\u7CFB\u7EDF\u7C7B\u52A0\u8F7D\u5668 System Classloader:</li></ul><p>\u2003\u2003\u8D1F\u8D23java-classpath\u6216-Djava.class.path\u6240\u6307\u7684\u76EE\u5F55\u4E0B\u7684\u7C7B\u4E0Ejar\u5305\u88C5\u5165\u5DE5\u4F5C,\u662F\u6700\u5E38\u7528\u7684\u52A0\u8F7D\u5668</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">{</span> <span class="token comment">//\u4F7F\u7528\u4E86forName();</span>

    <span class="token comment">//\u83B7\u53D6\u7CFB\u7EDF\u7C7B\u7684\u52A0\u8F7D\u5668</span>
    <span class="token class-name">ClassLoader</span> systemClassLoader <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>systemClassLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u83B7\u53D6\u7CFB\u7EDF\u7C7B\u52A0\u8F7D\u5668\u7236\u7C7B-&gt;\u6269\u5C55\u7C7B\u52A0\u8F7D\u5668</span>
    <span class="token class-name">ClassLoader</span> parent <span class="token operator">=</span> systemClassLoader<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u83B7\u53D6\u6269\u5C55\u7C7B\u52A0\u8F7D\u5668\u7684\u7236\u7C7B\u52A0\u8F7D\u5668-&gt;\u6839\u52A0\u8F7D\u5668(c/c++)</span>
    <span class="token class-name">ClassLoader</span> grandParent <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>grandParent<span class="token punctuation">)</span>

    <span class="token comment">//\u6D4B\u8BD5\u5F53\u524D\u7C7B\u662F\u54EA\u4E2A\u52A0\u8F7D\u5668\u52A0\u8F7D</span>
    <span class="token class-name">ClassLoader</span> classLoader <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.shane.reflection.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>

    classLoader <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.Object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u83B7\u53D6\u7CFB\u7EDF\u7C7B\u52A0\u8F7D\u5668\u53EF\u4EE5\u52A0\u8F7D\u7684\u8DEF\u5F84</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>&quot;java<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C:</p><blockquote><p>sun.misc. Launcher$App lassLoader@18b4aac2<br> sun.misc. Launcher$ExtclassLoader@4554617c <br> null<br> sun.misc. Launcher\u015FAppClassLoadera18b4aac2 <br> null<br><br> Process finished with exit code o</p></blockquote><h3 id="\u83B7\u5F97-class-\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u83B7\u5F97-class-\u5BF9\u8C61" aria-hidden="true">#</a> \u83B7\u5F97 Class \u5BF9\u8C61</h3><ul><li>\u82E5\u5DF2\u77E5\u5177\u4F53\u7684\u7C7B,\u901A\u8FC7\u7C7B\u7684class\u5C5E\u6027\u83B7\u53D6,\u8BE5\u65B9\u6CD5\u6700\u4E3A\u5B89\u5168\u53EF\u9760,\u7A0B\u5E8F\u6027\u80FD\u6700\u9AD8\u3002<br><code>Class clazz = Person.class;</code></li><li>\u5DF2\u77E5\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B,\u8C03\u7528\u8BE5\u5B9E\u4F8B\u7684getClass()\u65B9\u6CD5\u83B7\u53D6Class\u5BF9\u8C61<br><code>Class clazz = person.getClass();</code></li><li>\u5DF2\u77E5\u4E00\u4E2A\u7C7B\u7684\u5168\u7C7B\u540D,\u4E14\u8BE5\u7C7B\u5728\u7C7B\u8DEF\u5F84\u4E0B,\u53EF\u901A\u8FC7Class\u7C7B\u7684\u9759\u6001\u65B9\u6CD5forName()\u83B7\u53D6,\u53EF\u80FD\u629B\u51FAClassNotFoundException<br><code>Class clazz = Class.forName(&quot;demo01.Student&quot;);</code></li><li>\u5185\u7F6E\u57FA\u672C\u6570\u636E\u7C7B\u578B\u53EF\u4EE5\u76F4\u63A5\u7528\u7C7B\u540D.Type</li><li>\u8FD8\u53EF\u4EE5\u5229\u7528ClassLoader</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> test<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>ou<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//1.\u901A\u8FC7\u5BF9\u8C61</span>
    <span class="token keyword">class</span> c1 <span class="token operator">=</span> person<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2.forname\u83B7\u5F97</span>
    <span class="token keyword">class</span> c2 <span class="token operator">=</span> <span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.shane.refelection.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//3.\u901A\u8FC7\u7C7B\u540D.class\u83B7\u5F97</span>
    <span class="token class-name">Class</span> c3 <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c3<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//4.\u5185\u7F6E\u5305\u88C5\u7C7BType\u5C5E\u6027</span>
    <span class="token class-name">Class</span> c4 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c4<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">//5.\u7C7B\u52A0\u8F7D\u5668</span>
     <span class="token class-name">ClassLoader</span> classLoader <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span>get<span class="token punctuation">.</span></span>Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Class</span> c5 <span class="token operator">=</span> classLoader<span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token string">&quot;com.shane.refelection.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c5<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
    <span class="token comment">//\u83B7\u5F97\u7236\u7C7B\u7C7B\u578B</span>
    <span class="token class-name">Class</span> c5 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c5<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  <span class="token comment">/*
   *
   */</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u53EA\u8981\u5143\u7D20\u7C7B\u578B\u548C\u7EF4\u5EA6\u4E00\u6837,\u5C31\u662F\u540C\u4E00\u4E2Aclass</p></blockquote><h3 id="\u5224\u65AD\u662F\u5426\u4E3A\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD\u662F\u5426\u4E3A\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B" aria-hidden="true">#</a> \u5224\u65AD\u662F\u5426\u4E3A\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B</h3><p>\u2003\u2003\u4E00\u822C\u5730\uFF0C\u6211\u4EEC\u7528 instanceof \u5173\u952E\u5B57\u6765\u5224\u65AD\u662F\u5426\u4E3A\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u3002\u540C\u65F6\u6211\u4EEC\u4E5F\u53EF\u4EE5\u501F\u52A9\u53CD\u5C04\u4E2D Class \u5BF9\u8C61\u7684 isInstance() \u65B9\u6CD5\u6765\u5224\u65AD\u662F\u5426\u4E3A\u67D0\u4E2A\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u5B83\u662F\u4E00\u4E2A native \u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isInstance</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u5B9E\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5B9E\u4F8B" aria-hidden="true">#</a> \u521B\u5EFA\u5B9E\u4F8B</h3><p>\u901A\u8FC7\u53CD\u5C04\u6765\u751F\u6210\u5BF9\u8C61\u4E3B\u8981\u6709\u4E24\u79CD\u65B9\u5F0F\u3002</p><ul><li>\u4F7F\u7528Class\u5BF9\u8C61\u7684newInstance()\u65B9\u6CD5\u6765\u521B\u5EFAClass\u5BF9\u8C61\u5BF9\u5E94\u7C7B\u7684\u5B9E\u4F8B\u3002</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span> str <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5148\u901A\u8FC7Class\u5BF9\u8C61\u83B7\u53D6\u6307\u5B9A\u7684Constructor\u5BF9\u8C61\uFF0C\u518D\u8C03\u7528Constructor\u5BF9\u8C61\u7684newInstance()\u65B9\u6CD5\u6765\u521B\u5EFA\u5B9E\u4F8B\u3002\u8FD9\u79CD\u65B9\u6CD5\u53EF\u4EE5\u7528\u6307\u5B9A\u7684\u6784\u9020\u5668\u6784\u9020\u7C7B\u7684\u5B9E\u4F8B\u3002</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u83B7\u53D6String\u6240\u5BF9\u5E94\u7684Class\u5BF9\u8C61</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">//\u83B7\u53D6String\u7C7B\u5E26\u4E00\u4E2AString\u53C2\u6570\u7684\u6784\u9020\u5668</span>
<span class="token class-name">Constructor</span> constructor <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u6839\u636E\u6784\u9020\u5668\u521B\u5EFA\u5B9E\u4F8B</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;23333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u65B9\u6CD5" aria-hidden="true">#</a> \u83B7\u53D6\u65B9\u6CD5</h3><p>\u83B7\u53D6\u67D0\u4E2AClass\u5BF9\u8C61\u7684\u65B9\u6CD5\u96C6\u5408\uFF0C\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u6CD5\uFF1A</p><p>\u2003\u2003getDeclaredMethods \u65B9\u6CD5\u8FD4\u56DE\u7C7B\u6216\u63A5\u53E3\u58F0\u660E\u7684\u6240\u6709\u65B9\u6CD5\uFF0C\u5305\u62EC\u516C\u5171\u3001\u4FDD\u62A4\u3001\u9ED8\u8BA4\uFF08\u5305\uFF09\u8BBF\u95EE\u548C\u79C1\u6709\u65B9\u6CD5\uFF0C\u4F46<em>\u4E0D\u5305\u62EC\u7EE7\u627F\u7684\u65B9\u6CD5</em>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SecurityException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u2003\u2003getMethods \u65B9\u6CD5\u8FD4\u56DE\u67D0\u4E2A\u7C7B\u7684\u6240\u6709\u516C\u7528\uFF08public\uFF09\u65B9\u6CD5\uFF0C<em>\u5305\u62EC\u5176\u7EE7\u627F\u7C7B\u7684\u516C\u7528\u65B9\u6CD5</em>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SecurityException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u2003\u2003getMethod \u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u7279\u5B9A\u7684\u65B9\u6CD5\uFF0C\u5176\u4E2D\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u65B9\u6CD5\u540D\u79F0\uFF0C\u540E\u9762\u7684\u53C2\u6570\u4E3A\u65B9\u6CD5\u7684\u53C2\u6570<em>\u5BF9\u5E94Class\u7684\u5BF9\u8C61</em>\u3002(\u56E0\u4E3A\u91CD\u8F7D\u9700\u8981\u5B9A\u4F4D)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Method</span> <span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> parameterTypes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EA\u662F\u8FD9\u6837\u63CF\u8FF0\u7684\u8BDD\u53EF\u80FD\u96BE\u4EE5\u7406\u89E3\uFF0C\u6211\u4EEC\u7528\u4F8B\u5B50\u6765\u7406\u89E3\u8FD9\u4E09\u4E2A\u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span></span><span class="token class-name">ScZyhSoft</span><span class="token punctuation">.</span>common<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> test1 <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
	        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> methodClass<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
	        <span class="token class-name">Object</span> object <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methods <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> declaredMethods <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token comment">//\u83B7\u53D6methodClass\u7C7B\u7684add\u65B9\u6CD5</span>
	        <span class="token class-name">Method</span> method <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token comment">//getMethods()\u65B9\u6CD5\u83B7\u53D6\u7684\u6240\u6709\u65B9\u6CD5</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getMethods\u83B7\u53D6\u7684\u65B9\u6CD5\uFF1A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Method</span> m<span class="token operator">:</span>methods<span class="token punctuation">)</span>
	            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token comment">//getDeclaredMethods()\u65B9\u6CD5\u83B7\u53D6\u7684\u6240\u6709\u65B9\u6CD5</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getDeclaredMethods\u83B7\u53D6\u7684\u65B9\u6CD5\uFF1A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Method</span> m<span class="token operator">:</span>declaredMethods<span class="token punctuation">)</span>
	            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token keyword">class</span> methodClass <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> fuck <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7A0B\u5E8F\u8FD0\u884C\u7684\u7ED3\u679C\u5982\u4E0B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>getMethods\u83B7\u53D6\u7684\u65B9\u6CD5\uFF1A
public int org.ScZyhSoft.common.methodClass.add(int,int)
public int org.ScZyhSoft.common.methodClass.sub(int,int)
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public boolean java.lang.Object.equals(java.lang.Object)
public java.lang.String java.lang.Object.toString()
public native int java.lang.Object.hashCode()
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
getDeclaredMethods\u83B7\u53D6\u7684\u65B9\u6CD5\uFF1A
public int org.ScZyhSoft.common.methodClass.add(int,int)
public int org.ScZyhSoft.common.methodClass.sub(int,int)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u2003\u53EF\u4EE5\u770B\u5230\uFF0C\u901A\u8FC7 getMethods() \u83B7\u53D6\u7684\u65B9\u6CD5\u53EF\u4EE5\u83B7\u53D6\u5230\u7236\u7C7B\u7684\u65B9\u6CD5,\u6BD4\u5982 java.lang.Object \u4E0B\u5B9A\u4E49\u7684\u5404\u4E2A\u65B9\u6CD5\u3002</p><h3 id="\u83B7\u53D6\u6784\u9020\u5668\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u6784\u9020\u5668\u4FE1\u606F" aria-hidden="true">#</a> \u83B7\u53D6\u6784\u9020\u5668\u4FE1\u606F</h3><p>\u2003\u2003\u83B7\u53D6\u7C7B\u6784\u9020\u5668\u7684\u7528\u6CD5\u4E0E\u4E0A\u8FF0\u83B7\u53D6\u65B9\u6CD5\u7684\u7528\u6CD5\u7C7B\u4F3C\u3002\u4E3B\u8981\u662F\u901A\u8FC7Class\u7C7B\u7684getConstructor\u65B9\u6CD5\u5F97\u5230Constructor\u7C7B\u7684\u4E00\u4E2A\u5B9E\u4F8B\uFF0C\u800CConstructor\u7C7B\u6709\u4E00\u4E2AnewInstance\u65B9\u6CD5\u53EF\u4EE5\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u5B9E\u4F8B:</p><blockquote><p>\u4F7F\u7528getDeclaredConstructors\u53EF\u4EE5\u83B7\u5F97\u6240\u6709\u6784\u9020\u5668</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> initargs<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6B64\u65B9\u6CD5\u53EF\u4EE5\u6839\u636E\u4F20\u5165\u7684\u53C2\u6570\u6765\u8C03\u7528\u5BF9\u5E94\u7684Constructor\u521B\u5EFA\u5BF9\u8C61\u5B9E\u4F8B\u3002</p><h3 id="\u83B7\u53D6\u7C7B\u7684\u6210\u5458\u53D8\u91CF-\u5B57\u6BB5-\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u7C7B\u7684\u6210\u5458\u53D8\u91CF-\u5B57\u6BB5-\u4FE1\u606F" aria-hidden="true">#</a> \u83B7\u53D6\u7C7B\u7684\u6210\u5458\u53D8\u91CF\uFF08\u5B57\u6BB5\uFF09\u4FE1\u606F</h3><p>\u4E3B\u8981\u662F\u8FD9\u51E0\u4E2A\u65B9\u6CD5\uFF0C\u5728\u6B64\u4E0D\u518D\u8D58\u8FF0\uFF1A<br></p><ul><li><code>getFiled\uFF1A</code>\u8BBF\u95EE<em>\u516C\u6709</em>\u7684\u6210\u5458\u53D8\u91CF</li><li><code>getDeclaredField\uFF1A</code>\u6240\u6709\u5DF2\u58F0\u660E\u7684\u6210\u5458\u53D8\u91CF\uFF0C\u4F46\u4E0D\u80FD\u5F97\u5230\u5176\u7236\u7C7B\u7684\u6210\u5458\u53D8\u91CF</li></ul><blockquote><p><code>getFileds</code> \u548C <code>getDeclaredFields</code> \u65B9\u6CD5\u7528\u6CD5\u540C\u4E0A\uFF08\u53C2\u7167 Method\uFF09\u3002</p></blockquote><h3 id="\u8C03\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8C03\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u8C03\u7528\u65B9\u6CD5</h3><p>\u2003\u2003\u5F53\u6211\u4EEC\u4ECE\u7C7B\u4E2D\u83B7\u53D6\u4E86\u4E00\u4E2A\u65B9\u6CD5\u540E\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u7528 invoke() \u65B9\u6CD5\u6765\u8C03\u7528\u8FD9\u4E2A\u65B9\u6CD5\u3002invoke \u65B9\u6CD5\u7684\u539F\u578B\u4E3A:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">,</span>
           <span class="token class-name">InvocationTargetException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u5B9E\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> test1 <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> klass <span class="token operator">=</span> methodClass<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">//\u521B\u5EFAmethodClass\u7684\u5B9E\u4F8B</span>
        <span class="token class-name">Object</span> obj <span class="token operator">=</span> klass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6methodClass\u7C7B\u7684add\u65B9\u6CD5</span>
        <span class="token class-name">Method</span> method <span class="token operator">=</span> klass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u8C03\u7528method\u5BF9\u5E94\u7684\u65B9\u6CD5 =&gt; add(1,4)</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u65B9\u6CD5\u6FC0\u6D3B(\u5BF9\u8C61,\u53C2\u6570)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> methodClass <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> fuck <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Object invoke (Object obj, Object ... args)</code></p><ul><li>Object\u5BF9\u5E94\u539F\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C,\u82E5\u539F\u65B9\u6CD5\u65E0\u8FD4\u56DE\u503C,\u6B64\u65F6\u8FD4\u56DEnull</li><li>\u82E5\u539F\u65B9\u6CD5\u82E5\u4E3A\u9759\u6001\u65B9\u6CD5,\u6B64\u65F6\u5F62\u53C2Object obj\u53EF\u4E3Anull</li><li>\u82E5\u539F\u65B9\u6CD5\u5F62\u53C2\u5217\u8868\u4E3A\u7A7A,\u5219ObjectI] args\u4E3Anull</li><li>\u82E5\u539F\u65B9\u6CD5\u58F0\u660E\u4E3Aprivate,\u5219\u9700\u8981\u5728\u8C03\u7528\u6B64invoke()\u65B9\u6CD5\u524D,\u663E\u5F0F\u8C03\u7528\u65B9\u6CD5\u5BF9\u8C61\u7684setAccessible(true)\u65B9\u6CD5,\u5C06\u53EF\u8BBF\u95EEprivate\u7684\u65B9\u6CD5\u3002</li></ul><h3 id="\u52A8\u6001\u521B\u5EFA\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u521B\u5EFA\u5BF9\u8C61" aria-hidden="true">#</a> \u52A8\u6001\u521B\u5EFA\u5BF9\u8C61</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> dynamicObjects<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantionException</span><span class="token punctuation">{</span>
    <span class="token comment">//\u83B7\u53D6Class\u5BF9\u8C61</span>
    <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.shane.reflection.User&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6784\u9020\u4E00\u4E2A\u5BF9\u8C61</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span>c1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8C03\u7528\u4E86\u65E0\u53C2\u6784\u9020\u5668</span>
    <span class="token comment">/*class.newInstance();
    *1.\u9700\u8981\u6709\u65E0\u53C2\u6784\u9020\u5668
    *2.\u6784\u9020\u5668\u7684\u8BBF\u95EE\u6743\u9650\u8DB3\u591F
    */</span>
    <span class="token comment">//\u4F7F\u7528\u6784\u9020\u5668\u521B\u5EFA\u5BF9\u8C61</span>
    <span class="token class-name">Constructor</span> constructor <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> shane <span class="token operator">=</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;shane&quot;</span><span class="token punctuation">,</span><span class="token number">001</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u901A\u8FC7\u53CD\u5C04\u8C03\u7528\u666E\u901A\u65B9\u6CD5</span>
    <span class="token class-name">User</span> user3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span>cl<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u901A\u8FC7\u53CD\u5C04\u83B7\u53D6\u4E00\u4E2A\u65B9\u6CD5</span>
    <span class="token class-name">Method</span> setName <span class="token operator">=</span> c1<span class="token punctuation">.</span>getDeclaredMethod <span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;setName&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//invoke :\u6FC0\u6D3B\u7684\u610F\u601D</span>
    <span class="token comment">// (\u5BF9\u8C61, &quot;\u65B9\u6CD5\u7684\u503C&quot;)</span>
    setName <span class="token punctuation">.</span> invoke <span class="token punctuation">(</span>user3<span class="token punctuation">,</span> <span class="token punctuation">.</span>args<span class="token operator">:</span> <span class="token string">&quot;1shane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user3<span class="token punctuation">.</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u901A\u8FC7\u53CD\u5C04\u64CD\u4F5C\u5C5E\u6027</span>
    <span class="token class-name">User</span> user4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span>c1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Field</span> name <span class="token operator">=</span> cl<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//\u4E0D\u80FD\u76F4\u63A5\u64CD\u4F5C\u79C1\u6709\u5C5E\u6027,\u6211\u4EEC\u9700\u8981\u5173\u95ED\u7A0B\u5E8F\u7684\u5B89\u5168\u68C0\u6D4B,\u5C5E\u6027\u6216\u8005\u65B9\u6CD5\u7684setAccessible(true)</span>
    name<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    name<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>user4<span class="token punctuation">,</span><span class="token string">&quot;2shane&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user4<span class="token punctuation">.</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="setaccessible" tabindex="-1"><a class="header-anchor" href="#setaccessible" aria-hidden="true">#</a> setAccessible</h3><ul><li>Method\u548CField,Constructor\u5BF9\u8C61\u90FD\u6709setAccessible()\u65B9\u6CD5\u3002</li><li>setAccessible\u4F5C\u7528\u662F\u542F\u52A8\u548C\u7981\u7528\u8BBF\u95EE\u5B89\u5168\u68C0\u67E5\u7684\u5F00\u5173\u3002</li><li>\u53C2\u6570\u503C\u4E3Atrue\u5219\u6307\u6740\u53CD\u5C04\u7684\u5BF9\u8C61\u5728\u4F7F\u7528\u65F6\u5E94\u8BE5\u53D6\u6D88Java\u8BED\u8A00\u8BBF\u95EE\u68C0\u67E5\u3002 <ul><li>*\u63D0\u9AD8\u53CD\u5C04\u7684\u6548\u7387\u3002*\u5982\u679C\u4EE3\u7801\u4E2D\u5FC5\u987B\u7528\u53CD\u5C04,\u800C\u8BE5\u53E5\u4EE3\u7801\u9700\u8981\u9891\u7E41\u7684\u88AB\u8C03\u7528,\u90A3\u4E48\u8BF7\u8BBE\u7F6E\u4E3Atrue</li><li>\u4F7F\u5F97\u539F\u672C\u65E0\u6CD5\u8BBF\u95EE\u7684\u79C1\u6709\u6210\u5458\u4E5F\u53EF\u4EE5\u8BBF\u95EE</li></ul></li><li>\u53C2\u6570\u503C\u4E3Afalse\u5219\u6307\u793A\u53CD\u5C04\u7684\u5BF9\u8C61\u5E94\u8BE5\u5B9E\u65BDJava\u8BED\u8A00\u8BBF\u95EE\u68C0\u67E5</li></ul><h3 id="\u5229\u7528\u53CD\u5C04\u521B\u5EFA\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528\u53CD\u5C04\u521B\u5EFA\u6570\u7EC4" aria-hidden="true">#</a> \u5229\u7528\u53CD\u5C04\u521B\u5EFA\u6570\u7EC4</h3><p>\u2003\u2003\u6570\u7EC4\u5728Java\u91CC\u662F\u6BD4\u8F83\u7279\u6B8A\u7684\u4E00\u79CD\u7C7B\u578B\uFF0C\u5B83\u53EF\u4EE5\u8D4B\u503C\u7ED9\u4E00\u4E2AObject Reference\u3002\u4E0B\u9762\u6211\u4EEC\u770B\u4E00\u770B\u5229\u7528\u53CD\u5C04\u521B\u5EFA\u6570\u7EC4\u7684\u4F8B\u5B50\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> cls <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> array <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u5F80\u6570\u7EC4\u91CC\u6DFB\u52A0\u5185\u5BB9</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;fuck&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;Scala&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;Clojure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6\u67D0\u4E00\u9879\u7684\u5185\u5BB9</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u2003\u5176\u4E2D\u7684Array\u7C7B\u4E3Ajava.lang.reflect.Array\u7C7B\u3002\u6211\u4EEC\u901A\u8FC7<code>Array.newInstance()</code>\u521B\u5EFA\u6570\u7EC4\u5BF9\u8C61\uFF0C\u5B83\u7684\u539F\u578B\u662F:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> componentType<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">NegativeArraySizeException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">newArray</span><span class="token punctuation">(</span>componentType<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u2003\u800C <code>newArray </code>\u65B9\u6CD5\u662F\u4E00\u4E2A native \u65B9\u6CD5\uFF0C\u5B83\u5728 HotSpot JVM \u91CC\u7684\u5177\u4F53\u5B9E\u73B0\u6211\u4EEC\u540E\u8FB9\u518D\u7814\u7A76\uFF0C\u8FD9\u91CC\u5148\u628A\u6E90\u7801\u8D34\u51FA\u6765\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token class-name">Object</span> <span class="token function">newArray</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> componentType<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">NegativeArraySizeException</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6E90\u7801\u76EE\u5F55\uFF1A<code>openjdk\\hotspot\\src\\share\\vm\\runtime\\reflection.cpp</code></p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>arrayOop <span class="token class-name">Reflection</span><span class="token double-colon punctuation">::</span><span class="token function">reflect_new_array</span><span class="token punctuation">(</span>oop element_mirror<span class="token punctuation">,</span> jint length<span class="token punctuation">,</span> TRAPS<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>element_mirror <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">THROW_0</span><span class="token punctuation">(</span>vmSymbols<span class="token double-colon punctuation">::</span><span class="token function">java_lang_NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">THROW_0</span><span class="token punctuation">(</span>vmSymbols<span class="token double-colon punctuation">::</span><span class="token function">java_lang_NegativeArraySizeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>java_lang_Class<span class="token double-colon punctuation">::</span><span class="token function">is_primitive</span><span class="token punctuation">(</span>element_mirror<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Klass<span class="token operator">*</span> tak <span class="token operator">=</span> <span class="token function">basic_type_mirror_to_arrayklass</span><span class="token punctuation">(</span>element_mirror<span class="token punctuation">,</span> CHECK_NULL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">TypeArrayKlass</span><span class="token double-colon punctuation">::</span><span class="token function">cast</span><span class="token punctuation">(</span>tak<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">allocate</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> THREAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Klass<span class="token operator">*</span> k <span class="token operator">=</span> java_lang_Class<span class="token double-colon punctuation">::</span><span class="token function">as_Klass</span><span class="token punctuation">(</span>element_mirror<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>k<span class="token operator">-&gt;</span><span class="token function">oop_is_array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">ArrayKlass</span><span class="token double-colon punctuation">::</span><span class="token function">cast</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">dimension</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> MAX_DIM<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">THROW_0</span><span class="token punctuation">(</span>vmSymbols<span class="token double-colon punctuation">::</span><span class="token function">java_lang_IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> oopFactory<span class="token double-colon punctuation">::</span><span class="token function">new_objArray</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> length<span class="token punctuation">,</span> THREAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2003\u2003\u53E6\u5916\uFF0CArray \u7C7B\u7684 <code>set</code> \u548C <code>get </code>\u65B9\u6CD5\u90FD\u4E3A native \u65B9\u6CD5\uFF0C\u5728 HotSpot JVM \u91CC\u5206\u522B\u5BF9\u5E94<code> Reflection::array_set</code> \u548C <code>Reflection::array_get</code> \u65B9\u6CD5\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u8BE6\u7EC6\u89E3\u6790\u4E86\u3002</p><h3 id="\u53CD\u5C04\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04\u8FC7\u7A0B" aria-hidden="true">#</a> \u53CD\u5C04\u8FC7\u7A0B</h3><p>java.lang.Class\u662F\u53CD\u5C04\u7684\u6E90\u5934</p><ol><li>\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A\u7C7B,\u901A\u8FC7\u7F16\u8BD1(javac.exe)\u751F\u6210\u4E86\u5B57\u8282\u7801\u6587\u4EF6.class\u6587\u4EF6.</li><li>\u6B64.class\u6587\u4EF6\u52A0\u8F7D\u5230\u5185\u5B58\u4E2D\u53BB\u4EE5\u540E,\u5C31\u662F\u4E00\u4E2A\u8FD0\u884C\u65F6\u7C7B,\u5B58\u5728\u7F13\u5B58\u533A,\u90A3\u4E48\u8FD9\u4E2A\u8FD0\u884C\u65F6\u7C7B\u672C\u8EAB\u5C31\u662FClass\u7684\u5B9E\u4F8B.</li><li>\u6BCF\u4E2A\u8FD0\u884C\u65F6\u7C7B\u53EA\u52A0\u8F7D\u4E00\u6B21</li><li>\u6709\u4E86Class\u7684\u5B9E\u4F8B\u540E,\u6211\u4EEC\u53EF\u4EE5\u505A\u5982\u4E0B\u64CD\u4F5C: <ul><li>\u521B\u5EFA\u5BF9\u5E94\u7684<strong>\u8FD0\u884C\u65F6</strong>\u7C7B\u7684\u5BF9\u8C61</li><li>\u83B7\u53D6\u5BF9\u5E94\u7684<strong>\u8FD0\u884C\u65F6</strong>\u7C7B\u7684\u5C5E\u6027,\u65B9\u6CD5,\u6784\u9020\u65B9\u6CD5,\u7236\u7C7B,\u6240\u5728\u7684\u5305,\u5F02\u5E38,\u63A5\u53E3\u7B49</li><li>\u8C03\u7528\u5BF9\u5E94\u7684<strong>\u8FD0\u884C\u65F6</strong>\u7C7B\u7684\u5C5E\u6027,\u65B9\u6CD5,\u6784\u9020\u65B9\u6CD5\u7B49</li></ul></li></ol><h3 id="\u6027\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u6027\u80FD\u5206\u6790" aria-hidden="true">#</a> \u6027\u80FD\u5206\u6790</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u5206\u6790\u6027\u80FD\u95EE\u9898</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BenchMark</span><span class="token punctuation">{</span>
  <span class="token comment">//\u666E\u901A\u65B9\u5F0F\u8C03\u7528</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      user <span class="token punctuation">.</span> getName <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token class-name">Long</span> endTime <span class="token operator">=</span> system<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u666E\u901A\u65B9\u5F0F\u6267\u884C10\u4EBF\u6B21:&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endTime<span class="token operator">-</span>startTime  <span class="token operator">+</span><span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
  <span class="token comment">//\u53CD\u5C04\u65B9\u5F0F\u8C03\u7528</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessExcept</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Class</span> cl <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Method</span> getName <span class="token operator">=</span> cl<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;getName&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Long</span> startTime <span class="token operator">=</span> system<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>o<span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">1000000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    getName<span class="token punctuation">.</span> invoke <span class="token punctuation">(</span>user<span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">long</span> endTime <span class="token operator">=</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u53CD\u5C04\u65B9\u5F0F\u6267\u884C10\u4EBF\u6B21:&quot;</span><span class="token operator">+</span> <span class="token punctuation">(</span>endTime<span class="token operator">-</span>startTime<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53CD\u5C04\u65B9\u5F0F\u8C03\u7528 \u5173\u95ED\u68C0\u6D4B</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessExcept</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Class</span> cl <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Method</span> getName <span class="token operator">=</span> cl<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;getName&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    getName<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Long</span> startTime <span class="token operator">=</span> system<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>o<span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">1000000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    getName<span class="token punctuation">.</span> invoke <span class="token punctuation">(</span>user<span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">long</span> endTime <span class="token operator">=</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5173\u95ED\u68C0\u6D4B\u6267\u884C10\u4EBF\u6B21:&quot;</span><span class="token operator">+</span> <span class="token punctuation">(</span>endTime<span class="token operator">-</span>startTime<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C:</p><blockquote><p>\u666E\u901A\u65B9\u5F0F\u6267\u884C10\u4EBF\u6B21:9ms<br>\u53CD\u5C04\u65B9\u5F0F\u6267\u884C10\u4EBF\u6B21:5699ms<br>\u5173\u95ED\u68C0\u6D4B\u6267\u884C10\u4EBF\u6B21: 1959ms</p></blockquote><h3 id="\u53CD\u5C04\u4E0E\u6CDB\u578B" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04\u4E0E\u6CDB\u578B" aria-hidden="true">#</a> \u53CD\u5C04\u4E0E\u6CDB\u578B</h3><ul><li>\u53CD\u5C04\u64CD\u4F5C\u6CDB\u578BJava\u91C7\u7528\u6CDB\u578B\u64E6\u9664\u7684\u673A\u5236\u6765\u5F15\u5165\u6CDB\u578B, Java\u4E2D\u7684\u6CDB\u578B\u4EC5\u4EC5\u662F\u7ED9\u7F16\u8BD1\u5668javac\u4F7F\u7528\u7684,\u786E\u4FDD\u6570\u636E\u7684\u5B89\u5168\u6027\u548C\u514D\u53BB\u5F3A\u5236\u7C7B\u578B\u8F6C\u6362\u95EE\u9898,\u4F46\u662F,\u4E00\u65E6\u7F16\u8BD1\u5B8C\u6210,\u6240\u6709\u548C\u6CDB\u578B\u6709\u5173\u7684\u7C7B\u578B\u5168\u90E8\u64E6\u9664</li><li>\u4E3A\u4E86\u901A\u8FC7\u53CD\u5C04\u64CD\u4F5C\u8FD9\u4E9B\u7C7B\u578B, Java\u65B0\u589E\u4E86ParameterizedType , GenericArrayTypeTypeVariable\u548CWildcardType\u51E0\u79CD\u7C7B\u578B\u6765\u4EE3\u8868\u4E0D\u80FD\u88AB\u5F52\u4E00\u5230Class\u7C7B\u4E2D\u7684\u7C7B\u578B\u4F46\u662F\u53C8\u548C\u539F\u59CB\u7C7B\u578B\u9F50\u540D\u7684\u7C7B\u578B. <ul><li>ParameterizedType :\u8868\u793A\u4E00\u79CD\u53C2\u6570\u5316\u7C7B\u578B,\u6BD4\u5982<code>Collection&lt;String&gt;</code></li><li>GenericArrayType :\u8868\u793A\u4E00\u79CD\u5143\u7D20\u7C7B\u578B\u662F\u53C2\u6570\u5316\u7C7B\u578B\u6216\u8005\u7C7B\u578B\u53D8\u91CF\u7684\u6570\u7EC4\u7C7B\u578B</li><li>TypeVariable :\u662F\u5404\u79CD\u7C7B\u578B\u53D8\u91CF\u7684\u516C\u5171\u7236\u63A5\u53E3</li><li>WildcardType :\u4EE3\u8868\u4E00\u79CD\u901A\u914D\u7B26\u7C7B\u578B\u8868\u8FBE\u5F0F</li></ul></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test11</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span>string<span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printIn</span><span class="token punctuation">(</span><span class="token string">&quot;test0l&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span>string<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    system<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printIn</span><span class="token punctuation">(</span><span class="token string">&quot;test02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> statis <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">{</span>
      <span class="token class-name">Method</span> method <span class="token operator">=</span> <span class="token class-name">Test11</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;test01&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> genericParameterTypes <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getGenericParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> genericParameterType <span class="token operator">:</span> genericParameterTypes<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//\u53D6\u51FA\u771F\u5B9E\u53C2\u6570\u4FE1\u606F</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>genericParameterType <span class="token keyword">instanceof</span> <span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> actualTypeArguments <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span> genericParameterType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActualTypeArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> actualTypeArgument <span class="token operator">:</span> actualTypeArguments<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printIn</span><span class="token punctuation">(</span>actualTypeArgument<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>

      method <span class="token operator">=</span> <span class="token class-name">Test11</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span> name<span class="token operator">:</span> <span class="token string">&quot;test02&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Type</span> genericParameterType <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getGenericParameterType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
      <span class="token keyword">if</span> <span class="token punctuation">(</span>genericParameterType <span class="token keyword">instanceof</span> <span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> actualTypeArguments <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span> genericParameterType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActualTypeArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Type</span> actualTypeArgument <span class="token operator">:</span> actualTypeArguments<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printIn</span><span class="token punctuation">(</span>actualTypeArgument<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u53CD\u5C04\u4E0E\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u53CD\u5C04\u4E0E\u6CE8\u89E3" aria-hidden="true">#</a> \u53CD\u5C04\u4E0E\u6CE8\u89E3</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> reflectionAnnotation<span class="token punctuation">{</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">{</span>
  <span class="token class-name">Class</span> c1 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.shane.reflection.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//\u901A\u8FC7\u53CD\u5C04\u83B7\u5F97\u6CE8\u89E3</span>
   <span class="token class-name">Annotation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> annotations <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Annotation</span> annotation <span class="token operator">:</span> annotations<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">//\u83B7\u5F97\u6CE8\u89E3value\u7684\u503C</span>
   <span class="token class-name">TableShane</span> tableShane <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TableShane</span><span class="token punctuation">)</span>c1<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">TableShane</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> value <span class="token operator">=</span> tableShane<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//\u83B7\u5F97\u7C7B\u6307\u5B9A\u7684\u6CE8\u89E3</span>
   <span class="token class-name">Field</span> f <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">FiledShane</span> annotation <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">FiledShane</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">.</span><span class="token function">columnName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@TableShane</span><span class="token punctuation">(</span><span class="token string">&quot;db_students&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{</span>

  <span class="token annotation punctuation">@FieldShane</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">&quot;db_id&quot;</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">,</span>length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
  <span class="token annotation punctuation">@FieldShane</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">&quot;db_age&quot;</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">,</span>length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token annotation punctuation">@FieldShane</span><span class="token punctuation">(</span>columnName <span class="token operator">=</span> <span class="token string">&quot;db_name&quot;</span><span class="token punctuation">,</span>type <span class="token operator">=</span> <span class="token string">&quot;varchar&quot;</span><span class="token punctuation">,</span>length <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> id<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span><span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span> age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Student{&quot;</span><span class="token operator">+</span><span class="token string">&quot;id=&quot;</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">&quot;,age=&quot;</span><span class="token operator">+</span>age<span class="token operator">+</span><span class="token string">&quot;,name=&#39;&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token char">&#39;\\&#39;&#39;</span><span class="token operator">+</span><span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

  <span class="token comment">//\u7C7B\u540D\u7684\u6CE8\u89E3</span>
  <span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@interface</span> <span class="token class-name">TableShane</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//\u5C5E\u6027\u7684\u6CE8\u89E3</span>
  <span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@interface</span> <span class="token class-name">FiledShane</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">columnName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> \u6CE8\u610F\u4E8B\u9879</h3><p>\u2003\u2003\u7531\u4E8E\u53CD\u5C04\u4F1A\u989D\u5916\u6D88\u8017\u4E00\u5B9A\u7684\u7CFB\u7EDF\u8D44\u6E90\uFF0C\u56E0\u6B64\u5982\u679C\u4E0D\u9700\u8981\u52A8\u6001\u5730\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u90A3\u4E48\u5C31\u4E0D\u9700\u8981\u7528\u53CD\u5C04\u3002</p><p>\u2003\u2003\u53E6\u5916\uFF0C\u53CD\u5C04\u8C03\u7528\u65B9\u6CD5\u65F6\u53EF\u4EE5\u5FFD\u7565\u6743\u9650\u68C0\u67E5\uFF0C\u56E0\u6B64\u53EF\u80FD\u4F1A\u7834\u574F\u5C01\u88C5\u6027\u800C\u5BFC\u81F4\u5B89\u5168\u95EE\u9898\u3002</p><h3 id="\u90E8\u5206\u53CD\u5C04\u5185\u5BB9\u8F6C\u8F7D\u81EA" tabindex="-1"><a class="header-anchor" href="#\u90E8\u5206\u53CD\u5C04\u5185\u5BB9\u8F6C\u8F7D\u81EA" aria-hidden="true">#</a> \u90E8\u5206\u53CD\u5C04\u5185\u5BB9\u8F6C\u8F7D\u81EA</h3><blockquote><p>\u672C\u6587\u6807\u9898:\u6DF1\u5165\u89E3\u6790Java\u53CD\u5C04\uFF081\uFF09 - \u57FA\u7840<br> \u6587\u7AE0\u4F5C\u8005:sczyh30<br> \u53D1\u5E03\u65F6\u95F4:2015\u5E7406\u670824\u65E5<br> \u539F\u59CB\u94FE\u63A5:http://www.sczyh30.com/posts/Java/java-reflection-1/<br> \u8BB8\u53EF\u534F\u8BAE: &quot;\u77E5\u8BC6\u5171\u4EAB-\u4FDD\u6301\u7F72\u540D-\u975E\u5546\u7528-\u76F8\u540C\u65B9\u5F0F\u5171\u4EAB 4.0&quot; \u8F6C\u8F7D\u8BF7\u4FDD\u7559\u539F\u6587\u94FE\u63A5\u53CA\u4F5C\u8005\u3002</p></blockquote><hr><p>\u6574\u7406\u4E0D\u6613\uFF0C\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002 \u76F8\u5173\u89C6\u9891\u6559\u7A0B\u53EF\u53C2\u8003\u72C2\u795E\u8BF4</p>`,145),l=[c];function i(u,k){return s(),a("div",null,l)}const d=n(o,[["render",i],["__file","AnnotationReflection.html.vue"]]);export{d as default};
