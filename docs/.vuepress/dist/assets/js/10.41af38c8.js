(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{449:function(t,s,a){"use strict";a.r(s);var e=a(28),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"docker容器技术基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker容器技术基础"}},[t._v("#")]),t._v(" Docker容器技术基础")]),t._v(" "),a("h2",{attrs:{id:"容器的概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器的概念"}},[t._v("#")]),t._v(" 容器的概念")]),t._v(" "),a("blockquote",[a("p",[t._v("“Build, ship, amd Run any App, Anywhere”")]),t._v(" "),a("p",[t._v("操作系统上一个特殊的进程")])]),t._v(" "),a("h3",{attrs:{id:"虚拟化原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟化原理"}},[t._v("#")]),t._v(" 虚拟化原理")]),t._v(" "),a("ul",[a("li",[a("p",[t._v('虚拟机:存在于硬件层和操作系统层间的虚拟化技术。虚拟机通过"伪造一个硬件抽象接口,将一个操作系统以及操作系统层以上的层嫁接到硬件上,实现和真实物理机几乎一样的功能。')])]),t._v(" "),a("li",[a("p",[t._v('容器：存在于操作系统层和函数库层之间的虚拟化技术。容器通过"伪造"操作系统的接口,将API抽象层,函数库层以上的功能置于操作系统上,以Docker为例,就是基于Linux操作系统的'),a("code",[t._v("Namespace")]),t._v("和"),a("code",[t._v("CGroup")]),t._v("功能实现的隔离容器,模拟操作系统的功能,因为它比虚拟机高了一层,也就需要少一层东西,所以容器占用资源少。")]),t._v(" "),a("p",[a("code",[t._v("int pid = clone(main_function, stack_size,CLONE_NEMPID I SIGCHLD, NULL);")])])]),t._v(" "),a("li",[a("p",[t._v("JVM:存在于函数库层和应用程序之间的虚拟化技术。Java虚拟机具有跨平台特性,所谓跨平台特性实际上就是虚拟化的功劳我们Java语言是调用操作系统函数库的,然而不同操作系统的函数库互不相同,JVM就是建立一个虚拟化层,对下通过不同的版本适应不同的操作系统,对上提供统一的运行环境交给程序和开发者。")])]),t._v(" "),a("li",[a("p",[t._v("恰到好处的隔离性")]),t._v(" "),a("blockquote",[a("p",[t._v("可以把容器理解为虚机吗?")]),t._v(" "),a("p",[t._v("答:其实并不能,如果你非要这么理解,一定要先知道容器的优势与极限。更应该把容器理解为一个配置了多种启动参数的进程。")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2020-09-22-13-52-33.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"容器的优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器的优势"}},[t._v("#")]),t._v(" 容器的优势")]),t._v(" "),a("ul",[a("li",[a("p",[t._v('一致的运行环境: Docker的镜像提供了除内核外完整的运行时环境,确保了应用运行环境一致性,从而不会再出现"这段代码在我机器上没问题啊"这类问题。')])]),t._v(" "),a("li",[a("p",[t._v("更快速的启动时间:可以做到秒级、甚至毫秒级的启动时间。")])]),t._v(" "),a("li",[a("p",[t._v("大大的节约了开发、测试、部署的时间。隔离性:避免公用的服务器,资源会容易受到其他用户的影响。")])]),t._v(" "),a("li",[a("p",[t._v("弹性伸缩:善于处理集中爆发的服务器使用压力。")])]),t._v(" "),a("li",[a("p",[t._v("迁移方便:可以很轻易的将在一个平台上运行的应用,迁移到另一个平台上,而不用担心运行环境的变化导致应用无法正常运行的情况。")])]),t._v(" "),a("li",[a("p",[t._v("持续交付和部署:使用Docker可以通过定制应用镜像来实现持续集成、持续交付、部署。")]),t._v(" "),a("blockquote",[a("p",[t._v("而正是以容器镜像统一应用发布格式这件事为起点")])]),t._v(" "),a("blockquote",[a("p",[t._v("开发、测试、生产的应用运行环境被统一,从而方便了应用编译、发布的, CI CD、 DevOps乃至于微服务的技术因此得到发展。这甚至比讨论容器和虚拟机的性能差异更为重要,可以说是容器带给IT行业最大的改变。")])])])]),t._v(" "),a("h3",{attrs:{id:"容器的劣势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器的劣势"}},[t._v("#")]),t._v(" 容器的劣势")]),t._v(" "),a("ul",[a("li",[t._v("进程级的隔离:虽然容器本身使用了namespce,cgroup的方法做隔离和限制。但是在某些对Linux该特性支持不佳的应用上就会出问题。")]),t._v(" "),a("li",[t._v("容器网络:大部分容器网络基于虚拟网络、Snat、隧道技术实现。而这部分会导致不如传统的L2网络。")]),t._v(" "),a("li",[t._v("数据存储:基于挂载点实现的容器存储,如果需要用好容器,势必需要一个完善的共享存储系统。")])]),t._v(" "),a("h2",{attrs:{id:"docker的架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker的架构"}},[t._v("#")]),t._v(" Docker的架构")]),t._v(" "),a("h3",{attrs:{id:"docker是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker是什么"}},[t._v("#")]),t._v(" Docker是什么")]),t._v(" "),a("ul",[a("li",[t._v("Docker是一种Linux容器管理引擎")]),t._v(" "),a("li",[t._v("Docker是目前最火热的开源项目之一\n"),a("ul",[a("li",[t._v("Docker公司主导开发")]),t._v(" "),a("li",[t._v("遵循Apache License 2.0许可证协议")]),t._v(" "),a("li",[t._v("托管于GitHub")]),t._v(" "),a("li",[t._v("Go语言编写")]),t._v(" "),a("li",[t._v("适用于Linux. Windows, macOs")])])]),t._v(" "),a("li",[t._v("Docker是一种实现打包、输送、运行任意应用的容器解决方案")])]),t._v(" "),a("h3",{attrs:{id:"架构图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#架构图"}},[t._v("#")]),t._v(" 架构图")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2020-09-22-14-30-02.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("镜像是静态,容器是运行时的状态")])]),t._v(" "),a("h3",{attrs:{id:"docker-daemon"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-daemon"}},[t._v("#")]),t._v(" Docker Daemon")]),t._v(" "),a("p",[t._v("Docker Daemon是一个长期运行的程序,被用来监听Docker APl的请求")]),t._v(" "),a("ul",[a("li",[t._v("管理Docker对象\n"),a("ul",[a("li",[t._v("镜像")]),t._v(" "),a("li",[t._v("容器")]),t._v(" "),a("li",[t._v("网络")]),t._v(" "),a("li",[t._v("存储卷")])])])]),t._v(" "),a("h3",{attrs:{id:"docker-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-client"}},[t._v("#")]),t._v(" Docker Client")]),t._v(" "),a("ul",[a("li",[t._v("Docker Client是用户与Docker交互的接口")]),t._v(" "),a("li",[t._v("将用户的命令发送给Docker Daemon")]),t._v(" "),a("li",[t._v("使用Docker API作为通信方式")])]),t._v(" "),a("h3",{attrs:{id:"docker-registry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-registry"}},[t._v("#")]),t._v(" Docker Registry")]),t._v(" "),a("ul",[a("li",[t._v("Docker Registry被用来存储Docker镜像")]),t._v(" "),a("li",[t._v("分为公有和私有两种\n"),a("ul",[a("li",[t._v("Docker Hub.")]),t._v(" "),a("li",[t._v("Docker Trusted Registry·")])])]),t._v(" "),a("li",[t._v("当使用"),a("code",[t._v("docker pul")]),t._v("和"),a("code",[t._v("docker run")]),t._v("命令时,如果需要的镜像不存在,该镜像将会被从指定的Docker Registry上下载下来·")]),t._v(" "),a("li",[t._v("当使用"),a("code",[t._v("docker push")]),t._v("命令时,该镜像将会被上传至指定的Docker Registr")]),t._v(" "),a("li",[t._v("默认的Docker Registry为Docker Hub")])]),t._v(" "),a("blockquote",[a("p",[t._v("不指定域名IP,默认拉取外网")])]),t._v(" "),a("p",[t._v("Harbor 镜像仓库")]),t._v(" "),a("p",[a("code",[t._v("10.160.3.152/harbor/projects/1/repositories")])]),t._v(" "),a("h6",{attrs:{id:"_9-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-6"}},[t._v("#")]),t._v(" #9.6")]),t._v(" "),a("h3",{attrs:{id:"docker-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[t._v("#")]),t._v(" Docker images")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Docker镜像是用来创建Docker容器的模版")])]),t._v(" "),a("li",[a("p",[t._v("通常基于另一个镜像构建而成")]),t._v(" "),a("p",[t._v("(猜一猜最开始的镜像是怎么来的)")])]),t._v(" "),a("li",[a("p",[t._v("只读性")])]),t._v(" "),a("li",[a("p",[t._v("使用Dockerfile来定义镜像构建时的步骤")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# python基础镜像")]),t._v("\nFROM python"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alpine\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境变量")]),t._v("\nENV PATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$PATH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 工作目录")]),t._v("\nWORKDIR "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#copy本地文件到/go/src/app")]),t._v("\nCOPY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#暴露80端口")]),t._v("\nEXPOSE "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# run app")]),t._v("\nCMD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/src/app/supervisord.sh"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"docker-containers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-containers"}},[t._v("#")]),t._v(" Docker CONTAINERS")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Docker容器是Docker镜像的可运行实例·")])]),t._v(" "),a("li",[a("p",[t._v("使用Docker Client或Docker AP可以对Docker容器进行创建、运行、停止、删除等操作.")])]),t._v(" "),a("li",[a("p",[t._v("Docker容器可以被连接上一个或多个网络.")])]),t._v(" "),a("li",[a("p",[t._v("Docker容器可以被分配存储.")])]),t._v(" "),a("li",[a("p",[t._v("Docker容器的当前状态可以被用来创建新的镜像·")])]),t._v(" "),a("li",[a("p",[t._v("默认情况下,容器与容器之间、容器与宿主机之间是相对隔离的·")]),t._v(" "),a("blockquote",[a("p",[t._v("(Namespace做隔离,CGroup做限制 )")])])]),t._v(" "),a("li",[a("p",[t._v("可以通过配置参数的方法来配置Docker容器的运行")])]),t._v(" "),a("li",[a("p",[t._v("当运行命令"),a("code",[t._v("docker run-i-t ubuntu /bin/bash")]),t._v("时,系统中会发生以下事件")]),t._v(" "),a("ul",[a("li",[t._v("如果本地没有需要的镜像, Docker会从Docker Hub上下载镜像")]),t._v(" "),a("li",[t._v("Docker创建一个新的容器")]),t._v(" "),a("li",[t._v("Docker会给这个容器分配一个可读写层,所有对于已运行的容器的文件操作都会在这个可读写层上进行")]),t._v(" "),a("li",[t._v("Docker为容器创建网卡并将该容器连接到默认网络上,这一步包括为容器分配IP地址")]),t._v(" "),a("li",[t._v('Docker启动新创建出的容器并且运行"/bin/bash",该容器是以可交互的方式运行并且被附加到当前Terminal上')]),t._v(" "),a("li",[t._v('当输入"exit"命令时, "/bin/bash"命令被终止,该容器被停止但并未被移除')])])])]),t._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结:")]),t._v(" "),a("p",[t._v("容器:一个容器,实际上是一个由Linux Namespace, Linux Cgroups和rootfs三种技术构建出来的进程的隔离环境。**类似java项目里,在lomcat中最后运行起来的war文件夹,可以对应到机器中的某个进程。**当然不谈底层原理,从实际使用角度来看容器,容器更类似Vmware和Openstack创建出的虚拟机。容器作为运行时状态,我们可以通过docker命令和API去控制和改变容器的状态,比如start, stop等等,甚至可以用Python, Go等语言很方便的进行调用。")]),t._v(" "),a("p",[t._v("镜像:容器镜像就是一个Linux的文件系统(Root FileSystem) ,这个文件系统里面包含可以运行在Linux内核的程序以及相应的数据。"),a("strong",[t._v("类似Java项目里, Maven打包出来的jar包、war包,可以对应到机器中的某个文件。")])]),t._v(" "),a("p",[t._v("​\t\t从实际使用角度上来说,容器镜像更类似Vmware和Openstack都有镜像模版的概念,我们要衍生创建虚1拟机,就可以通过镜像模版来快速部署和生成相同类型的VM. Docker的image也是一个道理,通过不同类型的模版,比如redis镜像、nginx镜像来快速创建出容器。好比复制克隆,只要资源够,想生成多少就多少。并且生成出新的容器你可以使用,这时候你又可以打包成镜像。有了镜像这个功能,为生产提供了很好的打包、迭代、传递方式。")]),t._v(" "),a("p",[t._v("镜像仓库:**容器镜像仓库就是一个标准化管理容器镜像的仓库。**类似与lava项目中的Maven仓库。这各种镜像仓库中Docker Registry是Docker官方提供的开源私有镜像仓库,提供REST风格的API接口提供给用户去使用,鼓励做一些自动化或者二次开发的操作。后面的Habor等镜像仓库就是基于DockerRegistry的API开发的。VMware Harbor项目是由VMware中国研发团队开发的开源容器镜像仓库系统,基于Docker Registry并对其进行了许多增强,主要特性包括:基于角色的访问控制、镜像复制、Web Ul管理界面等。当然常用的Maven管理仓库Nexus,在V3版本上也支持了Dcoker镜像仓库。推荐使用的是Harbor镜像仓库。")]),t._v(" "),a("h3",{attrs:{id:"容器化中间件集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器化中间件集群"}},[t._v("#")]),t._v(" 容器化中间件集群")]),t._v(" "),a("p",[t._v("Kubernetes Cluster")]),t._v(" "),a("h2",{attrs:{id:"docker安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装"}},[t._v("#")]),t._v(" Docker安装")]),t._v(" "),a("p",[t._v("官网(centos):")]),t._v(" "),a("p",[t._v("https://docs.docker.com/engine/install/centos/")]),t._v(" "),a("p",[t._v("行内使用yum安装:")]),t._v(" "),a("ol",[a("li",[t._v("修改yum源:")])]),t._v(" "),a("p",[a("code",[t._v("wget-P /etc/yum.repos.d/ http://10.126.6.217/repo/last/docker-ce-el7/docker-ceel7.repo")])]),t._v(" "),a("p",[a("code",[t._v("yum clean all && yum makecache")])]),t._v(" "),a("p",[a("code",[t._v("yum install-y docker-ce")])]),t._v(" "),a("h6",{attrs:{id:"_6-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-9"}},[t._v("#")]),t._v(" # 6.9")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[t._v("docker version #查看docker版本,验证安装是否成功")])]),t._v(" "),a("li",[a("code",[t._v("systemctl status docker #查看docker服务端是否启动")])]),t._v(" "),a("li",[a("code",[t._v("systemctl start docker && systemctl enable docker #启动docker并加入开机启动")])])]),t._v(" "),a("h2",{attrs:{id:"docker常用运行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker常用运行命令"}},[t._v("#")]),t._v(" Docker常用运行命令")]),t._v(" "),a("h3",{attrs:{id:"帮助命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帮助命令"}},[t._v("#")]),t._v(" 帮助命令")]),t._v(" "),a("p",[a("code",[t._v("docker 命令 --help")]),t._v("  查看docker命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker info "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示docker的系统信息")]),t._v("\ndocker version "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示docker的版本")]),t._v("\n")])])]),a("h3",{attrs:{id:"镜像命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[t._v("#")]),t._v(" 镜像命令")]),t._v(" "),a("blockquote",[a("p",[t._v("Docker image CONNMAD")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#docker images")]),t._v("\nREPOSITORY               TAG                 IMAGE ID            CREATED             SIZE\ndocker/getting-started   latest              1f32459ef038        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" months ago        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(".8MB\nhello-world              latest              bf756fb1ae65        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" months ago        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(".3kB\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#解释")]),t._v("\nREPOSITORY\t镜像的仓库源\nTAG\t\t\t镜像的标签\nIMAGE ID \t镜像的id\nCREATED\t\t创建的创建时间\nSIZE\t\t大小\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#可选项")]),t._v("\n -a, --all             Show all images "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default hides intermediate images"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --digests         Show digests\n  -f, --filter filter   Filter output based on conditions provided\n      --format string   Pretty-print images using a Go template\n      --no-trunc        Don't truncate output\n  -q, --quiet           Only show numeric IDs\n")])])]),a("h4",{attrs:{id:"搜索镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索镜像"}},[t._v("#")]),t._v(" 搜索镜像")]),t._v(" "),a("p",[a("code",[t._v("docker search")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("NAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nmysql                             MySQL is a widely used, open-source relation…   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10100")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nmariadb                           MariaDB is a community-developed fork of MyS…   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3705")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nmysql/mysql-server                Optimized MySQL Server Docker images. Create…   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("738")]),t._v("                                     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#可选项")]),t._v("\nOptions:\n  -f, --filter filter   Filter output based on conditions provided\n      --format string   Pretty-print search using a Go template\n      --limit int       Max number of search results "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --no-trunc        Don't truncate output\n      \n      --filter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("STARS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#搜索收藏数大于3000的")]),t._v("\n      \n")])])]),a("h4",{attrs:{id:"下载镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[t._v("#")]),t._v(" 下载镜像")]),t._v(" "),a("p",[a("code",[t._v("docker pull 镜像名[:tag]")])]),t._v(" "),a("blockquote",[a("p",[t._v("默认拉取最新版")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Options:\n  -a, --all-tags                Download all tagged images "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the repository\n      --disable-content-trust   Skip image verification "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --platform string         Set platform "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" server is multi-platform capable\n  -q, --quiet                   Suppress verbose output\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("root@Surface:/home/shane"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull mysql")]),t._v("\nUsing default tag: latest\nlatest: Pulling from library/mysql\nbb79b6b2107f: Pull complete\n49e22f6fb9f7: Pull complete\n842b1255668c: Pull complete\n9f48d1f43000: Pull complete\nc693f0615bce: Pull complete\n8a621b9dbed2: Pull complete\n0807d32aef13: Pull complete\na56aca0feb17: Pull complete\nde9d45fd0f07: Pull complete\n1d68a49161cc: Pull complete\nd16d318b774e: Pull complete\n49e112c55976: Pull complete\nDigest: sha256:8c17271df53ee3b843d6e16d46cff13f22c9c04d6982eb15a9a47bd5c9ac7e2d\nStatus: Downloaded newer image "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" mysql:latest\ndocker.io/library/mysql:latest\n")])])]),a("h4",{attrs:{id:"删除镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[t._v("#")]),t._v(" 删除镜像")]),t._v(" "),a("p",[a("code",[t._v("docker rmi -f id")])]),t._v(" "),a("p",[t._v("删除对应id镜像(多个使用空格分隔)")]),t._v(" "),a("p",[a("code",[t._v("docker rmi -f $(docker images -aq)")])]),t._v(" "),a("p",[t._v("删除全部的容器")]),t._v(" "),a("h4",{attrs:{id:"查看镜像的元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像的元数据"}},[t._v("#")]),t._v(" 查看镜像的元数据")]),t._v(" "),a("p",[a("code",[t._v("docker inspect")]),t._v("查看镜像全部信息")]),t._v(" "),a("p",[a("code",[t._v("docker inspect centos")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sha256:0d120b6ccaa8c5e149176798b3501d4dd1885f961922497cd0abef155c869566"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"RepoTags"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centos:latest"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"RepoDigests"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centos@sha256:76d24f3ba3317fa945743bb3746fbaf3a0b752f10b10376960de01da70685fbd"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Parent"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Comment"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Created"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-08-10T18:19:49.837885498Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Container"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3b04ecd9fb2d3f921f12d858edf5f3a6aa7c36c8e1e6f74bd32555fd4d7f7da2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ContainerConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Hostname"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3b04ecd9fb2d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Domainname"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"User"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStdin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStdout"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStderr"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Tty"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"OpenStdin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"StdinOnce"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/sh"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#(nop) "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CMD [\\"/bin/bash\\"]"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ArgsEscaped"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Image"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sha256:69587a438b2c9b803db8ed4f6e6b5abce25a6b8ec2583a394807cf82bfd23693"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Volumes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"WorkingDir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Entrypoint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"OnBuild"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Labels"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.build-date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20200809"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GPLv2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS Base Image"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.schema-version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.vendor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"DockerVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18.09.7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Hostname"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Domainname"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"User"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStdin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStdout"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AttachStderr"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Tty"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"OpenStdin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"StdinOnce"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ArgsEscaped"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Image"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sha256:69587a438b2c9b803db8ed4f6e6b5abce25a6b8ec2583a394807cf82bfd23693"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Volumes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"WorkingDir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Entrypoint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"OnBuild"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Labels"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.build-date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20200809"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GPLv2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS Base Image"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.schema-version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org.label-schema.vendor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CentOS"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amd64"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Os"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"linux"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("215102299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"VirtualSize"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("215102299")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"GraphDriver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"MergedDir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/lib/docker/overlay2/3b172334602338425b3b12a39ab86ed55ab8b118b9ad9f5efa3e576a3a052703/merged"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"UpperDir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/lib/docker/overlay2/3b172334602338425b3b12a39ab86ed55ab8b118b9ad9f5efa3e576a3a052703/diff"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"WorkDir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/lib/docker/overlay2/3b172334602338425b3b12a39ab86ed55ab8b118b9ad9f5efa3e576a3a052703/work"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"overlay2"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"RootFS"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"layers"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Layers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sha256:291f6e44771a7b4399b0c6fb40ab4fe0331ddf76eda11080f052b003d96c7726"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Metadata"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"LastTagTime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0001-01-01T00:00:00Z"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h4",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ls")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("列出镜像")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("build")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("构建一个镜像(Dockerfile)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("history")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("显示镜像历史")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("insepect")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("显示镜像详情")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("pull")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("拉起一个镜像")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("push")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("推送一个镜像至镜像仓库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("rm")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("删除一个镜像")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("prune")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("移去未使用镜像")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("save")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("保存了一个镜像或多个镜像至一个tar归档")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("load")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("从标准输入载入一个归档")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("tag")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("给一个镜像打一个tag")])])])]),t._v(" "),a("h3",{attrs:{id:"容器命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[t._v("#")]),t._v(" 容器命令")]),t._v(" "),a("blockquote",[a("p",[t._v("说明:我们有了镜像才可以创建容器,以centos为例")])]),t._v(" "),a("h4",{attrs:{id:"新建容器并启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建容器并启动"}},[t._v("#")]),t._v(" 新建容器并启动")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" image\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#参数说明")]),t._v("\n--name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),t._v(" 容器名字\n-d    \t\t后台方式运行\n-it\t\t\t以交互方式运行,进入容器查看内容\n-p \t端口号\t\t指定容器的端口 \n-p 主机端口:容器端口 主机映射端口\n-p ip:主机端口:容器端口\n-p\t随机指定端口\n")])])]),a("p",[t._v("测试,启动并进入容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("root@Surface:/home/shane"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -it centos /bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@966f11ab42c9 /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ls #查看容器内部的centos,基础版本,很多命令不完善")]),t._v("\nbin  etc   lib    lost+found  mnt  proc  run   srv  tmp  var\ndev  home  lib64  media       opt  root  sbin  sys  usr\n")])])]),a("p",[a("code",[t._v("exit")]),t._v("-从容器退回主机")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@966f11ab42c9 /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# exit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n")])])]),a("h4",{attrs:{id:"查看运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看运行的容器"}},[t._v("#")]),t._v(" 查看运行的容器")]),t._v(" "),a("p",[a("code",[t._v("docker ps")]),t._v("查看运行的容器")]),t._v(" "),a("p",[a("code",[t._v("docker ps -a")]),t._v("查看所有运行的容器(包含历史)")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("root@Surface:/home/shane"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker ps -a")]),t._v("\nCONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS                          PORTS                NAMES\n966f11ab42c9        centos                   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v("              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" minutes ago       Exited "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" About a minute ago                        festive_williamson\nfbf9b4271ea1        centos                   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v("              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" minutes ago       Exited "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" minutes ago                           hopeful_edison\n14df202a332b        hello-world              "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/hello"')]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" days ago          Exited "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" days ago                                gracious_kare\n6011f47bd41b        docker/getting-started   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/docker-entrypoint.…"')]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" days ago          Exited "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" hours ago        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:80-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("/tcp   practical_vaughan\n\n")])])]),a("p",[a("code",[t._v("docker ps -n=?")]),t._v("显示最近创建的n个容器")]),t._v(" "),a("p",[a("code",[t._v("docker ps -q")]),t._v(" 只显示容器编号")]),t._v(" "),a("h4",{attrs:{id:"退出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[t._v("#")]),t._v(" 退出容器")]),t._v(" "),a("p",[t._v("exit 直接容器停止并退出")]),t._v(" "),a("p",[t._v("ctrl + P + Q 容器不停止退出")]),t._v(" "),a("h4",{attrs:{id:"删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[t._v("#")]),t._v(" 删除容器")]),t._v(" "),a("p",[a("code",[t._v("docker rm 容器 id")]),t._v(" 删除指定容器")]),t._v(" "),a("p",[a("code",[t._v("docker rm -f $(docker ps -aq)")]),t._v("轻质删除所有容器")]),t._v(" "),a("p",[a("code",[t._v("docker ps -a -q|xargs docker rm")]),t._v("删除所有容器")]),t._v(" "),a("h4",{attrs:{id:"启动和停止容器的操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器的操作"}},[t._v("#")]),t._v(" 启动和停止容器的操作")]),t._v(" "),a("p",[a("code",[t._v("docker start 容器id")]),t._v("启动容器")]),t._v(" "),a("p",[a("code",[t._v("docker restart 容器id")]),t._v("重启容器")]),t._v(" "),a("p",[a("code",[t._v("docker stop 容器id")]),t._v("停止当前正在运行的容器")]),t._v(" "),a("p",[a("code",[t._v("docker kill 容器id")]),t._v("强制停止当前容器")]),t._v(" "),a("h4",{attrs:{id:"后台启动容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台启动容器"}},[t._v("#")]),t._v(" 后台启动容器")]),t._v(" "),a("p",[a("code",[t._v("docker run -d 镜像名")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker run -d centos 发现停止了")]),t._v(" "),a("p",[a("strong",[t._v("原因:")]),t._v(" docker容器后台启动,必须有一个前台进程")])]),t._v(" "),a("h4",{attrs:{id:"查看日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[t._v("#")]),t._v(" 查看日志")]),t._v(" "),a("p",[a("code",[t._v("docker logs -ft --tail n 容器id")]),t._v("查看n条日志")]),t._v(" "),a("h4",{attrs:{id:"查看进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看进程"}},[t._v("#")]),t._v(" 查看进程")]),t._v(" "),a("p",[a("code",[t._v("docker top 容器id")]),t._v(" 查看指定id的进程")]),t._v(" "),a("h4",{attrs:{id:"进入容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入容器"}},[t._v("#")]),t._v(" 进入容器")]),t._v(" "),a("p",[a("code",[t._v("docker exec -it 容器id bashShell")])]),t._v(" "),a("p",[t._v("进入容器后开启一个新的终端(可以操作)")]),t._v(" "),a("p",[a("code",[t._v("docker attach 容器id")])]),t._v(" "),a("p",[t._v("进入正在执行的终端,不会启动新的进程")]),t._v(" "),a("h4",{attrs:{id:"拷贝文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拷贝文件"}},[t._v("#")]),t._v(" 拷贝文件")]),t._v(" "),a("p",[a("code",[t._v("docker cp 容器id:容器内路径 目的主机路径")])]),t._v(" "),a("blockquote",[a("p",[t._v("拷贝为手动实现,之后使用-v 卷的技术,可以实现同步")])]),t._v(" "),a("h3",{attrs:{id:"小结-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-2"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("attach    Attach to a running container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当前shell下attach连接指定运行镜像")]),t._v("\nbuild     Build an image from a Dockerfile  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#通过Dockerfile定制镜像")]),t._v("\ncommit    Create a new image from a container"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s changes  #提交当前容器为新的镜像\ncp    Copy files/folders from a container to a HOSTDIR or to STDOUT  #从容器中拷贝指定文件或者目录到宿主机中\ncreate    Create a new container  #创建一个新的容器，同run 但不启动容器\ndiff    Inspect changes on a container'")]),t._v("s filesystem  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看docker容器变化")]),t._v("\nevents    Get real "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" events from the server"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从docker服务获取容器实时事件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v("    Run a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a running container"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在已存在的容器上运行命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v("    Export a container's filesystem as a "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" archive  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#导出容器的内容流作为一个tar归档文件(对应import)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),t._v("    Show the "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),t._v(" of an image  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#展示一个镜像形成历史")]),t._v("\nimages    List images  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出系统当前镜像")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v("    Import the contents from a tarball to create a filesystem image  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从tar包中的内容创建一个新的文件系统映像(对应export)")]),t._v("\ninfo    Display system-wide information  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示系统相关信息")]),t._v("\ninspect    Return low-level information on a container or image  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看容器详细信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v("    Kill a running container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#kill指定docker容器")]),t._v("\nload    Load an image from a "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" archive or STDIN  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从一个tar包中加载一个镜像(对应save)")]),t._v("\nlogin    Register or log "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" to a Docker registry"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#注册或者登陆一个docker源服务器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("logout")]),t._v("    Log out from a Docker registry  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从当前Docker registry退出")]),t._v("\nlogs    Fetch the logs of a container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#输出当前容器日志信息")]),t._v("\npause    Pause all processes within a container"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#暂停容器")]),t._v("\nport    List port mappings or a specific mapping "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the CONTAINER  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看映射端口对应的容器内部源端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v("    List containers  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出容器列表")]),t._v("\npull    Pull an image or a repository from a registry  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从docker镜像源服务器拉取指定镜像或者库镜像")]),t._v("\npush    Push an image or a repository to a registry  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#推送指定镜像或者库镜像至docker源服务器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),t._v("    Rename a container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重命名容器")]),t._v("\nrestart    Restart a running container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重启运行的容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v("    Remove one or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" containers  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#移除一个或者多个容器")]),t._v("\nrmi    Remove one or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" images  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#移除一个或多个镜像(无容器使用该镜像才可以删除，否则需要删除相关容器才可以继续或者-f强制删除)")]),t._v("\nrun    Run a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a new container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建一个新的容器并运行一个命令")]),t._v("\nsave    Save an image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" to a "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" archive"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#保存一个镜像为一个tar包(对应load)")]),t._v("\nsearch    Search the Docker Hub "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" images  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在docker")]),t._v("\nhub中搜索镜像\nstart    Start one or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" stopped containers"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动容器")]),t._v("\nstats    Display a live stream of container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" resource usage statistics  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#统计容器使用资源")]),t._v("\nstop    Stop a running container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#停止容器")]),t._v("\ntag         Tag an image into a repository  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给源中镜像打标签")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("       Display the running processes of a container "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看容器中运行的进程信息")]),t._v("\nunpause    Unpause all processes within a container  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#取消暂停容器")]),t._v("\nversion    Show the Docker version information"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看容器版本号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),t._v("         Block "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" a container stops, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" print its "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" code  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#截取容器停止时的退出状态值")]),t._v("\n")])])]),a("h2",{attrs:{id:"学习资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习资料"}},[t._v("#")]),t._v(" 学习资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://edu.aliyun.com/roadmap/cloudnative",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云云原生技术公开课"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.aliyun.com/learning/roadmap/java?spm5176.13257455.1389354.1.4d347facxfoasc",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里巴巴lava学习公开课"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.aliyun.com/topic/ebook?spm-a2c6h.14946804J2600602170.1.d5co5od5E5Bqch",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里系电子书"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("强烈推荐: 《深入浅出Kubernetes》 、《阿里巴巴经济体云原生实践》 、《阿里巴巴云原生实践15讲》")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.infog.cn/topic/cloud-computing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Info0迷你书"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("强烈推荐: 《架构师特刊: Kubernetes Paas冲击波》 、《架构师(2020年4月) 》")])]),t._v(" "),a("h2",{attrs:{id:"镜像的分层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像的分层"}},[t._v("#")]),t._v(" 镜像的分层")]),t._v(" "),a("p",[t._v("共享资源")]),t._v(" "),a("h2",{attrs:{id:"copyonwrite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copyonwrite"}},[t._v("#")]),t._v(" CopyonWrite")]),t._v(" "),a("p",[t._v("容器保存变化的部分,不会对本身进行修改")]),t._v(" "),a("h2",{attrs:{id:"构建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建镜像"}},[t._v("#")]),t._v(" 构建镜像")]),t._v(" "),a("ol",[a("li",[t._v("启动一个容器")]),t._v(" "),a("li",[t._v("修改容器")]),t._v(" "),a("li",[t._v("开启另一个终端")]),t._v(" "),a("li",[t._v("查看本地镜像")])]),t._v(" "),a("h2",{attrs:{id:"特别提醒"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特别提醒"}},[t._v("#")]),t._v(" "),a("strong",[t._v("特别提醒")])]),t._v(" "),a("p",[a("strong",[t._v("文章已做脱敏处理,部分代码可能无法正常运行")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("整理不易，转载请注明出处。")])])}),[],!1,null,null,null);s.default=r.exports}}]);