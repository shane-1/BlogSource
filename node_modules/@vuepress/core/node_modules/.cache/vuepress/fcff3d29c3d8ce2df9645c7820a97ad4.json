{"remainingRequest":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\vuepress-plugin-mygitalk\\libs\\Gitalk.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\vuepress-plugin-mygitalk\\libs\\Gitalk.vue","mtime":499162500000},{"path":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\qq121\\Desktop\\doc\\Git\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KDQppbXBvcnQgR2l0YWxrIGZyb20gImdpdGFsayI7DQppbXBvcnQgImdpdGFsay9kaXN0L2dpdGFsay5jc3MiOw0KaW1wb3J0ICIuLi9zdHlsZXMvZ2l0YWxrLXBsdXMuc3R5bCI7DQoNCi8vIG1peGluLmpzDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXB1dGVkOiB7DQogICAgcGx1Z2luQ29uZmlnKCkgew0KICAgICAgcmV0dXJuIEpTT04ucGFyc2UgPyBKU09OLnBhcnNlKHBsdWdpbkNvbmZpZykgOiBwbHVnaW5Db25maWc7DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgLy8g5riy5p+T55qERE9N5YWD57SgaWQo5L2/55SoKQ0KICAgICAgICBlbGVtZW50TmFtZTogdGhpcy5wbHVnaW5Db25maWcuZWxlbWVudE5hbWUsDQogICAgICAgIC8vIOacgOWkp+mHjeivleasoeaVsA0KICAgICAgICBtYXhSZXRyeUNvdW50OiB0aGlzLnBsdWdpbkNvbmZpZy5tYXhSZXRyeUNvdW50LA0KICAgICAgICAvLyA1MDDmr6vnp5LmiafooYzkuIDmrKFjaGVjaw0KICAgICAgICBkZWZhdWx0Q2hlY2tNaW51dGVzOiB0aGlzLnBsdWdpbkNvbmZpZy5kZWZhdWx0Q2hlY2tNaW51dGVzDQogICAgICB9Ow0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHt9LA0KICBjcmVhdGVkKCkge30sDQogIG1vdW50ZWQoKSB7DQogICAgaWYgKCF0aGlzLnBsdWdpbkNvbmZpZy5lbmFibGUpIHsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgLy8g5omT5Y2w5o+S5Lu25L+h5oGvDQogICAgdGhpcy5wbHVnaW5fbG9nKA0KICAgICAgdGhpcy4kbXlHaXRhbGtBcHBEZXNjcmlwdGlvbiArDQogICAgICAgICIg4p6h77iPICIgKw0KICAgICAgICB0aGlzLiRteUdpdGFsa0FwcE5hbWUgKw0KICAgICAgICAiIOKeoe+4jyAiICsNCiAgICAgICAgdGhpcy4kbXlHaXRhbGtBcHBVcmwNCiAgICApOw0KICAgIC8vY29uc29sZS5sb2coIjEiICsgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnRoZW1lLWNvbnRhaW5lciIpKTsNCiAgICAvKiog5Yid5aeL5YyWR2l0YWxrICovDQogICAgLyogdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7DQogICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucGFnZSIpKTsNCiAgICAgIHRoaXMuaW5pdEdpdGFsayh0aGlzLiRyb3V0ZSk7DQogICAgfSk7ICovDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgLy8gLnBhZ2Ug6YeM55qERG9t5YWD57Sg5Lya6YeN5paw5Yqg6L29Muasoe+8jOaaguaXtuayoeaJvuWIsOino+WGs+WKnuazle+8jOWPquiDveW7tue8k0dpdGFsa+aJp+ihjA0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuaW5pdEdpdGFsayh0aGlzLiRyb3V0ZSk7DQogICAgICB9LCAyMDAwKTsNCiAgICAgIC8vY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnBhZ2UiKSk7DQogICAgfSk7DQogICAgLyogdGhpcy4kcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLG5leHQpID0+IHsNCiAgICAgIGNvbnNvbGUubG9nKCIzIiArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50aGVtZS1jb250YWluZXIiKSk7DQogICAgICBuZXh0KCk7DQogICAgfSk7ICovDQogICAgLy8g55uR5ZCsLOW9k+i3r+eUseWPkeeUn+WPmOWMlueahOaXtuWAmeaJp+ihjA0KICAgIHRoaXMuJHJvdXRlci5hZnRlckVhY2goKHRvLCBmcm9tKSA9PiB7DQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsNCiAgICAgICAgLy/pobXpnaJEb23liqDovb3lrozmiJDlkI7miafooYwNCiAgICAgICAgaWYgKHRvLnBhdGggIT0gZnJvbS5wYXRoKSB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2codG8ucGF0aCkNCiAgICAgICAgICB0aGlzLmluaXRHaXRhbGsodG8pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9KTsNCiAgfSwNCiAgLy8g55uR5ZCsLOW9k+i3r+eUseWPkeeUn+WPmOWMlueahOaXtuWAmeaJp+ihjA0KICB3YXRjaDogew0KICAgIC8qICRyb3V0ZTogew0KICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHRvLCBmcm9tKSB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsgLy/pobXpnaLliqDovb3lrozmiJDlkI7miafooYwNCiAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbi5ocmVmKTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpKTsNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvLyDmt7Hluqbop4Llr5/nm5HlkKwNCiAgICAgIGRlZXA6IHRydWUNCiAgICB9ICovDQogIH0sDQogIHVwZGF0ZWQoKSB7fSwNCiAgbWV0aG9kczogew0KICAgIC8qIG1vdW50ZWQ6aHRtbOWKoOi9veWujOaIkOWQjuaJp+ihjOOAguaJp+ihjOmhuuW6j++8muWtkOe7hOS7ti3niLbnu4Tku7YgKi8NCiAgICAvKiog5Yid5aeL5YyWR2l0YWxr77yM5Zug5Li657uE5Lu25Yqg6L296aG65bqP6Zeu6aKY77yM56ys5LiA5qyh6I635Y+W5LiN5YiwLnBhZ2UgRE9N5YWD57SgLg0KICAgICAg5pqC5pe255Soc2V0SW50ZXJ2YWzlh73mlbDop6PlhrMuICovDQogICAgLyoqDQogICAgICog5bu25pe26Kem5Y+R5Yid5aeL5YyWR2l0YWxrDQogICAgICovDQogICAgaW5pdEdpdGFsayhyb3V0ZSkgew0KICAgICAgbGV0IHBhZ2VFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnBhZ2UiKTsNCiAgICAgIC8vIGxldCBwYWdlRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYWdlIik7DQogICAgICAvLyBsZXQgcGFnZUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaWQiKTsNCiAgICAgIGNvbnNvbGUuZGVidWcodGhpcy4kbXlHaXRhbGtBcHBOYW1lICsgIj4+Pj5pbml0R2l0YWxrIik7DQogICAgICBpZiAoIXBhZ2VFbGVtKSB7DQogICAgICAgIGxldCByZXRyeUNvdW50ID0gMDsNCiAgICAgICAgLy8gNTAw5q+r56eS5omn6KGM5LiA5qyhY2hlY2soKCkgPT4g6Kej5Yazc2V0VGltZW91dOOAgXNldEludGVydmFs5YaFdGhpc+iwg+eUqOWkseaViOeahOino+WGs+WKnuazlSkNCiAgICAgICAgLy8gaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2FpeWF3ZWkxMjMvYXJ0aWNsZS9kZXRhaWxzLzgxODY3MzA0DQogICAgICAgIGNvbnN0IHRpbWVyQ2hlY2tFbGVtID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgIC8vIOi2hei/h+acgOWkp+mHjeivleasoeaVsO+8jOebtOaOpemAgOWHug0KICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IHRoaXMuZGF0YS5tYXhSZXRyeUNvdW50KSB7DQogICAgICAgICAgICAvLyDmuIXpmaTlrprml7blmagNCiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJDaGVja0VsZW0pOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyDpgJLlop7ph43or5XmrKHmlbANCiAgICAgICAgICByZXRyeUNvdW50Kys7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy5wbHVnaW5Db25maWcuaG9tZSAmJg0KICAgICAgICAgICAgdGhpcy4kcGFnZS5mcm9udG1hdHRlciAmJg0KICAgICAgICAgICAgdGhpcy4kcGFnZS5mcm9udG1hdHRlci5ob21lDQogICAgICAgICAgKSB7DQogICAgICAgICAgICAvLyDpppbpobXmt7vliqDor4TorroNCiAgICAgICAgICAgIGxldCBhcHBFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnRoZW1lLWNvbnRhaW5lciIpOw0KICAgICAgICAgICAgaWYgKGFwcEVsZW0pIHsNCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckNoZWNrRWxlbSk7DQogICAgICAgICAgICAgIHRoaXMubG9hZEdpdGFsayhyb3V0ZSwgYXBwRWxlbSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIkdpdGFsayBjaGVjayBEb20oKSIpDQogICAgICAgICAgICBwYWdlRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYWdlIik7DQogICAgICAgICAgICBpZiAocGFnZUVsZW0pIHsNCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckNoZWNrRWxlbSk7DQogICAgICAgICAgICAgIHRoaXMubG9hZEdpdGFsayhyb3V0ZSwgcGFnZUVsZW0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwgdGhpcy5kYXRhLmRlZmF1bHRDaGVja01pbnV0ZXMpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5sb2FkR2l0YWxrKHJvdXRlLCBwYWdlRWxlbSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliqDovb1HaXRhbGsNCiAgICAgKiBAcGFyYW0geyp9IHRvDQogICAgICovDQogICAgbG9hZEdpdGFsayh0bywgZWxlbSkgew0KICAgICAgbGV0IGNvbW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kYXRhLmVsZW1lbnROYW1lKTsNCiAgICAgIGlmICghY29tbWVudHNDb250YWluZXIpIHsNCiAgICAgICAgY29tbWVudHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgY29tbWVudHNDb250YWluZXIuaWQgPSB0aGlzLmRhdGEuZWxlbWVudE5hbWU7DQogICAgICAgIGNvbW1lbnRzQ29udGFpbmVyLmNsYXNzTGlzdCAmJg0KICAgICAgICAgIGNvbW1lbnRzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOa4heepukRPTeWFg+e0oA0KICAgICAgICBjb21tZW50c0NvbnRhaW5lci5pbm5lckhUTUwgPSAiIjsNCiAgICAgIH0NCiAgICAgIGNvbnN0ICRwYWdlID0gISFlbGVtID8gZWxlbSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYWdlIik7DQogICAgICAvL2NvbnN0ICRwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKTsNCiAgICAgIGlmICgkcGFnZSkgew0KICAgICAgICAvLyBGSVhNRSAoLnBhZ2Up56ys5LiA5qyh6L+b5YWl55Sx5LqO5Lya5Yi35paw5LqM5qyh77yM5omA5Lul56ys5LiA5qyh5LiN5pi+56S6DQogICAgICAgICRwYWdlLmFwcGVuZENoaWxkKGNvbW1lbnRzQ29udGFpbmVyKTsNCiAgICAgICAgaWYgKHR5cGVvZiBHaXRhbGsgIT09ICJ1bmRlZmluZWQiICYmIEdpdGFsayBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7DQogICAgICAgICAgLy8gRklYTUUgR2l0YWxr6I635Y+W5Yiw55qEdGl0bGXmmK/kuIrkuIDkuKrpobXpnaLnmoR0aXRsZe+8jOaaguaXtui/meagt+ino+WGsw0KICAgICAgICAgIGlmICh3aW5kb3cgJiYgd2luZG93LmRvY3VtZW50KSB7DQogICAgICAgICAgICAvLyDlm6DkuLrnu4Tku7bliqDovb3pobrluo/pl67popjvvIzlhYjmiafooYznmoTlrZDnu4Tku7bjgILmiafooYzpobrluo/vvJrlrZDnu4Tku7Yt54i257uE5Lu2DQogICAgICAgICAgICAvLyBAc2VlIHBhY2thZ2VzXEB2dWVwcmVzc1xjb3JlXGxpYlxjbGllbnRccm9vdC1taXhpbnNcdXBkYXRlTWV0YS5qcw0KICAgICAgICAgICAgLy8g5pyA5aW95Yir6LCD55SodGhpcy51cGRhdGVNZXRhKCkg5Y+q5piv5Li65LqG6K6pR2l0YWxr6IO96I635Y+W5Yiw5a6e5pe2YGRvY3VtZW50LnRpdGxlYOiAjOW3sg0KICAgICAgICAgICAgLy8gQHNlZSBmaWxlIGBub2RlX21vZHVsZXNcZ2l0YWxrXGRpc3RcZ2l0YWxrLmpzYCxjb2RlIGBfdGhpcy5vcHRpb25zID1gDQogICAgICAgICAgICAvL3RoaXMudXBkYXRlTWV0YSgpDQogICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB0aGlzLiR0aXRsZTsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2cod2luZG93LmRvY3VtZW50LnRpdGxlKTsNCiAgICAgICAgICAgIC8vd2luZG93LmRvY3VtZW50LnRpdGxlID0gdGhpcy4kcGFnZS50aXRsZTsNCiAgICAgICAgICAgIC8vIEBzZWUgcGFja2FnZXNcQHZ1ZXByZXNzXGNvcmVcbGliXG5vZGVcQ2xpZW50Q29tcHV0ZWRNaXhpbi5qcw0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiR0aXRsZSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIHRvLmZ1bGxQYXRoDQogICAgICAgICAgLy90aGlzLnJlbmRlckdpdGFsayh0aGlzLiRwYWdlLnRpdGxlIHx8IHRvLnBhdGgpOw0KICAgICAgICAgIHRoaXMucmVuZGVyR2l0YWxrKHRoaXMuJHRpdGxlIHx8IHRoaXMuJHBhZ2UudGl0bGUgfHwgdG8ucGF0aCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOa4suafk0dpdGFsaw0KICAgICAqIEBwYXJhbSB7Kn0gZ2l0YWxrSWQNCiAgICAgKi8NCiAgICByZW5kZXJHaXRhbGsoZ2l0YWxrSWQpIHsNCiAgICAgIC8vIGRlYnVnDQogICAgICAvL2NvbnNvbGUubG9nKGdpdGFsa0lkKQ0KICAgICAgLy8gTmFtZSBpcyB0b28gbG9uZyAobWF4aW11bSBpcyA1MCBjaGFyYWN0ZXJzKQ0KICAgICAgaWYgKHR5cGVvZiBnaXRhbGtJZCA9PT0gInN0cmluZyIpIHsNCiAgICAgICAgZ2l0YWxrSWQgPSBnaXRhbGtJZC5sZW5ndGggPiA1MCA/IGdpdGFsa0lkLnN1YnN0cigwLCA1MCkgOiBnaXRhbGtJZDsNCiAgICAgIH0NCiAgICAgIGNvbnN0IGdpdGFsayA9IG5ldyBHaXRhbGsoew0KICAgICAgICBjbGllbnRJRDogdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLmNsaWVudElELA0KICAgICAgICAvLyBjb21lIGZyb20gZ2l0aHViIGRldmVsb3BtZW50DQogICAgICAgIGNsaWVudFNlY3JldDogdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLmNsaWVudFNlY3JldCwNCiAgICAgICAgcmVwbzogdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLnJlcG8sDQogICAgICAgIC8vIEdpdEh1YiByZXBvc2l0b3J5IOaJgOacieiAhe+8jOWPr+S7peaYr+S4quS6uuaIluiAhee7hOe7h+OAgg0KICAgICAgICBvd25lcjogdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLm93bmVyLA0KICAgICAgICAvLyBHaXRIdWIgcmVwb3NpdG9yeSDnmoTmiYDmnInogIXlkozlkIjkvZzogIUgKOWvuei/meS4qiByZXBvc2l0b3J5IOacieWGmeadg+mZkOeahOeUqOaItynjgIINCiAgICAgICAgYWRtaW46ICEhdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLmFkbWluDQogICAgICAgICAgPyB0aGlzLnBsdWdpbkNvbmZpZy5naXRhbGsuYWRtaW4NCiAgICAgICAgICA6IFt0aGlzLnBsdWdpbkNvbmZpZy5naXRhbGsub3duZXJdLA0KICAgICAgICBpZDogZ2l0YWxrSWQsIC8vIEVuc3VyZSB1bmlxdWVuZXNzIGFuZCBsZW5ndGggbGVzcyB0aGFuIDUwIHwg6aG16Z2i55qE5ZSv5LiA5qCH6K+G44CC6ZW/5bqm5b+F6aG75bCP5LqONTDjgIINCiAgICAgICAgZGlzdHJhY3Rpb25GcmVlTW9kZTogZmFsc2UsIC8vIEZhY2Vib29rLWxpa2UgZGlzdHJhY3Rpb24gZnJlZSBtb2RlDQogICAgICAgIGxhbmd1YWdlOiAhIXRoaXMucGx1Z2luQ29uZmlnLmdpdGFsay5sYW5ndWFnZQ0KICAgICAgICAgID8gdGhpcy5wbHVnaW5Db25maWcuZ2l0YWxrLmxhbmd1YWdlDQogICAgICAgICAgOiAiemgtQ04iDQogICAgICB9KTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGdpdGFsaykNCiAgICAgIC8vY29uc29sZS5sb2cod2luZG93LmRvY3VtZW50LnRpdGxlKQ0KICAgICAgZ2l0YWxrLnJlbmRlcih0aGlzLmRhdGEuZWxlbWVudE5hbWUpOw0KICAgIH0sDQogICAgLy8g57uf5LiA6L6T5Ye65pel5b+XDQogICAgcGx1Z2luX2xvZyhzdHIgPSB0aGlzLnBsdWdpbkNvbmZpZy5wbHVnaW5OYW1lKSB7DQogICAgICBpZiAodGhpcy5wbHVnaW5Db25maWcubG9nKSB7DQogICAgICAgIGNvbnNvbGUubG9nICYmIGNvbnNvbGUubG9nKHN0cik7DQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Gitalk.vue"],"names":[],"mappings":";;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Gitalk.vue","sourceRoot":"node_modules/vuepress-plugin-mygitalk/libs","sourcesContent":["<template></template>\r\n\r\n<script>\r\nimport Gitalk from \"gitalk\";\r\nimport \"gitalk/dist/gitalk.css\";\r\nimport \"../styles/gitalk-plus.styl\";\r\n\r\n// mixin.js\r\nexport default {\r\n  computed: {\r\n    pluginConfig() {\r\n      return JSON.parse ? JSON.parse(pluginConfig) : pluginConfig;\r\n    },\r\n    data() {\r\n      return {\r\n        // 渲染的DOM元素id(使用)\r\n        elementName: this.pluginConfig.elementName,\r\n        // 最大重试次数\r\n        maxRetryCount: this.pluginConfig.maxRetryCount,\r\n        // 500毫秒执行一次check\r\n        defaultCheckMinutes: this.pluginConfig.defaultCheckMinutes\r\n      };\r\n    }\r\n  },\r\n  created() {},\r\n  created() {},\r\n  mounted() {\r\n    if (!this.pluginConfig.enable) {\r\n      return;\r\n    }\r\n    // 打印插件信息\r\n    this.plugin_log(\r\n      this.$myGitalkAppDescription +\r\n        \" ➡️ \" +\r\n        this.$myGitalkAppName +\r\n        \" ➡️ \" +\r\n        this.$myGitalkAppUrl\r\n    );\r\n    //console.log(\"1\" + document.querySelector(\".theme-container\"));\r\n    /** 初始化Gitalk */\r\n    /* this.$nextTick(function() {\r\n      console.log(document.querySelector(\".page\"));\r\n      this.initGitalk(this.$route);\r\n    }); */\r\n    this.$nextTick(() => {\r\n      // .page 里的Dom元素会重新加载2次，暂时没找到解决办法，只能延缓Gitalk执行\r\n      setTimeout(() => {\r\n        this.initGitalk(this.$route);\r\n      }, 2000);\r\n      //console.log(document.querySelector(\".page\"));\r\n    });\r\n    /* this.$router.beforeEach((to, from,next) => {\r\n      console.log(\"3\" + document.querySelector(\".theme-container\"));\r\n      next();\r\n    }); */\r\n    // 监听,当路由发生变化的时候执行\r\n    this.$router.afterEach((to, from) => {\r\n      this.$nextTick(function() {\r\n        //页面Dom加载完成后执行\r\n        if (to.path != from.path) {\r\n          // console.log(to.path)\r\n          this.initGitalk(to);\r\n        }\r\n      });\r\n    });\r\n  },\r\n  // 监听,当路由发生变化的时候执行\r\n  watch: {\r\n    /* $route: {\r\n      handler: function (to, from) {\r\n        this.$nextTick(function () { //页面加载完成后执行\r\n          console.log(location.href);\r\n          console.log(document.querySelector('.page'));\r\n        })\r\n      },\r\n      // 深度观察监听\r\n      deep: true\r\n    } */\r\n  },\r\n  updated() {},\r\n  methods: {\r\n    /* mounted:html加载完成后执行。执行顺序：子组件-父组件 */\r\n    /** 初始化Gitalk，因为组件加载顺序问题，第一次获取不到.page DOM元素.\r\n      暂时用setInterval函数解决. */\r\n    /**\r\n     * 延时触发初始化Gitalk\r\n     */\r\n    initGitalk(route) {\r\n      let pageElem = document.querySelector(\".page\");\r\n      // let pageElem = document.querySelector(\".page\");\r\n      // let pageElem = document.querySelector(\"#id\");\r\n      console.debug(this.$myGitalkAppName + \">>>>initGitalk\");\r\n      if (!pageElem) {\r\n        let retryCount = 0;\r\n        // 500毫秒执行一次check(() => 解决setTimeout、setInterval内this调用失效的解决办法)\r\n        // https://blog.csdn.net/aiyawei123/article/details/81867304\r\n        const timerCheckElem = setInterval(() => {\r\n          // 超过最大重试次数，直接退出\r\n          if (retryCount >= this.data.maxRetryCount) {\r\n            // 清除定时器\r\n            clearInterval(timerCheckElem);\r\n            return;\r\n          }\r\n          // 递增重试次数\r\n          retryCount++;\r\n          if (\r\n            this.pluginConfig.home &&\r\n            this.$page.frontmatter &&\r\n            this.$page.frontmatter.home\r\n          ) {\r\n            // 首页添加评论\r\n            let appElem = document.querySelector(\".theme-container\");\r\n            if (appElem) {\r\n              clearInterval(timerCheckElem);\r\n              this.loadGitalk(route, appElem);\r\n            }\r\n          } else {\r\n            //console.log(\"Gitalk check Dom()\")\r\n            pageElem = document.querySelector(\".page\");\r\n            if (pageElem) {\r\n              clearInterval(timerCheckElem);\r\n              this.loadGitalk(route, pageElem);\r\n            }\r\n          }\r\n        }, this.data.defaultCheckMinutes);\r\n      } else {\r\n        this.loadGitalk(route, pageElem);\r\n      }\r\n    },\r\n    /**\r\n     * 加载Gitalk\r\n     * @param {*} to\r\n     */\r\n    loadGitalk(to, elem) {\r\n      let commentsContainer = document.getElementById(this.data.elementName);\r\n      if (!commentsContainer) {\r\n        commentsContainer = document.createElement(\"div\");\r\n        commentsContainer.id = this.data.elementName;\r\n        commentsContainer.classList &&\r\n          commentsContainer.classList.add(\"content\");\r\n      } else {\r\n        // 清空DOM元素\r\n        commentsContainer.innerHTML = \"\";\r\n      }\r\n      const $page = !!elem ? elem : document.querySelector(\".page\");\r\n      //const $page = document.querySelector('.page');\r\n      if ($page) {\r\n        // FIXME (.page)第一次进入由于会刷新二次，所以第一次不显示\r\n        $page.appendChild(commentsContainer);\r\n        if (typeof Gitalk !== \"undefined\" && Gitalk instanceof Function) {\r\n          // FIXME Gitalk获取到的title是上一个页面的title，暂时这样解决\r\n          if (window && window.document) {\r\n            // 因为组件加载顺序问题，先执行的子组件。执行顺序：子组件-父组件\r\n            // @see packages\\@vuepress\\core\\lib\\client\\root-mixins\\updateMeta.js\r\n            // 最好别调用this.updateMeta() 只是为了让Gitalk能获取到实时`document.title`而已\r\n            // @see file `node_modules\\gitalk\\dist\\gitalk.js`,code `_this.options =`\r\n            //this.updateMeta()\r\n            window.document.title = this.$title;\r\n            //console.log(window.document.title);\r\n            //window.document.title = this.$page.title;\r\n            // @see packages\\@vuepress\\core\\lib\\node\\ClientComputedMixin.js\r\n            //console.log(this.$title);\r\n          }\r\n          // to.fullPath\r\n          //this.renderGitalk(this.$page.title || to.path);\r\n          this.renderGitalk(this.$title || this.$page.title || to.path);\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 渲染Gitalk\r\n     * @param {*} gitalkId\r\n     */\r\n    renderGitalk(gitalkId) {\r\n      // debug\r\n      //console.log(gitalkId)\r\n      // Name is too long (maximum is 50 characters)\r\n      if (typeof gitalkId === \"string\") {\r\n        gitalkId = gitalkId.length > 50 ? gitalkId.substr(0, 50) : gitalkId;\r\n      }\r\n      const gitalk = new Gitalk({\r\n        clientID: this.pluginConfig.gitalk.clientID,\r\n        // come from github development\r\n        clientSecret: this.pluginConfig.gitalk.clientSecret,\r\n        repo: this.pluginConfig.gitalk.repo,\r\n        // GitHub repository 所有者，可以是个人或者组织。\r\n        owner: this.pluginConfig.gitalk.owner,\r\n        // GitHub repository 的所有者和合作者 (对这个 repository 有写权限的用户)。\r\n        admin: !!this.pluginConfig.gitalk.admin\r\n          ? this.pluginConfig.gitalk.admin\r\n          : [this.pluginConfig.gitalk.owner],\r\n        id: gitalkId, // Ensure uniqueness and length less than 50 | 页面的唯一标识。长度必须小于50。\r\n        distractionFreeMode: false, // Facebook-like distraction free mode\r\n        language: !!this.pluginConfig.gitalk.language\r\n          ? this.pluginConfig.gitalk.language\r\n          : \"zh-CN\"\r\n      });\r\n      // console.log(gitalk)\r\n      //console.log(window.document.title)\r\n      gitalk.render(this.data.elementName);\r\n    },\r\n    // 统一输出日志\r\n    plugin_log(str = this.pluginConfig.pluginName) {\r\n      if (this.pluginConfig.log) {\r\n        console.log && console.log(str);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\"></style>"]}]}